(this.webpackJsonp=this.webpackJsonp||[]).push([[578,10,58,64,68,69,70,78,113,114,115,145,826,829],{"+bPb":function(e,t,i){var n=i("gEtM");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i("wd1e").default)("20d8e90b",n,!0,{})},"+h6Y":function(e,t,i){"use strict";var n=i("4pZC"),s=i.n(n),r=(i("uHfJ"),i("R0RX"),i("ujLG"),i("3R5X"),i("HaUQ"),i("h8Et"),i("g+EE"),i("CI/v")),a=i.n(r),o=i("+lve"),l=i("teVv"),c=i("Zxcm"),d=i("mpzd"),u=i("t9l/"),p=i("dYBJ"),h=i("5ee2"),m=i("OwKD"),f=i("cuRJ"),g=i("OkMp"),v=i("0X+3"),b=i("u1ru"),y=i("/LsX"),k=i("Q04j"),w=i("tSMP"),_=i("zLBL"),S=i("ly/8"),E=i("ENs1"),D=i("tzcr"),T=i.n(D);const C=Object(u.a)("Error creating label.");var I={components:{GlAlert:k.a,GlButton:f.a,GlFormInput:w.a,GlLink:b.a,GlLoadingIcon:_.a},directives:{GlTooltip:S.a},props:{fullPath:{type:String,required:!0},attrWorkspacePath:{type:String,required:!0},labelCreateType:{type:String,required:!0},workspaceType:{type:String,required:!0}},data:()=>({labelTitle:"",selectedColor:"",labelCreateInProgress:!1,error:void 0}),computed:{disableCreate(){return!this.labelTitle.length||!this.selectedColor.length||this.labelCreateInProgress},suggestedColors(){const e=gon.suggested_label_colors;return Object.keys(e).map((function(t){return{[t]:e[t]}}))},mutationVariables(){const e=this.labelCreateType===m.c.group?"groupPath":"projectPath";return{title:this.labelTitle,color:this.selectedColor,[e]:this.attrWorkspacePath}}},methods:{getColorCode:e=>Object.keys(e).pop(),getColorName:e=>Object.values(e).pop(),handleColorClick(e){this.selectedColor=this.getColorCode(e)},updateLabelsInCache(e,t){const{query:i}=h.D[this.workspaceType],n=e.readQuery({query:i,variables:{fullPath:this.fullPath,searchTerm:""}}),s=new Intl.Collator("en"),r=Object(E.a)(n,(function(e){const{nodes:i}=e.workspace.labels;i.push(t),i.sort((function(e,t){return s.compare(e.title,t.title)}))}));e.writeQuery({query:i,variables:{fullPath:this.fullPath,searchTerm:""},data:r})},async createLabel(){var e=this;this.labelCreateInProgress=!0;try{const{data:{labelCreate:t}}=await this.$apollo.mutate({mutation:T.a,variables:this.mutationVariables,update:function(t,i){let{data:{labelCreate:{label:n}}}=i;n&&e.updateLabelsInCache(t,n)}});t.errors.length?[this.error]=t.errors:this.$emit("hideCreateView")}catch{Object(l.createAlert)({message:C})}this.labelCreateInProgress=!1}}},O=i("bPvS"),j=Object(O.a)(I,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"labels-select-contents-create js-labels-create"},[i("div",{staticClass:"dropdown-input"},[e.error?i("gl-alert",{staticClass:"gl-mt-3",attrs:{variant:"danger",dismissible:!1}},[e._v("\n      "+e._s(e.error)+"\n    ")]):e._e(),e._v(" "),i("gl-form-input",{staticClass:"gl-mt-3",attrs:{placeholder:e.__("Name new label"),autofocus:!0,"data-testid":"label-title-input"},model:{value:e.labelTitle,callback:function(t){e.labelTitle="string"==typeof t?t.trim():t},expression:"labelTitle"}})],1),e._v(" "),i("div",{staticClass:"dropdown-content gl-px-3"},[i("div",{staticClass:"suggest-colors suggest-colors-dropdown gl-mt-0! gl-mb-3! gl-mb-0"},e._l(e.suggestedColors,(function(t,n){return i("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip:tooltipcontainer",arg:"tooltipcontainer"}],key:n,style:{backgroundColor:e.getColorCode(t)},attrs:{title:e.getColorName(t)},on:{click:function(i){return i.preventDefault(),e.handleColorClick(t)}}})})),1),e._v(" "),i("div",{staticClass:"color-input-container gl-display-flex"},[i("span",{staticClass:"dropdown-label-color-preview gl-relative gl-display-inline-block",style:{backgroundColor:e.selectedColor},attrs:{"data-testid":"selected-color"}}),e._v(" "),i("gl-form-input",{staticClass:"gl-rounded-top-left-none gl-rounded-bottom-left-none gl-mb-2",attrs:{placeholder:e.__("Use custom color #FF0000"),"data-testid":"selected-color-text"},model:{value:e.selectedColor,callback:function(t){e.selectedColor="string"==typeof t?t.trim():t},expression:"selectedColor"}})],1)]),e._v(" "),i("div",{staticClass:"dropdown-actions gl-display-flex gl-justify-content-space-between gl-pt-3 gl-px-3"},[i("gl-button",{staticClass:"gl-display-flex gl-align-items-center",attrs:{disabled:e.disableCreate,category:"primary",variant:"confirm","data-testid":"create-button"},on:{click:e.createLabel}},[e.labelCreateInProgress?i("gl-loading-icon",{staticClass:"mr-1",attrs:{size:"sm",inline:!0}}):e._e(),e._v("\n      "+e._s(e.__("Create"))+"\n    ")],1),e._v(" "),i("gl-button",{staticClass:"js-btn-cancel-create",attrs:{"data-testid":"cancel-button"},on:{click:function(t){return t.stopPropagation(),e.$emit("hideCreateView")}}},[e._v("\n      "+e._s(e.__("Cancel"))+"\n    ")])],1)])}),[],!1,null,null,null).exports,x=i("m6pR"),A=i("JBkr"),N=i("Cf2W"),F=i.n(N),L=i("nnCV"),P={components:{GlDropdownForm:x.a,GlDropdownItem:v.a,GlLoadingIcon:_.a,GlIntersectionObserver:A.a,LabelItem:L.a},model:{prop:"localSelectedLabels"},props:{allowMultiselect:{type:Boolean,required:!0},localSelectedLabels:{type:Array,required:!0},fullPath:{type:String,required:!0},searchKey:{type:String,required:!0},workspaceType:{type:String,required:!0}},data:()=>({labels:[],isVisible:!1}),apollo:{labels:{query(){return h.D[this.workspaceType].query},variables(){return{fullPath:this.fullPath,searchTerm:this.searchKey}},skip(){return 1===this.searchKey.length||!this.isVisible},update:function(e){var t,i;return(null===(t=e.workspace)||void 0===t||null===(i=t.labels)||void 0===i?void 0:i.nodes)||[]},error(){Object(l.createAlert)({message:Object(u.a)("Error fetching labels.")})}}},computed:{labelsFetchInProgress(){return this.$apollo.queries.labels.loading},localSelectedLabelsIds(){return this.localSelectedLabels.map((function(e){return Object(o.d)(e.id)}))},visibleLabels(){return this.searchKey?F.a.filter(this.labels,this.searchKey,{key:["title"]}):this.labels},showNoMatchingResultsMessage(){return Boolean(this.searchKey)&&0===this.visibleLabels.length},shouldHighlightFirstItem(){return""!==this.searchKey&&this.visibleLabels.length>0}},methods:{isLabelSelected(e){return this.localSelectedLabelsIds.includes(Object(o.d)(e.id))},scrollIntoViewIfNeeded(){const e=this.$refs.labelsListContainer.querySelector(".is-focused");if(e){const t=this.$refs.labelsListContainer.getBoundingClientRect(),i=e.getBoundingClientRect();i.bottom>t.bottom?this.$refs.labelsListContainer.scrollTop+=i.bottom-t.bottom:i.top<t.top&&(this.$refs.labelsListContainer.scrollTop-=t.top-i.top)}},updateSelectedLabels(e){let t;t=this.isLabelSelected(e)?this.localSelectedLabels.filter((function(t){let{id:i}=t;return i!==Object(o.d)(e.id)&&i!==e.id})):[...this.localSelectedLabels,e],this.$emit("input",t)},handleLabelClick(e){this.updateSelectedLabels(e),this.allowMultiselect||this.$emit("closeDropdown",this.localSelectedLabels)},onDropdownAppear(){this.isVisible=!0},selectFirstItem(){this.shouldHighlightFirstItem&&this.handleLabelClick(this.visibleLabels[0])}}},R=Object(O.a)(P,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-intersection-observer",{on:{appear:e.onDropdownAppear}},[i("gl-dropdown-form",{staticClass:"labels-select-contents-list js-labels-list"},[i("div",{ref:"labelsListContainer",attrs:{"data-testid":"dropdown-content"}},[e.labelsFetchInProgress?i("gl-loading-icon",{staticClass:"labels-fetch-loading gl-align-items-center gl-w-full gl-h-full gl-mb-3",attrs:{size:"lg"}}):[e._l(e.visibleLabels,(function(t,n){return i("gl-dropdown-item",{key:t.id,attrs:{"is-checked":e.isLabelSelected(t),"is-check-centered":"","is-check-item":"",active:e.shouldHighlightFirstItem&&0===n,"active-class":"is-focused","data-testid":"labels-list"},nativeOn:{"!click":function(i){return i.stopPropagation(),e.handleLabelClick(t)}}},[i("label-item",{attrs:{label:t}})],1)})),e._v(" "),i("gl-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:e.showNoMatchingResultsMessage,expression:"showNoMatchingResultsMessage"}],staticClass:"gl-p-3 gl-text-center",attrs:{"data-testid":"no-results"}},[e._v("\n          "+e._s(e.__("No matching results"))+"\n        ")])]],2)])],1)}),[],!1,null,null,null).exports,q={components:{GlDropdownItem:v.a},inject:["allowLabelCreate","labelsManagePath"],props:{footerCreateLabelTitle:{type:String,required:!0},footerManageLabelTitle:{type:String,required:!0}}},$=Object(O.a)(q,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{"data-testid":"dropdown-footer"}},[e.allowLabelCreate?i("gl-dropdown-item",{attrs:{"data-testid":"create-label-button"},nativeOn:{"!click":function(t){return t.stopPropagation(),e.$emit("toggleDropdownContentsCreateView")}}},[e._v("\n    "+e._s(e.footerCreateLabelTitle)+"\n  ")]):e._e(),e._v(" "),i("gl-dropdown-item",{attrs:{href:e.labelsManagePath},nativeOn:{"!click":function(e){e.stopPropagation()}}},[e._v("\n    "+e._s(e.footerManageLabelTitle)+"\n  ")])],1)}),[],!1,null,null,null).exports,B=i("6HTq"),M={components:{GlButton:f.a,GlSearchBoxByType:B.a},props:{labelsCreateTitle:{type:String,required:!0},labelsListTitle:{type:String,required:!0},showDropdownContentsCreateView:{type:Boolean,required:!0},labelsFetchInProgress:{type:Boolean,required:!1,default:!1},searchKey:{type:String,required:!0},isStandalone:{type:Boolean,required:!1,default:!1}},computed:{dropdownTitle(){return this.showDropdownContentsCreateView?this.labelsCreateTitle:this.labelsListTitle}},methods:{focusInput(){var e;null===(e=this.$refs.searchInput)||void 0===e||e.focusInput()}}},U=Object(O.a)(M,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{"data-testid":"dropdown-header"}},[e.isStandalone?e._e():i("div",{staticClass:"dropdown-title gl-display-flex gl-align-items-center gl-pt-0 gl-pb-3! gl-mb-0",attrs:{"data-testid":"dropdown-header-title"}},[e.showDropdownContentsCreateView?i("gl-button",{staticClass:"js-btn-back dropdown-header-button gl-p-0",attrs:{"aria-label":e.__("Go back"),variant:"link",size:"small",icon:"arrow-left","data-testid":"go-back-button"},on:{click:function(t){return t.stopPropagation(),e.$emit("toggleDropdownContentsCreateView")}}}):e._e(),e._v(" "),i("span",{staticClass:"gl-flex-grow-1"},[e._v(e._s(e.dropdownTitle))]),e._v(" "),i("gl-button",{staticClass:"dropdown-header-button gl-p-0!",attrs:{"aria-label":e.__("Close"),variant:"link",size:"small",icon:"close","data-testid":"close-button","data-qa-selector":"close_labels_dropdown_button"},on:{click:function(t){return e.$emit("closeDropdown")}}})],1),e._v(" "),e.showDropdownContentsCreateView?e._e():i("gl-search-box-by-type",{ref:"searchInput",attrs:{value:e.searchKey,placeholder:e.__("Search labels"),disabled:e.labelsFetchInProgress,"data-qa-selector":"dropdown_input_field","data-testid":"dropdown-input-field"},on:{input:function(t){return e.$emit("input",t)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("searchEnter",t)}}})],1)}),[],!1,null,null,null).exports;const V=function(e){return e===m.b.Sidebar},z=function(e){return e===m.b.Standalone};var W={components:{DropdownContentsLabelsView:R,DropdownContentsCreateView:j,DropdownHeader:U,DropdownFooter:$,GlButton:f.a,GlDropdown:g.a,GlDropdownItem:v.a,GlLink:b.a},props:{labelsCreateTitle:{type:String,required:!0},selectedLabels:{type:Array,required:!0},allowMultiselect:{type:Boolean,required:!0},labelsListTitle:{type:String,required:!0},dropdownButtonText:{type:String,required:!0},footerCreateLabelTitle:{type:String,required:!0},footerManageLabelTitle:{type:String,required:!0},variant:{type:String,required:!0},isVisible:{type:Boolean,required:!1,default:!1},fullPath:{type:String,required:!0},workspaceType:{type:String,required:!0},attrWorkspacePath:{type:String,required:!0},labelCreateType:{type:String,required:!0}},data(){return{showDropdownContentsCreateView:!1,localSelectedLabels:[...this.selectedLabels],isDirty:!1,searchKey:""}},computed:{dropdownContentsView(){return this.showDropdownContentsCreateView?"dropdown-contents-create-view":"dropdown-contents-labels-view"},dropdownTitle(){return this.showDropdownContentsCreateView?this.labelsCreateTitle:this.labelsListTitle},buttonText(){return this.localSelectedLabels.length?this.localSelectedLabels.length>1?Object(u.h)(Object(u.g)("LabelSelect|%{firstLabelName} +%{remainingLabelCount} more"),{firstLabelName:this.localSelectedLabels[0].title,remainingLabelCount:this.localSelectedLabels.length-1}):this.localSelectedLabels[0].title:this.dropdownButtonText||Object(u.a)("Label")},showDropdownFooter(){return!this.showDropdownContentsCreateView&&!this.isStandalone},isStandalone(){return z(this.variant)}},watch:{localSelectedLabels:{handler(){this.isDirty=!0},deep:!0},isVisible(e){e?(this.$refs.dropdown.show(),this.isDirty=!1,this.localSelectedLabels=this.selectedLabels):(this.$refs.dropdown.hide(),this.setLabels())},selectedLabels(e){this.isDirty||(this.localSelectedLabels=e)}},created(){this.debouncedSearchKeyUpdate=s()(this.setSearchKey,y.h)},beforeDestroy(){this.debouncedSearchKeyUpdate.cancel()},methods:{toggleDropdownContentsCreateView(){this.showDropdownContentsCreateView=!this.showDropdownContentsCreateView},toggleDropdownContent(){var e;this.toggleDropdownContentsCreateView(),null!==(e=this.$refs.dropdown)&&void 0!==e&&e.$refs.dropdown&&this.$refs.dropdown.$refs.dropdown.$_popper.scheduleUpdate()},setLabels(){this.isDirty&&this.$emit("setLabels",this.localSelectedLabels)},handleDropdownHide(){this.$emit("closeDropdown"),V(this.variant)||this.setLabels()},setSearchKey(e){this.searchKey=e},setFocus(){this.$refs.header.focusInput()},hideDropdown(){this.$refs.dropdown.hide()},showDropdown(){this.$refs.dropdown.show()},clearSearch(){this.allowMultiselect&&!this.isStandalone&&(this.searchKey="",this.setFocus())},selectFirstItem(){this.$refs.dropdownContentsView.selectFirstItem()}}},H=Object(O.a)(W,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-dropdown",{ref:"dropdown",staticClass:"gl-w-full",attrs:{text:e.buttonText,block:"","data-testid":"labels-select-dropdown-contents","data-qa-selector":"labels_dropdown_content"},on:{hide:e.handleDropdownHide,shown:e.setFocus},scopedSlots:e._u([{key:"header",fn:function(){return[i("dropdown-header",{ref:"header",attrs:{"search-key":e.searchKey,"labels-create-title":e.labelsCreateTitle,"labels-list-title":e.labelsListTitle,"show-dropdown-contents-create-view":e.showDropdownContentsCreateView,"is-standalone":e.isStandalone},on:{toggleDropdownContentsCreateView:e.toggleDropdownContent,closeDropdown:e.hideDropdown,input:e.debouncedSearchKeyUpdate,searchEnter:e.selectFirstItem}})]},proxy:!0},{key:"default",fn:function(){return[i(e.dropdownContentsView,{ref:"dropdownContentsView",tag:"component",attrs:{"search-key":e.searchKey,"allow-multiselect":e.allowMultiselect,"full-path":e.fullPath,"workspace-type":e.workspaceType,"attr-workspace-path":e.attrWorkspacePath,"label-create-type":e.labelCreateType},on:{hideCreateView:e.toggleDropdownContent,input:e.clearSearch},model:{value:e.localSelectedLabels,callback:function(t){e.localSelectedLabels=t},expression:"localSelectedLabels"}})]},proxy:!0},{key:"footer",fn:function(){return[e.showDropdownFooter?i("dropdown-footer",{attrs:{"footer-create-label-title":e.footerCreateLabelTitle,"footer-manage-label-title":e.footerManageLabelTitle},on:{toggleDropdownContentsCreateView:e.toggleDropdownContent}}):e._e()]},proxy:!0}])})}),[],!1,null,null,null).exports,G=i("ZMwX"),K=i.n(G),Y=i("H8gz"),Q=i("gcrt"),X=i("oj/M"),J={directives:{GlTooltip:S.a},components:{GlIcon:Y.a,GlLabel:Q.a},inject:["allowScopedLabels"],props:{disableLabels:{type:Boolean,required:!1,default:!1},selectedLabels:{type:Array,required:!0},allowLabelRemove:{type:Boolean,required:!0},labelsFilterBasePath:{type:String,required:!0},labelsFilterParam:{type:String,required:!0}},computed:{sortedSelectedLabels(){return K()(this.selectedLabels,(function(e){return Object(X.D)(e)?0:1}))},labelsList(){const e=this.selectedLabels.length?this.selectedLabels.slice(0,5).map((function(e){return e.title})).join(", "):Object(u.g)("LabelSelect|Labels");return this.selectedLabels.length>5?Object(u.h)(Object(u.g)("LabelSelect|%{labelsString}, and %{remainingLabelCount} more"),{labelsString:e,remainingLabelCount:this.selectedLabels.length-5}):e}},methods:{labelFilterUrl(e){return`${this.labelsFilterBasePath}?${this.labelsFilterParam}[]=${encodeURIComponent(e.title)}`},scopedLabel(e){return this.allowScopedLabels&&Object(X.D)(e)},removeLabel(e){this.$emit("onLabelRemove",e)},handleCollapsedClick(){this.$emit("onCollapsedValueClick")}}},Z={components:{DropdownValue:Object(O.a)(J,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"value issuable-show-labels js-value",class:{"has-labels":e.selectedLabels.length},attrs:{"data-testid":"value-wrapper"}},[i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.labelsList},on:{click:e.handleCollapsedClick}},[i("gl-icon",{attrs:{name:"labels"}}),e._v(" "),i("span",{staticClass:"collapse-truncated-title gl-pt-2 gl-px-3 gl-font-sm"},[e._v(e._s(e.selectedLabels.length))])],1),e._v(" "),e.selectedLabels.length?e._l(e.sortedSelectedLabels,(function(t){return i("gl-label",{key:t.id,staticClass:"hide-collapsed",attrs:{"data-qa-selector":"selected_label_content","data-qa-label-name":t.title,title:t.title,description:t.description,"background-color":t.color,target:e.labelFilterUrl(t),scoped:e.scopedLabel(t),"show-close-button":e.allowLabelRemove,disabled:e.disableLabels,"tooltip-placement":"top"},on:{close:function(i){return e.removeLabel(t.id)}}})})):i("span",{staticClass:"text-secondary hide-collapsed",attrs:{"data-testid":"empty-placeholder"}},[e._t("default")],2)],2)}),[],!1,null,null,null).exports,DropdownContents:H,SidebarEditableItem:p.a},mixins:[Object(c.a)()],inject:{allowLabelEdit:{default:!1}},props:{iid:{type:String,required:!1,default:""},fullPath:{type:String,required:!0},allowLabelRemove:{type:Boolean,required:!1,default:!1},allowMultiselect:{type:Boolean,required:!1,default:!1},variant:{type:String,required:!1,default:m.b.Sidebar},labelsFilterBasePath:{type:String,required:!1,default:""},labelsFilterParam:{type:String,required:!1,default:"label_name"},dropdownButtonText:{type:String,required:!1,default:Object(u.a)("Label")},labelsListTitle:{type:String,required:!1,default:Object(u.a)("Assign labels")},labelsCreateTitle:{type:String,required:!1,default:Object(u.a)("Create group label")},footerCreateLabelTitle:{type:String,required:!1,default:Object(u.a)("Create group label")},footerManageLabelTitle:{type:String,required:!1,default:Object(u.a)("Manage group labels")},issuableType:{type:String,required:!0},workspaceType:{type:String,required:!0},attrWorkspacePath:{type:String,required:!0},labelCreateType:{type:String,required:!0}},data:()=>({contentIsOnViewport:!0,issuable:null,labelsSelectInProgress:!1,oldIid:null,sidebarExpandedOnClick:!1}),computed:{isLoading(){return this.labelsSelectInProgress||this.$apollo.queries.issuable.loading},issuableLabelIds(){return this.issuableLabels.map((function(e){return e.id}))},issuableLabels(){var e;return(null===(e=this.issuable)||void 0===e?void 0:e.labels.nodes)||[]},issuableId(){var e;return null===(e=this.issuable)||void 0===e?void 0:e.id}},apollo:{issuable:{query(){return h.s[this.issuableType].issuableQuery},skip(){return!V(this.variant)},variables(){return{iid:this.iid,fullPath:this.fullPath}},update(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.issuable},error(){Object(l.createAlert)({message:Object(u.a)("Error fetching labels.")})},subscribeToMore:{document:()=>a.a,variables(){return{issuableId:this.issuableId}},skip(){return!this.issuableId||!this.isDropdownVariantSidebar},updateQuery(e,t){let{subscriptionData:{data:{issuableLabelsUpdated:i}}}=t;if(i){const{id:e,labels:{nodes:t}}=i;this.$emit("updateSelectedLabels",{id:e,labels:t})}}}}},watch:{iid(e,t){this.oldIid=t}},mounted(){document.addEventListener("toggleSidebarRevealLabelsDropdown",this.handleCollapsedValueClick)},beforeDestroy(){document.removeEventListener("toggleSidebarRevealLabelsDropdown",this.handleCollapsedValueClick)},methods:{handleDropdownClose(e){""!==this.iid?this.updateSelectedLabels(this.getUpdateVariables(e)):this.$emit("updateSelectedLabels",{labels:e}),this.collapseEditableItem()},collapseEditableItem(){var e;null===(e=this.$refs.editable)||void 0===e||e.collapse(),this.sidebarExpandedOnClick&&(this.sidebarExpandedOnClick=!1,this.$emit("toggleCollapse"))},handleCollapsedValueClick(){var e=this;this.sidebarExpandedOnClick=!0,this.$emit("toggleCollapse"),s()((function(){e.$refs.editable.toggle(),e.$refs.dropdownContents.showDropdown()}),m.a)()},getUpdateVariables(e){let t=[];t=e.map((function(e){let{id:t}=e;return t}));const i=this.oldIid||this.iid,n={iid:i,projectPath:this.fullPath,labelIds:t};switch(this.issuableType){case d.c.Issue:return n;case d.c.MergeRequest:return{...n,operationMode:o.a.Replace};case d.c.Epic:return{iid:i,groupPath:this.fullPath,addLabelIds:t.map((function(e){return Object(o.d)(e)})),removeLabelIds:this.issuableLabelIds.filter((function(e){return!t.includes(e)})).map((function(e){return Object(o.d)(e)}))};default:return{}}},updateSelectedLabels(e){var t=this;this.labelsSelectInProgress=!0,this.$apollo.mutate({mutation:h.s[this.issuableType].mutation,variables:{input:e}}).then((function(e){var i,n,s,r,a,o,l;let{data:c}=e;if(null!==(i=c.updateIssuableLabels)&&void 0!==i&&null!==(n=i.errors)&&void 0!==n&&n.length)throw new Error;t.$emit("updateSelectedLabels",{id:null===(s=c.updateIssuableLabels)||void 0===s||null===(r=s.issuable)||void 0===r?void 0:r.id,labels:null===(a=c.updateIssuableLabels)||void 0===a||null===(o=a.issuable)||void 0===o||null===(l=o.labels)||void 0===l?void 0:l.nodes})})).catch((function(e){return Object(l.createAlert)({message:Object(u.a)("An error occurred while updating labels."),captureError:!0,error:e})})).finally((function(){t.labelsSelectInProgress=!1}))},getRemoveVariables(e){const t={iid:this.iid,projectPath:this.fullPath};switch(this.issuableType){case d.c.Issue:return{...t,removeLabelIds:[e]};case d.c.MergeRequest:return{...t,labelIds:[e],operationMode:o.a.Remove};case d.c.Epic:return{iid:this.iid,removeLabelIds:[Object(o.d)(e)],groupPath:this.fullPath};default:return{}}},handleLabelRemove(e){this.updateSelectedLabels(this.getRemoveVariables(e)),this.$emit("onLabelRemove",e)},isDropdownVariantSidebar:V,isDropdownVariantStandalone:z,isDropdownVariantEmbedded:function(e){return e===m.b.Embedded}}},ee=Object(O.a)(Z,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"labels-select-wrapper gl-relative",class:{"is-standalone":e.isDropdownVariantStandalone(e.variant),"is-embedded":e.isDropdownVariantEmbedded(e.variant)},attrs:{"data-testid":"sidebar-labels","data-qa-selector":"labels_block"}},[e.isDropdownVariantSidebar(e.variant)?[i("sidebar-editable-item",{ref:"editable",attrs:{title:e.__("Labels"),loading:e.isLoading,"can-edit":e.allowLabelEdit},on:{open:function(t){e.oldIid=null}},scopedSlots:e._u([{key:"collapsed",fn:function(){return[i("dropdown-value",{attrs:{"disable-labels":e.labelsSelectInProgress,"selected-labels":e.issuableLabels,"allow-label-remove":e.allowLabelRemove,"labels-filter-base-path":e.labelsFilterBasePath,"labels-filter-param":e.labelsFilterParam},on:{onLabelRemove:e.handleLabelRemove,onCollapsedValueClick:e.handleCollapsedValueClick}},[e._t("default")],2)]},proxy:!0},{key:"default",fn:function(t){var n=t.edit;return[i("dropdown-value",{staticClass:"gl-mb-2",attrs:{"disable-labels":e.labelsSelectInProgress,"selected-labels":e.issuableLabels,"allow-label-remove":e.allowLabelRemove,"labels-filter-base-path":e.labelsFilterBasePath,"labels-filter-param":e.labelsFilterParam},on:{onLabelRemove:e.handleLabelRemove}},[e._t("default")],2),e._v(" "),i("dropdown-contents",{ref:"dropdownContents",attrs:{"dropdown-button-text":e.dropdownButtonText,"allow-multiselect":e.allowMultiselect,"labels-list-title":e.labelsListTitle,"footer-create-label-title":e.footerCreateLabelTitle,"footer-manage-label-title":e.footerManageLabelTitle,"labels-create-title":e.labelsCreateTitle,"selected-labels":e.issuableLabels,variant:e.variant,"is-visible":n,"full-path":e.fullPath,"workspace-type":e.workspaceType,"attr-workspace-path":e.attrWorkspacePath,"label-create-type":e.labelCreateType},on:{setLabels:e.handleDropdownClose,closeDropdown:e.collapseEditableItem}})]}}],null,!0)})]:i("dropdown-contents",{ref:"dropdownContents",attrs:{"allow-multiselect":e.allowMultiselect,"dropdown-button-text":e.dropdownButtonText,"labels-list-title":e.labelsListTitle,"footer-create-label-title":e.footerCreateLabelTitle,"footer-manage-label-title":e.footerManageLabelTitle,"labels-create-title":e.labelsCreateTitle,"selected-labels":e.issuableLabels,variant:e.variant,"full-path":e.fullPath,"workspace-type":e.workspaceType,"attr-workspace-path":e.attrWorkspacePath,"label-create-type":e.labelCreateType},on:{setLabels:e.handleDropdownClose}})],2)}),[],!1,null,null,null);t.a=ee.exports},"+iVy":function(e,t,i){"use strict";i.d(t,"b",(function(){return v})),i.d(t,"a",(function(){return b}));var n=i("Z2pp"),s=i("jyii"),r=i("/Zha"),a=i("9CRu"),o=i("gCUY"),l=i("Sq3g"),c=i("ySPH"),d=i("yxQL"),u=i("1pIC"),p=i("GpHn"),h=i("R+nN");function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){g(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var v=Object(o.c)(f(f({},d.b),{},{text:{type:String},html:{type:String},variant:{type:String,default:"secondary"},size:{type:String},block:{type:Boolean,default:!1},menuClass:{type:[String,Array,Object]},toggleTag:{type:String,default:"button"},toggleText:{type:String,default:"Toggle dropdown"},toggleClass:{type:[String,Array,Object]},noCaret:{type:Boolean,default:!1},split:{type:Boolean,default:!1},splitHref:{type:String},splitTo:{type:[String,Object]},splitVariant:{type:String},splitClass:{type:[String,Array,Object]},splitButtonType:{type:String,default:"button",validator:function(e){return Object(a.a)(["button","submit","reset"],e)}},lazy:{type:Boolean,default:!1},role:{type:String,default:"menu"}}),s.k),b=n.a.extend({name:s.k,mixins:[u.a,d.a,p.a],props:v,computed:{dropdownClasses:function(){var e=this.block,t=this.split;return[this.directionClass,this.boundaryClass,{show:this.visible,"btn-group":t||!e,"d-flex":e&&t}]},menuClasses:function(){return[this.menuClass,{"dropdown-menu-right":this.right,show:this.visible}]},toggleClasses:function(){var e=this.split;return[this.toggleClass,{"dropdown-toggle-split":e,"dropdown-toggle-no-caret":this.noCaret&&!e}]}},render:function(e){var t=this.visible,i=this.variant,n=this.size,s=this.block,a=this.disabled,o=this.split,d=this.role,u=this.hide,p=this.toggle,m={variant:i,size:n,block:s,disabled:a},g=this.normalizeSlot("button-content"),v=this.hasNormalizedSlot("button-content")?{}:Object(l.a)(this.html,this.text),b=e();if(o){var y=this.splitTo,k=this.splitHref,w=this.splitButtonType,_=f(f({},m),{},{variant:this.splitVariant||i});y?_.to=y:k?_.href=k:w&&(_.type=w),b=e(h.a,{class:this.splitClass,attrs:{id:this.safeId("_BV_button_")},props:_,domProps:v,on:{click:this.onSplitClick},ref:"button"},g),g=[e("span",{class:["sr-only"]},[this.toggleText])],v={}}var S=e(h.a,{staticClass:"dropdown-toggle",class:this.toggleClasses,attrs:{id:this.safeId("_BV_toggle_"),"aria-haspopup":"true","aria-expanded":Object(c.e)(t)},props:f(f({},m),{},{tag:this.toggleTag,block:s&&!o}),domProps:v,on:{mousedown:this.onMousedown,click:p,keydown:p},ref:"toggle"},g),E=e("ul",{staticClass:"dropdown-menu",class:this.menuClasses,attrs:{role:d,tabindex:"-1","aria-labelledby":this.safeId(o?"_BV_button_":"_BV_toggle_")},on:{keydown:this.onKeydown},ref:"menu"},[!this.lazy||t?this.normalizeSlot(r.c,{hide:u}):e()]);return e("div",{staticClass:"dropdown b-dropdown",class:this.dropdownClasses,attrs:{id:this.safeId()}},[b,S,E])}})},"/CLh":function(e,t,i){!function(e){"use strict";function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.defaults={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var r=/[&<>"']/,a=/[&<>"']/g,o=/[<>"']|&(?!#?\w+;)/,l=/[<>"']|&(?!#?\w+;)/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d=function(e){return c[e]};function u(e,t){if(t){if(r.test(e))return e.replace(a,d)}else if(o.test(e))return e.replace(l,d);return e}var p=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function h(e){return e.replace(p,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var m=/(^|[^\[])\^/g;function f(e,t){e="string"==typeof e?e:e.source,t=t||"";var i={replace:function(t,n){return n=(n=n.source||n).replace(m,"$1"),e=e.replace(t,n),i},getRegex:function(){return new RegExp(e,t)}};return i}var g=/[^\w:]/g,v=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function b(e,t,i){if(e){var n;try{n=decodeURIComponent(h(i)).replace(g,"").toLowerCase()}catch(e){return null}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return null}t&&!v.test(i)&&(i=function(e,t){y[" "+e]||(k.test(e)?y[" "+e]=e+"/":y[" "+e]=T(e,"/",!0));var i=-1===(e=y[" "+e]).indexOf(":");return"//"===t.substring(0,2)?i?t:e.replace(w,"$1")+t:"/"===t.charAt(0)?i?t:e.replace(_,"$1")+t:e+t}(t,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(e){return null}return i}var y={},k=/^[^:]+:\/*[^/]*$/,w=/^([^:]+:)[\s\S]*$/,_=/^([^:]+:\/*[^/]*)[\s\S]*$/,S={exec:function(){}};function E(e){for(var t,i,n=1;n<arguments.length;n++)for(i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function D(e,t){var i=e.replace(/\|/g,(function(e,t,i){for(var n=!1,s=t;--s>=0&&"\\"===i[s];)n=!n;return n?"|":" |"})).split(/ \|/),n=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i}function T(e,t,i){var n=e.length;if(0===n)return"";for(var s=0;s<n;){var r=e.charAt(n-s-1);if(r!==t||i){if(r===t||!i)break;s++}else s++}return e.slice(0,n-s)}function C(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function I(e,t){if(t<1)return"";for(var i="";t>1;)1&t&&(i+=e),t>>=1,e+=e;return i+e}function O(e,t,i,n){var s=t.href,r=t.title?u(t.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;var o={type:"link",raw:i,href:s,title:r,text:a,tokens:n.inlineTokens(a,[])};return n.state.inLink=!1,o}return{type:"image",raw:i,href:s,title:r,text:u(a)}}var j=function(){function t(t){this.options=t||e.defaults}var i=t.prototype;return i.space=function(e){var t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}},i.code=function(e){var t=this.rules.block.code.exec(e);if(t){var i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:T(i,"\n")}}},i.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var i=t[0],n=function(e,t){var i=e.match(/^(\s+)(?:```)/);if(null===i)return t;var n=i[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=n.length?e.slice(n.length):e})).join("\n")}(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim():t[2],text:n}}},i.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var i=t[2].trim();if(/#$/.test(i)){var n=T(i,"#");this.options.pedantic?i=n.trim():n&&!/ $/.test(n)||(i=n.trim())}var s={type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:[]};return this.lexer.inline(s.text,s.tokens),s}},i.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},i.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var i=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(i,[]),text:i}}},i.list=function(e){var t=this.rules.block.list.exec(e);if(t){var i,s,r,a,o,l,c,d,u,p,h,m,f=t[1].trim(),g=f.length>1,v={type:"list",raw:"",ordered:g,start:g?+f.slice(0,-1):"",loose:!1,items:[]};f=g?"\\d{1,9}\\"+f.slice(-1):"\\"+f,this.options.pedantic&&(f=g?f:"[*+-]");for(var b=new RegExp("^( {0,3}"+f+")((?:[\t ][^\\n]*)?(?:\\n|$))");e&&(m=!1,t=b.exec(e))&&!this.rules.block.hr.test(e);){if(i=t[0],e=e.substring(i.length),d=t[2].split("\n",1)[0],u=e.split("\n",1)[0],this.options.pedantic?(a=2,h=d.trimLeft()):(a=(a=t[2].search(/[^ ]/))>4?1:a,h=d.slice(a),a+=t[1].length),l=!1,!d&&/^ *$/.test(u)&&(i+=u+"\n",e=e.substring(u.length+1),m=!0),!m)for(var y=new RegExp("^ {0,"+Math.min(3,a-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),k=new RegExp("^ {0,"+Math.min(3,a-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),w=new RegExp("^ {0,"+Math.min(3,a-1)+"}(?:```|~~~)"),_=new RegExp("^ {0,"+Math.min(3,a-1)+"}#");e&&(d=p=e.split("\n",1)[0],this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!w.test(d))&&!_.test(d)&&!y.test(d)&&!k.test(e);){if(d.search(/[^ ]/)>=a||!d.trim())h+="\n"+d.slice(a);else{if(l)break;h+="\n"+d}l||d.trim()||(l=!0),i+=p+"\n",e=e.substring(p.length+1)}v.loose||(c?v.loose=!0:/\n *\n *$/.test(i)&&(c=!0)),this.options.gfm&&(s=/^\[[ xX]\] /.exec(h))&&(r="[ ] "!==s[0],h=h.replace(/^\[[ xX]\] +/,"")),v.items.push({type:"list_item",raw:i,task:!!s,checked:r,loose:!1,text:h}),v.raw+=i}v.items[v.items.length-1].raw=i.trimRight(),v.items[v.items.length-1].text=h.trimRight(),v.raw=v.raw.trimRight();var S=v.items.length;for(o=0;o<S;o++){this.lexer.state.top=!1,v.items[o].tokens=this.lexer.blockTokens(v.items[o].text,[]);var E=v.items[o].tokens.filter((function(e){return"space"===e.type})),D=E.every((function(e){for(var t,i=0,s=n(e.raw.split(""));!(t=s()).done;)if("\n"===t.value&&(i+=1),i>1)return!0;return!1}));!v.loose&&E.length&&D&&(v.loose=!0,v.items[o].loose=!0)}return v}},i.html=function(e){var t=this.rules.block.html.exec(e);if(t){var i={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};return this.options.sanitize&&(i.type="paragraph",i.text=this.options.sanitizer?this.options.sanitizer(t[0]):u(t[0]),i.tokens=[],this.lexer.inline(i.text,i.tokens)),i}},i.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},i.table=function(e){var t=this.rules.block.table.exec(e);if(t){var i={type:"table",header:D(t[1]).map((function(e){return{text:e}})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(i.header.length===i.align.length){i.raw=t[0];var n,s,r,a,o=i.align.length;for(n=0;n<o;n++)/^ *-+: *$/.test(i.align[n])?i.align[n]="right":/^ *:-+: *$/.test(i.align[n])?i.align[n]="center":/^ *:-+ *$/.test(i.align[n])?i.align[n]="left":i.align[n]=null;for(o=i.rows.length,n=0;n<o;n++)i.rows[n]=D(i.rows[n],i.header.length).map((function(e){return{text:e}}));for(o=i.header.length,s=0;s<o;s++)i.header[s].tokens=[],this.lexer.inline(i.header[s].text,i.header[s].tokens);for(o=i.rows.length,s=0;s<o;s++)for(a=i.rows[s],r=0;r<a.length;r++)a[r].tokens=[],this.lexer.inline(a[r].text,a[r].tokens);return i}}},i.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t){var i={type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}},i.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t){var i={type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}},i.text=function(e){var t=this.rules.block.text.exec(e);if(t){var i={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}},i.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:u(t[1])}},i.tag=function(e){var t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):u(t[0]):t[0]}},i.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;var n=T(i.slice(0,-1),"\\");if((i.length-n.length)%2==0)return}else{var s=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var i=e.length,n=0,s=0;s<i;s++)if("\\"===e[s])s++;else if(e[s]===t[0])n++;else if(e[s]===t[1]&&--n<0)return s;return-1}(t[2],"()");if(s>-1){var r=(0===t[0].indexOf("!")?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,r).trim(),t[3]=""}}var a=t[2],o="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a);l&&(a=l[1],o=l[3])}else o=t[3]?t[3].slice(1,-1):"";return a=a.trim(),/^</.test(a)&&(a=this.options.pedantic&&!/>$/.test(i)?a.slice(1):a.slice(1,-1)),O(t,{href:a?a.replace(this.rules.inline._escapes,"$1"):a,title:o?o.replace(this.rules.inline._escapes,"$1"):o},t[0],this.lexer)}},i.reflink=function(e,t){var i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){var n=(i[2]||i[1]).replace(/\s+/g," ");if(!(n=t[n.toLowerCase()])||!n.href){var s=i[0].charAt(0);return{type:"text",raw:s,text:s}}return O(i,n,i[0],this.lexer)}},i.emStrong=function(e,t,i){void 0===i&&(i="");var n=this.rules.inline.emStrong.lDelim.exec(e);if(n&&(!n[3]||!i.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var s=n[1]||n[2]||"";if(!s||s&&(""===i||this.rules.inline.punctuation.exec(i))){var r,a,o=n[0].length-1,l=o,c=0,d="*"===n[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+o);null!=(n=d.exec(t));)if(r=n[1]||n[2]||n[3]||n[4]||n[5]||n[6])if(a=r.length,n[3]||n[4])l+=a;else if(!((n[5]||n[6])&&o%3)||(o+a)%3){if(!((l-=a)>0)){if(a=Math.min(a,a+l+c),Math.min(o,a)%2){var u=e.slice(1,o+n.index+a);return{type:"em",raw:e.slice(0,o+n.index+a+1),text:u,tokens:this.lexer.inlineTokens(u,[])}}var p=e.slice(2,o+n.index+a-1);return{type:"strong",raw:e.slice(0,o+n.index+a+1),text:p,tokens:this.lexer.inlineTokens(p,[])}}}else c+=a}}},i.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var i=t[2].replace(/\n/g," "),n=/[^ ]/.test(i),s=/^ /.test(i)&&/ $/.test(i);return n&&s&&(i=i.substring(1,i.length-1)),i=u(i,!0),{type:"codespan",raw:t[0],text:i}}},i.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},i.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}},i.autolink=function(e,t){var i,n,s=this.rules.inline.autolink.exec(e);if(s)return n="@"===s[2]?"mailto:"+(i=u(this.options.mangle?t(s[1]):s[1])):i=u(s[1]),{type:"link",raw:s[0],text:i,href:n,tokens:[{type:"text",raw:i,text:i}]}},i.url=function(e,t){var i;if(i=this.rules.inline.url.exec(e)){var n,s;if("@"===i[2])s="mailto:"+(n=u(this.options.mangle?t(i[0]):i[0]));else{var r;do{r=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0]}while(r!==i[0]);n=u(i[0]),s="www."===i[1]?"http://"+n:n}return{type:"link",raw:i[0],text:n,href:s,tokens:[{type:"text",raw:n,text:n}]}}},i.inlineText=function(e,t){var i,n=this.rules.inline.text.exec(e);if(n)return i=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):u(n[0]):n[0]:u(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:i}},t}(),x={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:S,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};x.def=f(x.def).replace("label",x._label).replace("title",x._title).getRegex(),x.bullet=/(?:[*+-]|\d{1,9}[.)])/,x.listItemStart=f(/^( *)(bull) */).replace("bull",x.bullet).getRegex(),x.list=f(x.list).replace(/bull/g,x.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+x.def.source+")").getRegex(),x._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",x._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,x.html=f(x.html,"i").replace("comment",x._comment).replace("tag",x._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),x.paragraph=f(x._paragraph).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex(),x.blockquote=f(x.blockquote).replace("paragraph",x.paragraph).getRegex(),x.normal=E({},x),x.gfm=E({},x.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),x.gfm.table=f(x.gfm.table).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex(),x.gfm.paragraph=f(x._paragraph).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",x.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex(),x.pedantic=E({},x.normal,{html:f("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",x._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:S,paragraph:f(x.normal._paragraph).replace("hr",x.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",x.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var A={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:S,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:S,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function N(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function F(e){var t,i,n="",s=e.length;for(t=0;t<s;t++)i=e.charCodeAt(t),Math.random()>.5&&(i="x"+i.toString(16)),n+="&#"+i+";";return n}A._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",A.punctuation=f(A.punctuation).replace(/punctuation/g,A._punctuation).getRegex(),A.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,A.escapedEmSt=/\\\*|\\_/g,A._comment=f(x._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),A.emStrong.lDelim=f(A.emStrong.lDelim).replace(/punct/g,A._punctuation).getRegex(),A.emStrong.rDelimAst=f(A.emStrong.rDelimAst,"g").replace(/punct/g,A._punctuation).getRegex(),A.emStrong.rDelimUnd=f(A.emStrong.rDelimUnd,"g").replace(/punct/g,A._punctuation).getRegex(),A._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,A._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,A._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,A.autolink=f(A.autolink).replace("scheme",A._scheme).replace("email",A._email).getRegex(),A._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,A.tag=f(A.tag).replace("comment",A._comment).replace("attribute",A._attribute).getRegex(),A._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,A._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,A._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,A.link=f(A.link).replace("label",A._label).replace("href",A._href).replace("title",A._title).getRegex(),A.reflink=f(A.reflink).replace("label",A._label).replace("ref",x._label).getRegex(),A.nolink=f(A.nolink).replace("ref",x._label).getRegex(),A.reflinkSearch=f(A.reflinkSearch,"g").replace("reflink",A.reflink).replace("nolink",A.nolink).getRegex(),A.normal=E({},A),A.pedantic=E({},A.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:f(/^!?\[(label)\]\((.*?)\)/).replace("label",A._label).getRegex(),reflink:f(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",A._label).getRegex()}),A.gfm=E({},A.normal,{escape:f(A.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),A.gfm.url=f(A.gfm.url,"i").replace("email",A.gfm._extended_email).getRegex(),A.breaks=E({},A.gfm,{br:f(A.br).replace("{2,}","*").getRegex(),text:f(A.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var L=function(){function i(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||e.defaults,this.options.tokenizer=this.options.tokenizer||new j,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var i={block:x.normal,inline:A.normal};this.options.pedantic?(i.block=x.pedantic,i.inline=A.pedantic):this.options.gfm&&(i.block=x.gfm,this.options.breaks?i.inline=A.breaks:i.inline=A.gfm),this.tokenizer.rules=i}i.lex=function(e,t){return new i(t).lex(e)},i.lexInline=function(e,t){return new i(t).inlineTokens(e)};var n,s,r,a=i.prototype;return a.lex=function(e){var t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens},a.blockTokens=function(e,t){var i,n,s,r,a=this;for(void 0===t&&(t=[]),e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(function(e,t,i){return t+"    ".repeat(i.length)}));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(n){return!!(i=n.call({lexer:a},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)}))))if(i=this.tokenizer.space(e))e=e.substring(i.raw.length),1===i.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(i);else if(i=this.tokenizer.code(e))e=e.substring(i.raw.length),!(n=t[t.length-1])||"paragraph"!==n.type&&"text"!==n.type?t.push(i):(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(i=this.tokenizer.fences(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.heading(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.hr(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.blockquote(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.list(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.html(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.def(e))e=e.substring(i.raw.length),!(n=t[t.length-1])||"paragraph"!==n.type&&"text"!==n.type?this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title}):(n.raw+="\n"+i.raw,n.text+="\n"+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(i=this.tokenizer.table(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.lheading(e))e=e.substring(i.raw.length),t.push(i);else if(s=e,this.options.extensions&&this.options.extensions.startBlock&&function(){var t=1/0,i=e.slice(1),n=void 0;a.options.extensions.startBlock.forEach((function(e){"number"==typeof(n=e.call({lexer:this},i))&&n>=0&&(t=Math.min(t,n))})),t<1/0&&t>=0&&(s=e.substring(0,t+1))}(),this.state.top&&(i=this.tokenizer.paragraph(s)))n=t[t.length-1],r&&"paragraph"===n.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i),r=s.length!==e.length,e=e.substring(i.raw.length);else if(i=this.tokenizer.text(e))e=e.substring(i.raw.length),(n=t[t.length-1])&&"text"===n.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i);else if(e){var o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}throw new Error(o)}return this.state.top=!0,t},a.inline=function(e,t){this.inlineQueue.push({src:e,tokens:t})},a.inlineTokens=function(e,t){var i,n,s,r=this;void 0===t&&(t=[]);var a,o,l,c=e;if(this.tokens.links){var d=Object.keys(this.tokens.links);if(d.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(c));)d.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,a.index)+"["+I("a",a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,a.index)+"["+I("a",a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,a.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(o||(l=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(n){return!!(i=n.call({lexer:r},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)}))))if(i=this.tokenizer.escape(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.tag(e))e=e.substring(i.raw.length),(n=t[t.length-1])&&"text"===i.type&&"text"===n.type?(n.raw+=i.raw,n.text+=i.text):t.push(i);else if(i=this.tokenizer.link(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(i.raw.length),(n=t[t.length-1])&&"text"===i.type&&"text"===n.type?(n.raw+=i.raw,n.text+=i.text):t.push(i);else if(i=this.tokenizer.emStrong(e,c,l))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.codespan(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.br(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.del(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.autolink(e,F))e=e.substring(i.raw.length),t.push(i);else if(this.state.inLink||!(i=this.tokenizer.url(e,F))){if(s=e,this.options.extensions&&this.options.extensions.startInline&&function(){var t=1/0,i=e.slice(1),n=void 0;r.options.extensions.startInline.forEach((function(e){"number"==typeof(n=e.call({lexer:this},i))&&n>=0&&(t=Math.min(t,n))})),t<1/0&&t>=0&&(s=e.substring(0,t+1))}(),i=this.tokenizer.inlineText(s,N))e=e.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(l=i.raw.slice(-1)),o=!0,(n=t[t.length-1])&&"text"===n.type?(n.raw+=i.raw,n.text+=i.text):t.push(i);else if(e){var u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}throw new Error(u)}}else e=e.substring(i.raw.length),t.push(i);return t},n=i,r=[{key:"rules",get:function(){return{block:x,inline:A}}}],(s=null)&&t(n.prototype,s),r&&t(n,r),Object.defineProperty(n,"prototype",{writable:!1}),i}(),P=function(){function t(t){this.options=t||e.defaults}var i=t.prototype;return i.code=function(e,t,i){var n=(t||"").match(/\S*/)[0];if(this.options.highlight){var s=this.options.highlight(e,n);null!=s&&s!==e&&(i=!0,e=s)}return e=e.replace(/\n$/,"")+"\n",n?'<pre><code class="'+this.options.langPrefix+u(n,!0)+'">'+(i?e:u(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:u(e,!0))+"</code></pre>\n"},i.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},i.html=function(e){return e},i.heading=function(e,t,i,n){return this.options.headerIds?"<h"+t+' id="'+(this.options.headerPrefix+n.slug(i))+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},i.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.list=function(e,t,i){var n=t?"ol":"ul";return"<"+n+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+n+">\n"},i.listitem=function(e){return"<li>"+e+"</li>\n"},i.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},i.paragraph=function(e){return"<p>"+e+"</p>\n"},i.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},i.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},i.tablecell=function(e,t){var i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+">\n"},i.strong=function(e){return"<strong>"+e+"</strong>"},i.em=function(e){return"<em>"+e+"</em>"},i.codespan=function(e){return"<code>"+e+"</code>"},i.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.del=function(e){return"<del>"+e+"</del>"},i.link=function(e,t,i){if(null===(e=b(this.options.sanitize,this.options.baseUrl,e)))return i;var n='<a href="'+u(e)+'"';return t&&(n+=' title="'+t+'"'),n+=">"+i+"</a>"},i.image=function(e,t,i){if(null===(e=b(this.options.sanitize,this.options.baseUrl,e)))return i;var n='<img src="'+e+'" alt="'+i+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">"},i.text=function(e){return e},t}(),R=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,i){return""+i},t.image=function(e,t,i){return""+i},t.br=function(){return""},e}(),q=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var i=e,n=0;if(this.seen.hasOwnProperty(i)){n=this.seen[e];do{i=e+"-"+ ++n}while(this.seen.hasOwnProperty(i))}return t||(this.seen[e]=n,this.seen[i]=0),i},t.slug=function(e,t){void 0===t&&(t={});var i=this.serialize(e);return this.getNextSafeSlug(i,t.dryrun)},e}(),$=function(){function t(t){this.options=t||e.defaults,this.options.renderer=this.options.renderer||new P,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new R,this.slugger=new q}t.parse=function(e,i){return new t(i).parse(e)},t.parseInline=function(e,i){return new t(i).parseInline(e)};var i=t.prototype;return i.parse=function(e,t){void 0===t&&(t=!0);var i,n,s,r,a,o,l,c,d,u,p,m,f,g,v,b,y,k,w,_="",S=e.length;for(i=0;i<S;i++)if(u=e[i],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type])||!1===(w=this.options.extensions.renderers[u.type].call({parser:this},u))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type))switch(u.type){case"space":continue;case"hr":_+=this.renderer.hr();continue;case"heading":_+=this.renderer.heading(this.parseInline(u.tokens),u.depth,h(this.parseInline(u.tokens,this.textRenderer)),this.slugger);continue;case"code":_+=this.renderer.code(u.text,u.lang,u.escaped);continue;case"table":for(c="",l="",r=u.header.length,n=0;n<r;n++)l+=this.renderer.tablecell(this.parseInline(u.header[n].tokens),{header:!0,align:u.align[n]});for(c+=this.renderer.tablerow(l),d="",r=u.rows.length,n=0;n<r;n++){for(l="",a=(o=u.rows[n]).length,s=0;s<a;s++)l+=this.renderer.tablecell(this.parseInline(o[s].tokens),{header:!1,align:u.align[s]});d+=this.renderer.tablerow(l)}_+=this.renderer.table(c,d);continue;case"blockquote":d=this.parse(u.tokens),_+=this.renderer.blockquote(d);continue;case"list":for(p=u.ordered,m=u.start,f=u.loose,r=u.items.length,d="",n=0;n<r;n++)b=(v=u.items[n]).checked,y=v.task,g="",v.task&&(k=this.renderer.checkbox(b),f?v.tokens.length>0&&"paragraph"===v.tokens[0].type?(v.tokens[0].text=k+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&"text"===v.tokens[0].tokens[0].type&&(v.tokens[0].tokens[0].text=k+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:k}):g+=k),g+=this.parse(v.tokens,f),d+=this.renderer.listitem(g,y,b);_+=this.renderer.list(d,p,m);continue;case"html":_+=this.renderer.html(u.text);continue;case"paragraph":_+=this.renderer.paragraph(this.parseInline(u.tokens));continue;case"text":for(d=u.tokens?this.parseInline(u.tokens):u.text;i+1<S&&"text"===e[i+1].type;)d+="\n"+((u=e[++i]).tokens?this.parseInline(u.tokens):u.text);_+=t?this.renderer.paragraph(d):d;continue;default:var E='Token with "'+u.type+'" type was not found.';if(this.options.silent)return void console.error(E);throw new Error(E)}else _+=w||"";return _},i.parseInline=function(e,t){t=t||this.renderer;var i,n,s,r="",a=e.length;for(i=0;i<a;i++)if(n=e[i],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[n.type])||!1===(s=this.options.extensions.renderers[n.type].call({parser:this},n))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(n.type))switch(n.type){case"escape":r+=t.text(n.text);break;case"html":r+=t.html(n.text);break;case"link":r+=t.link(n.href,n.title,this.parseInline(n.tokens,t));break;case"image":r+=t.image(n.href,n.title,n.text);break;case"strong":r+=t.strong(this.parseInline(n.tokens,t));break;case"em":r+=t.em(this.parseInline(n.tokens,t));break;case"codespan":r+=t.codespan(n.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(n.tokens,t));break;case"text":r+=t.text(n.text);break;default:var o='Token with "'+n.type+'" type was not found.';if(this.options.silent)return void console.error(o);throw new Error(o)}else r+=s||"";return r},t}();function B(e,t,i){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(i=t,t=null),C(t=E({},B.defaults,t||{})),i){var n,s=t.highlight;try{n=L.lex(e,t)}catch(e){return i(e)}var r=function(e){var r;if(!e)try{t.walkTokens&&B.walkTokens(n,t.walkTokens),r=$.parse(n,t)}catch(t){e=t}return t.highlight=s,e?i(e):i(null,r)};if(!s||s.length<3)return r();if(delete t.highlight,!n.length)return r();var a=0;return B.walkTokens(n,(function(e){"code"===e.type&&(a++,setTimeout((function(){s(e.text,e.lang,(function(t,i){if(t)return r(t);null!=i&&i!==e.text&&(e.text=i,e.escaped=!0),0==--a&&r()}))}),0))})),void(0===a&&r())}try{var o=L.lex(e,t);return t.walkTokens&&B.walkTokens(o,t.walkTokens),$.parse(o,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+u(e.message+"",!0)+"</pre>";throw e}}B.options=B.setOptions=function(t){var i;return E(B.defaults,t),i=B.defaults,e.defaults=i,B},B.getDefaults=s,B.defaults=e.defaults,B.use=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n,s=E.apply(void 0,[{}].concat(t)),r=B.defaults.extensions||{renderers:{},childTokens:{}};t.forEach((function(e){if(e.extensions&&(n=!0,e.extensions.forEach((function(e){if(!e.name)throw new Error("extension name required");if(e.renderer){var t=r.renderers?r.renderers[e.name]:null;r.renderers[e.name]=t?function(){for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];var r=e.renderer.apply(this,n);return!1===r&&(r=t.apply(this,n)),r}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");r[e.level]?r[e.level].unshift(e.tokenizer):r[e.level]=[e.tokenizer],e.start&&("block"===e.level?r.startBlock?r.startBlock.push(e.start):r.startBlock=[e.start]:"inline"===e.level&&(r.startInline?r.startInline.push(e.start):r.startInline=[e.start]))}e.childTokens&&(r.childTokens[e.name]=e.childTokens)}))),e.renderer&&function(){var t=B.defaults.renderer||new P,i=function(i){var n=t[i];t[i]=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];var o=e.renderer[i].apply(t,r);return!1===o&&(o=n.apply(t,r)),o}};for(var n in e.renderer)i(n);s.renderer=t}(),e.tokenizer&&function(){var t=B.defaults.tokenizer||new j,i=function(i){var n=t[i];t[i]=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];var o=e.tokenizer[i].apply(t,r);return!1===o&&(o=n.apply(t,r)),o}};for(var n in e.tokenizer)i(n);s.tokenizer=t}(),e.walkTokens){var t=B.defaults.walkTokens;s.walkTokens=function(i){e.walkTokens.call(this,i),t&&t.call(this,i)}}n&&(s.extensions=r),B.setOptions(s)}))},B.walkTokens=function(e,t){for(var i,s=function(){var e=i.value;switch(t.call(B,e),e.type){case"table":for(var s,r=n(e.header);!(s=r()).done;){var a=s.value;B.walkTokens(a.tokens,t)}for(var o,l=n(e.rows);!(o=l()).done;)for(var c,d=n(o.value);!(c=d()).done;){var u=c.value;B.walkTokens(u.tokens,t)}break;case"list":B.walkTokens(e.items,t);break;default:B.defaults.extensions&&B.defaults.extensions.childTokens&&B.defaults.extensions.childTokens[e.type]?B.defaults.extensions.childTokens[e.type].forEach((function(i){B.walkTokens(e[i],t)})):e.tokens&&B.walkTokens(e.tokens,t)}},r=n(e);!(i=r()).done;)s()},B.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");C(t=E({},B.defaults,t||{}));try{var i=L.lexInline(e,t);return t.walkTokens&&B.walkTokens(i,t.walkTokens),$.parseInline(i,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+u(e.message+"",!0)+"</pre>";throw e}},B.Parser=$,B.parser=$.parse,B.Renderer=P,B.TextRenderer=R,B.Lexer=L,B.lexer=L.lex,B.Tokenizer=j,B.Slugger=q,B.parse=B;var M=B.options,U=B.setOptions,V=B.use,z=B.walkTokens,W=B.parseInline,H=B,G=$.parse,K=L.lex;e.Lexer=L,e.Parser=$,e.Renderer=P,e.Slugger=q,e.TextRenderer=R,e.Tokenizer=j,e.getDefaults=s,e.lexer=K,e.marked=B,e.options=M,e.parse=H,e.parseInline=W,e.parser=G,e.setOptions=U,e.use=V,e.walkTokens=z,Object.defineProperty(e,"__esModule",{value:!0})}(t)},"/Jty":function(e,t,i){"use strict";i.d(t,"a",(function(){return w}));var n=i("Z2pp"),s=i("jyii"),r=i("9CRu"),a=i("gCUY"),o=i("qx9o"),l=i("BhOj"),c=i("KpC0"),d=i("lRgI"),u=i("YxAH"),p=i("p+a6"),h=i("Rd/K"),m=i("HJOD"),f=i("1pIC"),g=i("PrCM");function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach((function(t){y(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var k=["text","password","email","number","url","tel","search","range","color","date","time","datetime","datetime-local","month","week"],w=n.a.extend({name:s.v,mixins:[g.a,f.a,c.a,u.a,p.a,h.a,d.a,m.a],props:Object(a.c)(b(b(b(b(b({},c.b),u.b),p.b),h.b),{},{type:{type:String,default:"text",validator:function(e){return Object(r.a)(k,e)}},noWheel:{type:Boolean,default:!1},min:{type:[String,Number]},max:{type:[String,Number]},step:{type:[String,Number]},list:{type:String}}),s.v),computed:{localType:function(){return Object(r.a)(k,this.type)?this.type:"text"},computedAttrs:function(){var e=this.localType,t=this.disabled,i=this.placeholder,n=this.required,s=this.min,r=this.max,a=this.step;return{id:this.safeId(),name:this.name||null,form:this.form||null,type:e,disabled:t,placeholder:i,required:n,autocomplete:this.autocomplete||null,readonly:this.readonly||this.plaintext,min:s,max:r,step:a,list:"password"!==e?this.list:null,"aria-required":n?"true":null,"aria-invalid":this.computedAriaInvalid}},computedListeners:function(){return b(b({},this.bvListeners),{},{input:this.onInput,change:this.onChange,blur:this.onBlur})}},watch:{noWheel:function(e){this.setWheelStopper(e)}},mounted:function(){this.setWheelStopper(this.noWheel)},deactivated:function(){this.setWheelStopper(!1)},activated:function(){this.setWheelStopper(this.noWheel)},beforeDestroy:function(){this.setWheelStopper(!1)},methods:{setWheelStopper:function(e){var t=this.$el;Object(l.c)(e,t,"focus",this.onWheelFocus),Object(l.c)(e,t,"blur",this.onWheelBlur),e||Object(l.a)(document,"wheel",this.stopWheel)},onWheelFocus:function(){Object(l.b)(document,"wheel",this.stopWheel)},onWheelBlur:function(){Object(l.a)(document,"wheel",this.stopWheel)},stopWheel:function(e){Object(l.d)(e,{propagation:!1}),Object(o.c)(this.$el)}},render:function(e){return e("input",{ref:"input",class:this.computedClass,attrs:this.computedAttrs,domProps:{value:this.localValue},on:this.computedListeners})}})},"/MVl":function(e,t,i){"use strict";var n=i("RlQ7"),s=i.n(n),r=i("ly/8"),a=i("cuRJ"),o=i("t9l/"),l=i("qzRy"),c={name:"ClipboardButton",i18n:{copied:Object(o.a)("Copied"),error:l.c},CLIPBOARD_SUCCESS_EVENT:l.b,CLIPBOARD_ERROR_EVENT:l.a,directives:{GlTooltip:r.a},components:{GlButton:a.a},props:{text:{type:String,required:!0},gfm:{type:String,required:!1,default:null},title:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},tooltipContainer:{type:[String,Boolean],required:!1,default:!1},tooltipBoundary:{type:String,required:!1,default:null},cssClass:{type:String,required:!1,default:null},category:{type:String,required:!1,default:"secondary"},size:{type:String,required:!1,default:"medium"},variant:{type:String,required:!1,default:"default"}},data(){return{localTitle:this.title,titleTimeout:null,id:null}},computed:{clipboardText(){return null!==this.gfm?JSON.stringify({text:this.text,gfm:this.gfm}):this.text},tooltipDirectiveOptions(){return{placement:this.tooltipPlacement,container:this.tooltipContainer,boundary:this.tooltipBoundary}}},created(){this.id=s()("clipboard-button-")},methods:{updateTooltip(e){var t=this;this.localTitle=e,this.$root.$emit("bv::show::tooltip",this.id),clearTimeout(this.titleTimeout),this.titleTimeout=setTimeout((function(){t.localTitle=t.title,t.$root.$emit("bv::hide::tooltip",t.id)}),1e3)}}},d=i("bPvS"),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("gl-button",e._g({directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover.focus.click.viewport",value:e.tooltipDirectiveOptions,expression:"tooltipDirectiveOptions",modifiers:{hover:!0,focus:!0,click:!0,viewport:!0}}],ref:"copyButton",class:e.cssClass,attrs:{id:e.id,title:e.localTitle,"data-clipboard-text":e.clipboardText,"data-clipboard-handle-tooltip":"false",category:e.category,size:e.size,icon:"copy-to-clipboard",variant:e.variant,"aria-label":e.localTitle,"aria-live":"polite"},on:e._d({},[e.$options.CLIPBOARD_SUCCESS_EVENT,function(t){return e.updateTooltip(e.$options.i18n.copied)},e.$options.CLIPBOARD_ERROR_EVENT,function(t){return e.updateTooltip(e.$options.i18n.error)}])},e.$listeners),[e._t("default")],2)}),[],!1,null,null,null);t.a=u.exports},"/e4I":function(e,t,i){var n=i("NZhY"),s=i("ZzVf"),r=i("ri+z"),a=i("lj6f"),o=i("n2Ck"),l=i("8H0A");e.exports=function(e,t,i){var c=-1,d=s,u=e.length,p=!0,h=[],m=h;if(i)p=!1,d=r;else if(u>=200){var f=t?null:o(e);if(f)return l(f);p=!1,d=a,m=new n}else m=t?[]:h;e:for(;++c<u;){var g=e[c],v=t?t(g):g;if(g=i||0!==g?g:0,p&&v==v){for(var b=m.length;b--;)if(m[b]===v)continue e;t&&m.push(v),h.push(g)}else d(m,v,i)||(m!==h&&m.push(v),h.push(g))}return h}},"/lks":function(e,t,i){"use strict";var n=i("WCLl"),s=i.n(n),r=i("SNO9"),a=i.n(r),o=(i("h8Et"),i("ly/8")),l=i("u1ru"),c=i("H8gz"),d=i("KFH7"),u=i("cuRJ"),p=i("teVv"),h=i("+lve"),m=i("mpzd"),f=i("U1Ws"),g=i("t9l/"),v=i("dYBJ"),b=i("Zxcm"),y=i("5ee2"),k=i("XWU0"),w={i18n:{expired:Object(g.a)("(expired)"),none:Object(g.a)("None")},directives:{GlTooltip:o.a},components:{GlLink:l.a,GlIcon:c.a,GlPopover:d.a,GlButton:u.a,SidebarDropdown:k.a,SidebarEditableItem:v.a},mixins:[Object(b.a)()],inject:{isClassicSidebar:{default:!1},issuableAttributesQueries:{default:y.r},widgetTitleText:{default:{[y.c.Milestone]:Object(g.a)("Milestone"),expired:Object(g.a)("(expired)"),none:Object(g.a)("None")}}},props:{issuableAttribute:{type:String,required:!0},workspacePath:{required:!0,type:String},iid:{required:!0,type:String},attrWorkspacePath:{required:!0,type:String},issuableType:{type:String,required:!0,validator:e=>[m.c.Issue,m.c.MergeRequest].includes(e)},icon:{type:String,required:!1,default:void 0}},apollo:{currentAttribute:{query(){const{current:e}=this.issuableAttributeQuery,{query:t}=e[this.issuableType];return t},variables(){return{fullPath:this.workspacePath,iid:this.iid}},update(e){var t,i,n;null!==(t=this.glFeatures)&&void 0!==t&&t.epicWidgetEditConfirmation&&this.isEpic&&(this.hasCurrentAttribute=null==e||null===(n=e.workspace)||void 0===n?void 0:n.issuable.hasEpic);return null==e||null===(i=e.workspace)||void 0===i?void 0:i.issuable.attribute},error(e){Object(p.createAlert)({message:this.i18n.currentFetchError,captureError:!0,error:e})}}},data(){return{updating:!1,selectedTitle:null,currentAttribute:null,hasCurrentAttribute:!1,editConfirmation:!1,tracking:{event:y.g.editEvent,label:y.g.rightSidebarLabel,property:this.issuableAttribute}}},computed:{issuableAttributeQuery(){return this.issuableAttributesQueries[this.issuableAttribute]},attributeTitle(){var e;return(null===(e=this.currentAttribute)||void 0===e?void 0:e.title)||this.i18n.noAttribute},attributeUrl(){var e;return null===(e=this.currentAttribute)||void 0===e?void 0:e.webUrl},loading(){return this.$apollo.queries.currentAttribute.loading},attributeTypeTitle(){return this.widgetTitleText[this.issuableAttribute]},attributeTypeIcon(){return this.icon||this.issuableAttribute},tooltipText(){var e;return Object(f.E)(null===(e=this.currentAttribute)||void 0===e?void 0:e.dueDate)},i18n(){const e=y.e[y.d[this.issuableAttribute]];return Object(y.m)(e,this.issuableType)},isEpic(){return this.issuableAttribute===m.c.Epic},formatIssuableAttribute(){return{kebab:a()(this.issuableAttribute),snake:s()(this.issuableAttribute)}},shouldShowConfirmationPopover(){var e;return!(null===(e=this.glFeatures)||void 0===e||!e.epicWidgetEditConfirmation)&&(!(!this.isEpic||null!==this.currentAttribute||!this.hasCurrentAttribute)&&!this.editConfirmation)}},methods:{updateAttribute(e){var t,i=this;let{id:n}=e;if(null===this.currentAttribute&&null===n)return;if(n===(null===(t=this.currentAttribute)||void 0===t?void 0:t.id))return;this.updating=!0;const{current:s}=this.issuableAttributeQuery,{mutation:r}=s[this.issuableType];this.$apollo.mutate({mutation:r,variables:{fullPath:this.workspacePath,attributeId:this.issuableAttribute===y.c.Milestone&&this.issuableType===m.c.Issue?Object(h.d)(n):n,iid:this.iid}}).then((function(e){var t,n;let{data:s}=e;null!==(t=s.issuableSetAttribute)&&void 0!==t&&null!==(n=t.errors)&&void 0!==n&&n.length?Object(p.createAlert)({message:s.issuableSetAttribute.errors[0],captureError:!0,error:s.issuableSetAttribute.errors[0]}):i.$emit("attribute-updated",s)})).catch((function(e){Object(p.createAlert)({message:i.i18n.updateError,captureError:!0,error:e})})).finally((function(){i.updating=!1,i.selectedTitle=null}))},isAttributeOverdue(e){return this.issuableAttribute===y.c.Milestone&&(null==e?void 0:e.expired)},showDropdown(){this.$refs.dropdown.show()},handlePopoverClose(){this.$refs.popover.$emit("close")},handlePopoverConfirm(e){this.editConfirmation=!0,this.handlePopoverClose(),setTimeout(e,0)},handleEditConfirmation(){this.$refs.popover.$emit("open")}}},_=i("bPvS"),S=Object(_.a)(w,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("sidebar-editable-item",{ref:"editable",attrs:{title:e.attributeTypeTitle,"data-testid":e.formatIssuableAttribute.kebab+"-edit","button-id":e.formatIssuableAttribute.kebab+"-edit",tracking:e.tracking,"should-show-confirmation-popover":e.shouldShowConfirmationPopover,loading:e.updating||e.loading},on:{open:e.showDropdown,"edit-confirm":e.handleEditConfirmation},scopedSlots:e._u([{key:"collapsed",fn:function(){return[e._t("value-collapsed",(function(){return[e.isClassicSidebar?i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.attributeTypeTitle}},[i("gl-icon",{attrs:{"aria-label":e.attributeTypeTitle,name:e.attributeTypeIcon}}),e._v(" "),i("span",{staticClass:"collapse-truncated-title gl-pt-2 gl-px-3 gl-font-sm"},[e._v("\n          "+e._s(e.attributeTitle)+"\n        ")])],1):e._e()]}),{currentAttribute:e.currentAttribute}),e._v(" "),i("div",{class:e.isClassicSidebar?"hide-collapsed":"gl-mt-3",attrs:{"data-testid":"select-"+e.formatIssuableAttribute.kebab}},[e.updating?i("span",[e._v(e._s(e.selectedTitle))]):!e.currentAttribute&&e.hasCurrentAttribute?[i("gl-icon",{staticClass:"gl-text-orange-500",attrs:{name:"warning"}}),e._v(" "),i("span",{staticClass:"gl-text-gray-500"},[e._v(e._s(e.i18n.noPermissionToView))])]:e.currentAttribute?e._t("value",(function(){return[i("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipText,expression:"tooltipText"}],staticClass:"gl-reset-color gl-hover-text-blue-800",attrs:{href:e.attributeUrl,"data-qa-selector":e.formatIssuableAttribute.snake+"_link"}},[e._v("\n          "+e._s(e.attributeTitle)+"\n          "),e.isAttributeOverdue(e.currentAttribute)?i("span",[e._v(e._s(e.$options.i18n.expired))]):e._e()])]}),{attributeTitle:e.attributeTitle,attributeUrl:e.attributeUrl,currentAttribute:e.currentAttribute}):i("span",{staticClass:"gl-text-gray-500"},[e._v("\n        "+e._s(e.$options.i18n.none)+"\n      ")])],2)]},proxy:!0},e.shouldShowConfirmationPopover?{key:"default",fn:function(t){var n=t.toggle;return[i("gl-popover",{ref:"popover",attrs:{target:e.formatIssuableAttribute.kebab+"-edit",placement:"bottomleft",boundary:"viewport",triggers:"click"}},[i("div",{staticClass:"gl-mb-4 gl-font-base"},[e._v("\n        "+e._s(e.i18n.editConfirmation)+"\n      ")]),e._v(" "),i("div",{staticClass:"gl-display-flex gl-align-items-center"},[i("gl-button",{attrs:{size:"small",variant:"confirm",category:"primary","data-testid":"confirm-edit-cta"},on:{click:function(t){return t.preventDefault(),function(){return e.handlePopoverConfirm(n)}.apply(null,arguments)}}},[e._v(e._s(e.i18n.editConfirmationCta))]),e._v(" "),i("gl-button",{staticClass:"gl-ml-auto",attrs:{size:"small",name:"cancel",variant:"default",category:"primary","data-testid":"confirm-edit-cancel"},on:{click:function(t){return t.preventDefault(),e.handlePopoverClose.apply(null,arguments)}}},[e._v(e._s(e.i18n.editConfirmationCancel))])],1)])]}}:{key:"default",fn:function(){return[i("sidebar-dropdown",{ref:"dropdown",attrs:{"attr-workspace-path":e.attrWorkspacePath,"current-attribute":e.currentAttribute,"issuable-attribute":e.issuableAttribute,"issuable-type":e.issuableType},on:{change:e.updateAttribute},scopedSlots:e._u([{key:"list",fn:function(t){var i=t.attributesList,n=t.isAttributeChecked,s=t.updateAttribute;return[e._t("list",null,{attributesList:i,isAttributeChecked:n,updateAttribute:s})]}}],null,!0)})]},proxy:!0}],null,!0)})}),[],!1,null,null,null);t.a=S.exports},"/vEX":function(e,t,i){"use strict";var n=i("2UYt"),s=i("5dJh").charAt,r=i("V8Uk"),a=i("wPPk"),o=i("TCnH");n({target:"String",proto:!0,forced:!0},{at:function(e){var t=o(r(this)),i=t.length,n=a(e),l=n>=0?n:i+n;return l<0||l>=i?void 0:s(t,l)}})},"/zkW":function(e,t,i){var n=i("qGI4"),s=i("WuKq"),r=i("Iwy8"),a=i("N4/z"),o=i("9e36"),l=i("5uIe"),c=i("dlq9"),d=i("89Po"),u=i("mABg");e.exports=function(e,t,i){t=t.length?n(t,(function(e){return u(e)?function(t){return s(t,1===e.length?e[0]:e)}:e})):[d];var p=-1;t=n(t,l(r));var h=a(e,(function(e,i,s){return{criteria:n(t,(function(t){return t(e)})),index:++p,value:e}}));return o(h,(function(e,t){return c(e,t,i)}))}},"08uz":function(e,t,i){var n=i("iAZU"),s=i("qHIR"),r=i("T5M9"),a=i("QN0Q"),o=r((function(e,t){return a(e)?n(e,s(t,1,a,!0)):[]}));e.exports=o},"0Nu7":function(e,t,i){"use strict";var n=i("5iYK"),s=i("H8gz"),r=i("mpzd"),a=i("t9l/");const o="BUSY";var l={components:{GlAvatarLabeled:n.a,GlIcon:s.a},props:{user:{type:Object,required:!0},issuableType:{type:String,required:!1,default:r.c.Issue}},computed:{userLabel(){const{name:e,status:t}=this.user;return t&&(null==t?void 0:t.availability)===o?Object(a.h)(Object(a.g)("UserAvailability|%{author} (Busy)"),{author:e},!1):e},hasCannotMergeIcon(){return this.issuableType===r.c.MergeRequest&&!this.user.canMerge}}},c=i("bPvS"),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-avatar-labeled",{staticClass:"gl-align-items-center gl-relative sidebar-participant",attrs:{size:32,label:e.userLabel,"sub-label":"@"+e.user.username,src:e.user.avatarUrl||e.user.avatar||e.user.avatar_url},scopedSlots:e._u([{key:"meta",fn:function(){return[e.hasCannotMergeIcon?i("gl-icon",{staticClass:"merge-icon",attrs:{name:"warning-solid","aria-hidden":"true",size:12}}):e._e()]},proxy:!0}])})}),[],!1,null,null,null);t.a=d.exports},"0X+3":function(e,t,i){"use strict";var n=i("Z2pp"),s=i("jyii"),r=i("gCUY"),a=i("qx9o"),o=i("9Q7u"),l=i("ummR"),c=i("GpHn"),d=i("lHYX");function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function p(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){h(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var m=Object(o.j)(d.b,["event","routerTag"]),f=n.a.extend({name:s.o,mixins:[l.a,c.a],inject:{bvDropdown:{default:null}},inheritAttrs:!1,props:Object(r.c)(p(p({},m),{},{linkClass:{type:[String,Array,Object]},variant:{type:String}}),s.o),computed:{computedAttrs:function(){return p(p({},this.bvAttrs),{},{role:"menuitem"})}},methods:{closeDropdown:function(){var e=this;Object(a.B)((function(){e.bvDropdown&&e.bvDropdown.hide(!0)}))},onClick:function(e){this.$emit("click",e),this.closeDropdown()}},render:function(e){var t=this.linkClass,i=this.variant,n=this.active,s=this.disabled,r=this.onClick;return e("li",{attrs:{role:"presentation"}},[e(d.a,{staticClass:"dropdown-item",class:[t,h({},"text-".concat(i),i&&!(n||s))],props:this.$props,attrs:this.computedAttrs,on:{click:r},ref:"item"},this.normalizeSlot())])}});function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){b(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function b(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var y=Object(r.c)({active:{type:Boolean,default:!1},activeClass:{type:String,default:"active"},buttonClass:{type:[String,Array,Object]},disabled:{type:Boolean,default:!1},variant:{type:String}},s.p),k=n.a.extend({name:s.p,mixins:[l.a,c.a],inject:{bvDropdown:{default:null}},inheritAttrs:!1,props:y,computed:{computedAttrs:function(){return v(v({},this.bvAttrs),{},{role:"menuitem",type:"button",disabled:this.disabled})}},methods:{closeDropdown:function(){this.bvDropdown&&this.bvDropdown.hide(!0)},onClick:function(e){this.$emit("click",e),this.closeDropdown()}},render:function(e){var t;return e("li",{attrs:{role:"presentation"}},[e("button",{staticClass:"dropdown-item",class:[this.buttonClass,(t={},b(t,this.activeClass,this.active),b(t,"text-".concat(this.variant),this.variant&&!(this.active||this.disabled)),t)],attrs:this.computedAttrs,on:{click:this.onClick},ref:"button"},this.normalizeSlot())])}}),w=i("Fcvx"),_=i("cmjF"),S=i("cuRJ"),E=i("H8gz"),D=i("6IRw"),T=i.n(D);const C={components:{GlIcon:E.a,GlAvatar:_.a,GlButton:S.a},inheritAttrs:!1,props:{avatarUrl:{type:String,required:!1,default:""},iconColor:{type:String,required:!1,default:""},iconName:{type:String,required:!1,default:""},iconRightAriaLabel:{type:String,required:!1,default:""},iconRightName:{type:String,required:!1,default:""},isChecked:{type:Boolean,required:!1,default:!1},isCheckItem:{type:Boolean,required:!1,default:!1},isCheckCentered:{type:Boolean,required:!1,default:!1},secondaryText:{type:String,required:!1,default:""}},computed:{bootstrapComponent(){const{href:e,to:t}=this.$attrs;return e||t?f:k},iconColorCss(){return w.J[this.iconColor]||"gl-text-gray-700"},shouldShowCheckIcon(){return this.isChecked||this.isCheckItem},checkedClasses(){return this.isCheckCentered?"":"gl-mt-3 gl-align-self-start"}},methods:{handleClickIconRight(){this.$emit("click-icon-right")}}};const I=T()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.bootstrapComponent,e._g(e._b({tag:"component",staticClass:"gl-new-dropdown-item"},"component",e.$attrs,!1),e.$listeners),[e.shouldShowCheckIcon?i("gl-icon",{class:["gl-new-dropdown-item-check-icon",{"gl-visibility-hidden":!e.isChecked},e.checkedClasses],attrs:{name:"mobile-issue-close","data-testid":"dropdown-item-checkbox"}}):e._e(),e._v(" "),e.iconName?i("gl-icon",{class:["gl-new-dropdown-item-icon",e.iconColorCss],attrs:{name:e.iconName}}):e._e(),e._v(" "),e.avatarUrl?i("gl-avatar",{attrs:{size:32,src:e.avatarUrl}}):e._e(),e._v(" "),i("div",{staticClass:"gl-new-dropdown-item-text-wrapper"},[i("p",{staticClass:"gl-new-dropdown-item-text-primary"},[e._t("default")],2),e._v(" "),e.secondaryText?i("p",{staticClass:"gl-new-dropdown-item-text-secondary"},[e._v(e._s(e.secondaryText))]):e._e()]),e._v(" "),e.iconRightName?i("gl-button",{attrs:{size:"small",icon:e.iconRightName,"aria-label":e.iconRightAriaLabel||e.iconRightName},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleClickIconRight.apply(null,arguments)}}}):e._e()],1)},staticRenderFns:[]},void 0,C,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=I},"0hEd":function(e,t,i){"use strict";var n=i("ZplN"),s=i("cuRJ"),r=i("OkMp"),a=i("0X+3"),o=i("ly/8"),l=i("qINL"),c=i("t9l/"),d=i("8KL1"),u=i("lT7T"),p=i("nPFI"),h=i("H8gz"),m={actionCancel:{text:Object(c.a)("Cancel")},i18n:{exportText:Object(c.a)("The CSV export will be created in the background. Once finished, it will be sent to %{email} in an attachment.")},components:{GlModal:u.a,GlSprintf:p.a,GlIcon:h.a},inject:{issuableType:{default:d.c.issues},email:{default:""}},props:{exportCsvPath:{type:String,required:!0},issuableCount:{type:Number,required:!0},modalId:{type:String,required:!0}},computed:{actionPrimary(){return{text:this.exportText,attributes:{href:this.exportCsvPath,variant:"confirm","data-method":"post","data-qa-selector":`export_${this.issuableType}_button`,"data-track-action":"click_button","data-track-label":`export_${this.issuableType}_csv`}}},isIssue(){return this.issuableType===d.c.issues},exportText(){return this.isIssue?Object(c.a)("Export issues"):Object(c.a)("Export merge requests")},issuableCountText(){return this.isIssue?Object(c.f)("1 issue selected","%d issues selected",this.issuableCount):Object(c.f)("1 merge request selected","%d merge requests selected",this.issuableCount)}}},f=i("bPvS"),g=Object(f.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-modal",{attrs:{"modal-id":e.modalId,"action-primary":e.actionPrimary,"action-cancel":e.$options.actionCancel,"body-class":"gl-p-0!",title:e.exportText,"data-qa-selector":"export_issuable_modal"}},[i("div",{staticClass:"gl-justify-content-start gl-align-items-center gl-p-4 gl-border-b-solid gl-border-1 gl-border-gray-50"},[i("gl-icon",{staticClass:"gl-color-green-400",attrs:{name:"check"}}),e._v(" "),i("strong",{staticClass:"gl-m-3"},[e._v(e._s(e.issuableCountText))])],1),e._v(" "),i("div",{staticClass:"modal-text gl-px-4 gl-py-5"},[i("gl-sprintf",{attrs:{message:e.$options.i18n.exportText},scopedSlots:e._u([{key:"email",fn:function(){return[i("strong",[e._v(e._s(e.email))])]},proxy:!0}])})],1)])}),[],!1,null,null,null).exports,v=i("tXCq"),b=i("AFSh"),y={i18n:{maximumFileSizeText:Object(c.a)("The maximum file size allowed is %{size}."),importIssuesText:Object(c.a)("Import issues"),uploadCsvFileText:Object(c.a)("Upload CSV file"),mainText:Object(c.a)("Your issues will be imported in the background. Once finished, you'll get a confirmation email."),helpText:Object(c.a)("It must have a header row and at least two columns: the first column is the issue title and the second column is the issue description. The separator is automatically detected.")},actionPrimary:{text:Object(c.a)("Import issues")},actionCancel:{text:Object(c.a)("Cancel")},components:{GlModal:u.a,GlFormGroup:v.a},inject:{importCsvIssuesPath:{default:""},maxAttachmentSize:{default:0}},props:{modalId:{type:String,required:!0}},computed:{maxFileSizeText(){return Object(c.h)(this.$options.i18n.maximumFileSizeText,{size:this.maxAttachmentSize})}},methods:{submitForm(){this.$refs.form.submit()}},csrf:b.a},k=Object(f.a)(y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-modal",{attrs:{"modal-id":e.modalId,title:e.$options.i18n.importIssuesText,"action-primary":e.$options.actionPrimary,"action-cancel":e.$options.actionCancel},on:{primary:e.submitForm}},[i("form",{ref:"form",attrs:{action:e.importCsvIssuesPath,enctype:"multipart/form-data",method:"post"}},[i("input",{attrs:{type:"hidden",name:"authenticity_token"},domProps:{value:e.$options.csrf.token}}),e._v(" "),i("p",[e._v(e._s(e.$options.i18n.mainText))]),e._v(" "),i("gl-form-group",{staticClass:"gl-text-truncate",attrs:{label:e.$options.i18n.uploadCsvFileText,"label-for":"file"}},[i("input",{attrs:{id:"file",type:"file",name:"file",accept:".csv,text/csv"}})]),e._v(" "),i("p",{staticClass:"text-secondary"},[e._v("\n      "+e._s(e.$options.i18n.helpText)+"\n      "+e._s(e.maxFileSizeText)+"\n    ")])],1)])}),[],!1,null,null,null).exports,w={i18n:{exportAsCsvButtonText:Object(c.a)("Export as CSV"),importCsvText:Object(c.a)("Import CSV"),importFromJiraText:Object(c.a)("Import from Jira"),importIssuesText:Object(c.a)("Import issues")},name:"CsvImportExportButtons",components:{GlButtonGroup:n.a,GlButton:s.a,GlDropdown:r.a,GlDropdownItem:a.a,CsvExportModal:g,CsvImportModal:k},directives:{GlTooltip:o.a,GlModal:l.a},inject:{issuableType:{default:d.c.issues},showExportButton:{default:!1},showImportButton:{default:!1},containerClass:{default:""},canEdit:{default:!1},projectImportJiraPath:{default:null},showLabel:{default:!1}},props:{exportCsvPath:{type:String,required:!1,default:""},issuableCount:{type:Number,required:!1,default:void 0}},computed:{exportModalId(){return this.issuableType+"-export-modal"},importModalId(){return this.issuableType+"-import-modal"},importButtonTooltipText(){return this.showLabel?null:this.$options.i18n.importIssuesText},importButtonIcon(){return this.showLabel?null:"import"}}},_=Object(f.a)(w,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.containerClass},[i("gl-button-group",{staticClass:"gl-w-full"},[e.showExportButton?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.$options.i18n.exportAsCsvButtonText,expression:"$options.i18n.exportAsCsvButtonText"},{name:"gl-modal",rawName:"v-gl-modal",value:e.exportModalId,expression:"exportModalId"}],attrs:{icon:"export","aria-label":e.$options.i18n.exportAsCsvButtonText,"data-qa-selector":"export_as_csv_button"}}):e._e(),e._v(" "),e.showImportButton?i("gl-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.importButtonTooltipText,expression:"importButtonTooltipText"}],staticClass:"gl-w-full gl-md-w-auto",attrs:{"data-qa-selector":"import_issues_dropdown",text:e.$options.i18n.importIssuesText,"text-sr-only":!e.showLabel,icon:e.importButtonIcon}},[i("gl-dropdown-item",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.importModalId,expression:"importModalId"}]},[e._v("\n        "+e._s(e.$options.i18n.importCsvText)+"\n      ")]),e._v(" "),e.canEdit?i("gl-dropdown-item",{attrs:{href:e.projectImportJiraPath,"data-qa-selector":"import_from_jira_link"}},[e._v("\n        "+e._s(e.$options.i18n.importFromJiraText)+"\n      ")]):e._e()],1):e._e()],1),e._v(" "),e.showExportButton?i("csv-export-modal",{attrs:{"modal-id":e.exportModalId,"export-csv-path":e.exportCsvPath,"issuable-count":e.issuableCount}}):e._e(),e._v(" "),e.showImportButton?i("csv-import-modal",{attrs:{"modal-id":e.importModalId}}):e._e()],1)}),[],!1,null,null,null);t.a=_.exports},"0rNO":function(e,t,i){"use strict";var n=i("2UYt"),s=i("ncak"),r=i("hO0A"),a=i("wPPk"),o=i("PgmO");n({target:"Array",proto:!0},{at:function(e){var t=s(this),i=r(t),n=a(e),o=n>=0?n:i+n;return o<0||o>=i?void 0:t[o]}}),o("at")},"0wJS":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateIssueState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"issueType"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isDirty"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssueState"},arguments:[{kind:"Argument",name:{kind:"Name",value:"issueType"},value:{kind:"Variable",name:{kind:"Name",value:"issueType"}}},{kind:"Argument",name:{kind:"Name",value:"isDirty"},value:{kind:"Variable",name:{kind:"Name",value:"isDirty"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}]}]}}],loc:{start:0,end:138}};i.loc.source={body:"mutation updateIssueState($issueType: String, $isDirty: Boolean) {\n  updateIssueState(issueType: $issueType, isDirty: $isDirty) @client\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateIssueState=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"updateIssueState")},"14kI":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateMergeRequestLocked"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MergeRequestSetLockedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequestSetLocked"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussionLocked"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:188}};i.loc.source={body:"mutation updateMergeRequestLocked($input: MergeRequestSetLockedInput!) {\n  mergeRequestSetLocked(input: $input) {\n    mergeRequest {\n      id\n      discussionLocked\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateMergeRequestLocked=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"updateMergeRequestLocked")},192:function(e,t,i){i("uGLJ"),i("yxpZ"),e.exports=i("WwcF")},"1AFl":function(e,t,i){"use strict";t.a=function(e,t){return e.map((function(e,t){return[t,e]})).sort(function(e,t){return this(e[1],t[1])||e[0]-t[0]}.bind(t)).map((function(e){return e[1]}))}},"1HOK":function(e,t,i){"use strict";i.d(t,"i",(function(){return n})),i.d(t,"h",(function(){return s})),i.d(t,"f",(function(){return r})),i.d(t,"p",(function(){return a})),i.d(t,"q",(function(){return o})),i.d(t,"r",(function(){return l})),i.d(t,"c",(function(){return c})),i.d(t,"d",(function(){return d})),i.d(t,"j",(function(){return u})),i.d(t,"l",(function(){return p})),i.d(t,"k",(function(){return h})),i.d(t,"o",(function(){return m})),i.d(t,"b",(function(){return f})),i.d(t,"E",(function(){return g})),i.d(t,"w",(function(){return v})),i.d(t,"y",(function(){return b})),i.d(t,"x",(function(){return y})),i.d(t,"z",(function(){return k})),i.d(t,"C",(function(){return w})),i.d(t,"D",(function(){return _})),i.d(t,"v",(function(){return S})),i.d(t,"A",(function(){return E})),i.d(t,"u",(function(){return D})),i.d(t,"B",(function(){return T})),i.d(t,"s",(function(){return C})),i.d(t,"t",(function(){return I})),i.d(t,"e",(function(){return O})),i.d(t,"g",(function(){return j})),i.d(t,"a",(function(){return x})),i.d(t,"m",(function(){return A})),i.d(t,"n",(function(){return N}));const n=750,s=50,r=72,a=340,o=260,l=60,c="editor",d="preview",u="createMergeRequestIn",p="readMergeRequest",h="pushCode",m="rejectUnsignedCommits",f={[h]:!0},g={mr:"mrdiff",edit:"editor",diff:"diff"},v={replaced:"replaced",new:"new",deleted:"deleted",renamed:"renamed",mode_changed:"mode_changed"},b=Object.freeze({not_diffable:"not_diffable",no_preview:"no_preview",added:"added",deleted:"deleted",renamed:"renamed",mode_changed:"mode_changed",text:"text",image:"image"}),y=Object.freeze({too_large:"too_large",stored_externally:"server_side_but_stored_externally"}),k={edit:{name:"ide-tree"},review:{name:"ide-review"},commit:{name:"repo-commit-section"}},w={switchEditors:{name:"switch-editors",keepAlive:!0},pipelines:{name:"pipelines-list",keepAlive:!0},jobsDetail:{name:"jobs-detail",keepAlive:!1},mergeRequestInfo:{name:"merge-request-info",keepAlive:!0},clientSidePreview:{name:"clientside",keepAlive:!1},terminal:{name:"terminal",keepAlive:!0}},_={unstaged:"unstaged",staged:"staged"},S={addition:{icon:"file-addition",class:"file-addition ide-file-addition"},modified:{icon:"file-modified",class:"file-modified ide-file-modified"},deleted:{icon:"file-deletion",class:"file-deletion ide-file-deletion"}},E={rename:"rename",tree:"tree",blob:"blob"},D={move:"move",delete:"delete",create:"create",update:"update"},T="package.json",C="left",I="right",O=2e3,j=10,x="main",A="web_ide_clientside_preview",N="web_ide_clientside_preview_success"},"1IiZ":function(e,t,i){"use strict";i("JHu5"),i("3R5X"),i("XUYm");t.a={inserted(e){"IntersectionObserver"in window&&(e.visibilityObserver=new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>0&&e.target.offsetParent&&e.target.focus()}))})),e.visibilityObserver.observe(e,{root:document.documentElement}))},unbind(e){e.visibilityObserver&&e.visibilityObserver.disconnect()}}},"1fbm":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateIssueLocked"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssueSetLockedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueSetLocked"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussionLocked"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:160}};i.loc.source={body:"mutation updateIssueLocked($input: IssueSetLockedInput!) {\n  issueSetLocked(input: $input) {\n    issue {\n      id\n      discussionLocked\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateIssueLocked=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"updateIssueLocked")},"1jid":function(e,t,i){"use strict";var n=i("bPvS"),s=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"timeline-entry"},[t("div",{staticClass:"timeline-entry-inner"},[this._t("default")],2)])}),[],!1,null,null,null);t.a=s.exports},"2Bom":function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},"2Ufh":function(e,t,i){"use strict";var n=i("ipI8"),s=i("6IRw"),r=i.n(s);const a={components:{BFormRadioGroup:n.a},inheritAttrs:!1,model:{prop:"checked",event:"input"},props:{checked:{required:!0,validator:()=>!0},options:{type:Array,required:!0}},computed:{enabledOptions(){return this.options.filter(e=>!e.disabled)}},watch:{checked:{handler(e,t){this.checkValue(e,t)}},options:{handler(){this.checkValue(this.checked)}}},created(){this.checkValue(this.checked)},methods:{checkValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.isValidValue(e)&&(console.warn("Segmented button should always have valid option selected"),this.enabledOptions.length)){const e=t&&this.isValidValue(t)?t:this.enabledOptions[0].value;this.$emit("input",e)}},isValidValue(e){return this.enabledOptions.some(t=>{let{value:i}=t;return i===e})}}};const o=r()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-form-radio-group",this._g(this._b({staticClass:"gl-segmented-control",attrs:{buttons:"","button-variant":"gl-segmented-button gl-button"}},"b-form-radio-group",Object.assign({},this.$attrs,{options:this.options,checked:this.checked}),!1),this.$listeners))},staticRenderFns:[]},void 0,a,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},"34cr":function(e,t,i){"use strict";var n=i("ly/8"),s=i("cuRJ"),r=i("6IRw"),a=i.n(r);const o={components:{GlButton:s.a},directives:{GlTooltip:n.a},props:{title:{type:String,required:!1,default:"Clear"},tooltipContainer:{required:!1,default:!1,validator:e=>!1===e||"string"==typeof e||e instanceof HTMLElement}}};const l=a()({render:function(){var e=this.$createElement;return(this._self._c||e)("gl-button",this._g({directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",value:{container:this.tooltipContainer},expression:"{ container: tooltipContainer }",modifiers:{hover:!0}}],staticClass:"gl-clear-icon-button",attrs:{variant:"default",category:"tertiary",size:"small",name:"clear",icon:"clear",title:this.title,"aria-label":this.title}},this.$listeners))},staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=l},"38UM":function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));i("WmlO"),i("3R5X"),i("W9Nl"),i("N8nX"),i("c5nz"),i("OZcL"),i("x5O4"),i("lxnW"),i("5sVn"),i("4xRc"),i("LM9r"),i("51O6"),i("une/"),i("Kypc"),i("yt6R"),i("6v3E"),i("RsOv"),i("JHu5"),i("XUYm");var n=i("6oy4"),s=i.n(n),r=i("uCy4"),a=i.n(r),o=i("xhFg"),l=i("s1DB"),c=i("U1Ws"),d=i("yYHy"),u=i("r5Uk"),p=i("GyXH");const h="merge_request[source_branch]",m="merge_request[target_branch]";function f(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e[h]||e[m]?t?{[h]:e[h]}:{[h]:e[h],[m]:e[m]}:e}function g(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=Object(d.B)(e,{legacySpacesDecode:!0}),n=f(i,t),s=Object(d.z)(n);return s}class v{static addAutosave(e,t,i,n,s){i.length&&e.set(t,new l.a(i,[document.location.pathname,n,t],`${s}=${t}`))}constructor(e){var t=this;if(0===e.length)return;if(this.form=e,this.toggleWip=this.toggleWip.bind(this),this.renderWipExplanation=this.renderWipExplanation.bind(this),this.resetAutosave=this.resetAutosave.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.draftRegex=new RegExp("^\\s*(\\[draft\\]\\s*|draft:\\s*|\\(draft\\)\\s*)+\\s*","i"),this.gfmAutoComplete=new o.a(gl.GfmAutoComplete&&gl.GfmAutoComplete.dataSources).setup(),this.usersSelect=new u.default,this.reviewersSelect=new u.default(void 0,".js-reviewer-search"),this.zenMode=new p.a,this.searchTerm=function(e){const{search:t,pathname:i}=document.location;return e===i?"":g(t)}(e[0].getAttribute("data-new-issue-path")),this.fallbackKey=function(){const e=g(document.location.search,!0);return["autosave",document.location.pathname,e].join("/")}(),this.titleField=this.form.find('input[name*="[title]"]'),this.descriptionField=this.form.find('textarea[name*="[description]"]'),!this.titleField.length||!this.descriptionField.length)return;this.autosaves=this.initAutosave(),this.form.on("submit",this.handleSubmit),this.form.on("click",".btn-cancel, .js-reset-autosave",this.resetAutosave),this.form.find(".js-unwrap-on-load").unwrap(),this.initWip();const i=s()("#issuable-due-date");if(i.length){const e=new a.a({field:i.get(0),theme:"gitlab-theme animate-picker",format:"yyyy-mm-dd",container:i.parent().get(0),parse:function(e){return Object(c.z)(e)},toString:function(e){return Object(c.B)(e)},onSelect:function(n){i.val(e.toString(n)),t.autosaves.has("due_date")&&t.autosaves.get("due_date").save()},firstDay:gon.first_day_of_week});e.setDate(Object(c.z)(i.val()))}}initAutosave(){const e=new Map;return v.addAutosave(e,"title",this.form.find('input[name*="[title]"]'),this.searchTerm,this.fallbackKey),v.addAutosave(e,"description",this.form.find('textarea[name*="[description]"]'),this.searchTerm,this.fallbackKey),v.addAutosave(e,"confidential",this.form.find('input:checkbox[name*="[confidential]"]'),this.searchTerm,this.fallbackKey),v.addAutosave(e,"due_date",this.form.find('input[name*="[due_date]"]'),this.searchTerm,this.fallbackKey),e}handleSubmit(){return this.resetAutosave()}resetAutosave(){this.autosaves.forEach((function(e){null==e||e.reset()}))}initWip(){if(this.$wipExplanation=this.form.find(".js-wip-explanation"),this.$noWipExplanation=this.form.find(".js-no-wip-explanation"),this.$wipExplanation.length&&this.$noWipExplanation.length)return this.form.on("click",".js-toggle-wip",this.toggleWip),this.titleField.on("keyup blur",this.renderWipExplanation),this.renderWipExplanation()}workInProgress(){return this.draftRegex.test(this.titleField.val())}renderWipExplanation(){return this.workInProgress()?(this.$wipExplanation.find("code")[0].textContent="Draft",this.$wipExplanation.show(),this.$noWipExplanation.hide()):(this.$wipExplanation.hide(),this.$noWipExplanation.show())}toggleWip(e){return e.preventDefault(),this.workInProgress()?this.removeWip():this.addWip(),this.renderWipExplanation()}removeWip(){return this.titleField.val(this.titleField.val().replace(this.draftRegex,""))}addWip(){this.titleField.val("Draft: "+this.titleField.val())}}},"3r2P":function(e,t,i){"use strict";var n=i("cuRJ"),s=i("lT7T"),r=i("nPFI"),a=i("u1ru"),o=i("9uTP"),l=i("H8gz"),c=i("qINL"),d=i("ly/8"),u=i("mphk"),p=i("t9l/"),h=i("dTzf"),m={i18n:{sendEmail:Object(p.a)("Send email")},name:"IssuableByEmail",components:{GlButton:n.a,GlModal:s.a,GlSprintf:r.a,GlLink:a.a,GlFormInputGroup:o.a,GlIcon:l.a,ModalCopyButton:h.a},directives:{GlModal:c.a,GlTooltip:d.a},inject:{initialEmail:{default:null},issuableType:{default:"issue"},emailsHelpPagePath:{default:""},quickActionsHelpPath:{default:""},markdownHelpPath:{default:""},resetPath:{default:""}},data(){return{email:this.initialEmail,issuableName:"issue"===this.issuableType?Object(p.a)("issue"):Object(p.a)("merge request")}},computed:{mailToLink(){const e=Object(p.h)(Object(p.a)("Enter the %{name} title"),{name:this.issuableName}),t=Object(p.h)(Object(p.a)("Enter the %{name} description"),{name:this.issuableName});return`mailto:${this.email}?subject=${e}&body=${t}`}},methods:{async resetIncomingEmailToken(){try{const{data:{new_address:e}}=await u.a.put(this.resetPath);this.email=e}catch{this.$toast.show(Object(p.a)("There was an error when reseting email token."))}},cancelHandler(){this.$refs.modal.hide()}},modalId:"issuable-email-modal"},f=i("bPvS"),g=Object(f.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("gl-button",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.$options.modalId,expression:"$options.modalId"}],attrs:{variant:"link"}},[i("gl-sprintf",{attrs:{message:e.__("Email a new %{name} to this project")},scopedSlots:e._u([{key:"name",fn:function(){return[e._v(e._s(e.issuableName))]},proxy:!0}])})],1),e._v(" "),i("gl-modal",{ref:"modal",attrs:{"modal-id":e.$options.modalId},scopedSlots:e._u([{key:"modal-title",fn:function(){return[i("gl-sprintf",{attrs:{message:e.__("Create new %{name} by email")},scopedSlots:e._u([{key:"name",fn:function(){return[e._v(e._s(e.issuableName))]},proxy:!0}])})]},proxy:!0},{key:"modal-footer",fn:function(){return[i("gl-button",{attrs:{category:"secondary"},on:{click:e.cancelHandler}},[e._v(e._s(e.__("Cancel")))])]},proxy:!0}])},[e._v(" "),i("p",[i("gl-sprintf",{attrs:{message:e.__("You can create a new %{name} inside this project by sending an email to the following email address:")},scopedSlots:e._u([{key:"name",fn:function(){return[e._v(e._s(e.issuableName))]},proxy:!0}])})],1),e._v(" "),i("gl-form-input-group",{staticClass:"gl-mb-4",attrs:{value:e.email,readonly:"","select-on-click":""},scopedSlots:e._u([{key:"append",fn:function(){return[i("modal-copy-button",{attrs:{text:e.email,title:e.__("Copy"),"modal-id":e.$options.modalId}}),e._v(" "),i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:e.mailToLink,title:e.$options.i18n.sendEmail,"aria-label":e.$options.i18n.sendEmail,icon:"mail"}})]},proxy:!0}])}),e._v(" "),i("p",[i("gl-sprintf",{attrs:{message:e.__("The subject will be used as the title of the new issue, and the message will be the description. %{quickActionsLinkStart}Quick actions%{quickActionsLinkEnd} and styling with %{markdownLinkStart}Markdown%{markdownLinkEnd} are supported.")},scopedSlots:e._u([{key:"quickActionsLink",fn:function(t){var n=t.content;return[i("gl-link",{attrs:{href:e.quickActionsHelpPath,target:"_blank"}},[e._v(e._s(n))])]}},{key:"markdownLink",fn:function(t){var n=t.content;return[i("gl-link",{attrs:{href:e.markdownHelpPath,target:"_blank"}},[e._v(e._s(n))])]}}])})],1),e._v(" "),i("p",[i("gl-sprintf",{attrs:{message:e.__("This is a private email address %{helpIcon} generated just for you. Anyone who has it can create issues or merge requests as if they were you. If that happens, %{resetLinkStart}reset this token%{resetLinkEnd}.")},scopedSlots:e._u([{key:"helpIcon",fn:function(){return[i("gl-link",{attrs:{href:e.emailsHelpPagePath,target:"_blank"}},[i("gl-icon",{staticClass:"gl-text-blue-600",attrs:{name:"question-o"}})],1)]},proxy:!0},{key:"resetLink",fn:function(t){var n=t.content;return[i("gl-button",{attrs:{variant:"link","data-testid":"reset_email_token_link"},on:{click:e.resetIncomingEmailToken}},[e._v("\n            "+e._s(n)+"\n          ")])]}}])})],1)],1)],1)}),[],!1,null,null,null);t.a=g.exports},"3saJ":function(e,t,i){"use strict";var n=i("Z2pp"),s=i("jyii"),r=i("ryFn"),a=i("/Zha"),o=i("gCUY"),l=i("ZVxY"),c=i("3XSL"),d=i("g34G"),u=i("1AFl"),p=i("9CRu"),h=i("ioEp"),m=i("qx9o"),f=i("BhOj"),g=i("G55H"),v=i("ST6S"),b=i("8Vyw"),y=i("9Q7u"),k=i("1pIC"),w=i("GpHn"),_=i("lHYX"),S=i("tPEI");function E(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function D(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?E(Object(i),!0).forEach((function(t){T(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):E(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function T(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var C=Object(y.j)(S.b,["tabs","isNavBar","cardHeader"]),I=function(e){return!e.disabled},O=n.a.extend({name:s.bb,inject:{bvTabs:{default:function(){return{}}}},props:Object(o.c)({tab:{default:null},tabs:{type:Array,default:function(){return[]}},id:{type:String,default:null},controls:{type:String,default:null},tabIndex:{type:Number,default:null},posInSet:{type:Number,default:null},setSize:{type:Number,default:null},noKeyNav:{type:Boolean,default:!1}},s.ab),methods:{focus:function(){Object(m.d)(this.$refs.link)},handleEvt:function(e){if(!this.tab.disabled){var t=e.type,i=e.keyCode,n=e.shiftKey;"click"===t||"keydown"===t&&i===r.h?(Object(f.d)(e),this.$emit("click",e)):"keydown"!==t||this.noKeyNav||(-1!==[r.i,r.f,r.e].indexOf(i)?(Object(f.d)(e),n||i===r.e?this.$emit("first",e):this.$emit("prev",e)):-1!==[r.a,r.g,r.b].indexOf(i)&&(Object(f.d)(e),n||i===r.b?this.$emit("last",e):this.$emit("next",e)))}}},render:function(e){var t=this.id,i=this.tabIndex,n=this.setSize,s=this.posInSet,r=this.controls,o=this.handleEvt,l=this.tab,c=l.title,d=l.localActive,u=l.disabled,p=l.titleItemClass,h=l.titleLinkClass,m=l.titleLinkAttributes,f=e(_.a,{ref:"link",staticClass:"nav-link",class:[{active:d&&!u,disabled:u},h,d?this.bvTabs.activeNavItemClass:null],props:{disabled:u},attrs:D(D({},m),{},{role:"tab",id:t,tabindex:i,"aria-selected":d&&!u?"true":"false","aria-setsize":n,"aria-posinset":s,"aria-controls":r}),on:{click:o,keydown:o}},[this.tab.normalizeSlot(a.i)||c]);return e("li",{staticClass:"nav-item",class:[p],attrs:{role:"presentation"}},[f])}}),j=n.a.extend({name:s.ab,mixins:[k.a,w.a],provide:function(){return{bvTabs:this}},model:{prop:"value",event:"input"},props:D(D({},C),{},{tag:{type:String,default:"div"},card:{type:Boolean,default:!1},end:{type:Boolean,default:!1},noFade:{type:Boolean,default:!1},noNavStyle:{type:Boolean,default:!1},noKeyNav:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},contentClass:{type:[String,Array,Object]},navClass:{type:[String,Array,Object]},navWrapperClass:{type:[String,Array,Object]},activeNavItemClass:{type:[String,Array,Object]},activeTabClass:{type:[String,Array,Object]},value:{type:Number,default:null}}),data:function(){return{currentTab:Object(b.c)(this.value,-1),tabs:[],registeredTabs:[],isMounted:!1}},computed:{fade:function(){return!this.noFade},localNavClass:function(){var e=[];return this.card&&this.vertical&&e.push("card-header","h-100","border-bottom-0","rounded-0"),[].concat(e,[this.navClass])}},watch:{currentTab:function(e){var t=-1;this.tabs.forEach((function(i,n){e!==n||i.disabled?i.localActive=!1:(i.localActive=!0,t=n)})),this.$emit("input",t)},value:function(e,t){if(e!==t){e=Object(b.c)(e,-1),t=Object(b.c)(t,0);var i=this.tabs;i[e]&&!i[e].disabled?this.activateTab(i[e]):e<t?this.previousTab():this.nextTab()}},registeredTabs:function(){var e=this;this.$nextTick((function(){Object(m.B)((function(){e.updateTabs()}))}))},tabs:function(e,t){var i=this;Object(c.a)(e.map((function(e){return e._uid})),t.map((function(e){return e._uid})))||this.$nextTick((function(){i.$emit("changed",e.slice(),t.slice())}))},isMounted:function(e){var t=this;e&&Object(m.B)((function(){t.updateTabs()})),this.setObserver(e)}},created:function(){var e=this;this.$_observer=null,this.currentTab=Object(b.c)(this.value,-1),this.$nextTick((function(){e.updateTabs()}))},mounted:function(){var e=this;this.updateTabs(),this.$nextTick((function(){e.isMounted=!0}))},deactivated:function(){this.isMounted=!1},activated:function(){var e=this;this.currentTab=Object(b.c)(this.value,-1),this.$nextTick((function(){e.updateTabs(),e.isMounted=!0}))},beforeDestroy:function(){this.isMounted=!1},destroyed:function(){this.tabs=[]},methods:{registerTab:function(e){var t=this;Object(p.a)(this.registeredTabs,e)||(this.registeredTabs.push(e),e.$once("hook:destroyed",(function(){t.unregisterTab(e)})))},unregisterTab:function(e){this.registeredTabs=this.registeredTabs.slice().filter((function(t){return t!==e}))},setObserver:function(e){if(this.$_observer&&this.$_observer.disconnect(),this.$_observer=null,e){var t=this;this.$_observer=Object(d.a)(this.$refs.tabsContainer,(function(){t.$nextTick((function(){Object(m.B)((function(){t.updateTabs()}))}))}),{childList:!0,subtree:!1,attributes:!0,attributeFilter:["id"]})}},getTabs:function(){var e=this.registeredTabs.filter((function(e){return 0===e.$children.filter((function(e){return e._isTab})).length})),t=[];if(this.isMounted&&e.length>0){var i=e.map((function(e){return"#".concat(e.safeId())})).join(", ");t=Object(m.D)(i,this.$el).map((function(e){return e.id})).filter(l.a)}return Object(u.a)(e,(function(e,i){return t.indexOf(e.safeId())-t.indexOf(i.safeId())}))},updateTabs:function(){var e=this.getTabs(),t=e.indexOf(e.slice().reverse().find((function(e){return e.localActive&&!e.disabled})));if(t<0){var i=this.currentTab;i>=e.length?t=e.indexOf(e.slice().reverse().find(I)):e[i]&&!e[i].disabled&&(t=i)}t<0&&(t=e.indexOf(e.find(I))),e.forEach((function(e){e.localActive=!1})),e[t]&&(e[t].localActive=!0),this.tabs=e,this.currentTab=t},getButtonForTab:function(e){return(this.$refs.buttons||[]).find((function(t){return t.tab===e}))},updateButton:function(e){var t=this.getButtonForTab(e);t&&t.$forceUpdate&&t.$forceUpdate()},activateTab:function(e){var t=!1;if(e){var i=this.tabs.indexOf(e);if(!e.disabled&&i>-1&&i!==this.currentTab){var n=new h.a("activate-tab",{cancelable:!0,vueTarget:this,componentId:this.safeId()});this.$emit(n.type,i,this.currentTab,n),n.defaultPrevented||(t=!0,this.currentTab=i)}}return t||this.currentTab===this.value||this.$emit("input",this.currentTab),t},deactivateTab:function(e){return!!e&&this.activateTab(this.tabs.filter((function(t){return t!==e})).find(I))},focusButton:function(e){var t=this;this.$nextTick((function(){Object(m.d)(t.getButtonForTab(e))}))},emitTabClick:function(e,t){Object(g.d)(t)&&e&&e.$emit&&!e.disabled&&e.$emit("click",t)},clickTab:function(e,t){this.activateTab(e),this.emitTabClick(e,t)},firstTab:function(e){var t=this.tabs.find(I);this.activateTab(t)&&e&&(this.focusButton(t),this.emitTabClick(t,e))},previousTab:function(e){var t=Object(v.b)(this.currentTab,0),i=this.tabs.slice(0,t).reverse().find(I);this.activateTab(i)&&e&&(this.focusButton(i),this.emitTabClick(i,e))},nextTab:function(e){var t=Object(v.b)(this.currentTab,-1),i=this.tabs.slice(t+1).find(I);this.activateTab(i)&&e&&(this.focusButton(i),this.emitTabClick(i,e))},lastTab:function(e){var t=this.tabs.slice().reverse().find(I);this.activateTab(t)&&e&&(this.focusButton(t),this.emitTabClick(t,e))}},render:function(e){var t=this,i=this.tabs,n=this.noKeyNav,s=this.firstTab,r=this.previousTab,a=this.nextTab,o=this.lastTab,l=i.find((function(e){return e.localActive&&!e.disabled})),c=i.find((function(e){return!e.disabled})),d=i.map((function(d,u){var p=null;return n||(p=-1,(l===d||!l&&c===d)&&(p=null)),e(O,{key:d._uid||u,ref:"buttons",refInFor:!0,props:{tab:d,tabs:i,id:d.controlledBy||(d.safeId?d.safeId("_BV_tab_button_"):null),controls:d.safeId?d.safeId():null,tabIndex:p,setSize:i.length,posInSet:u+1,noKeyNav:n},on:{click:function(e){t.clickTab(d,e)},first:s,prev:r,next:a,last:o}})})),u=e(S.a,{ref:"nav",class:this.localNavClass,attrs:{role:"tablist",id:this.safeId("_BV_tab_controls_")},props:{fill:this.fill,justified:this.justified,align:this.align,tabs:!this.noNavStyle&&!this.pills,pills:!this.noNavStyle&&this.pills,vertical:this.vertical,small:this.small,cardHeader:this.card&&!this.vertical}},[this.normalizeSlot("tabs-start")||e(),d,this.normalizeSlot("tabs-end")||e()]);u=e("div",{key:"bv-tabs-nav",class:[{"card-header":this.card&&!this.vertical&&!this.end,"card-footer":this.card&&!this.vertical&&this.end,"col-auto":this.vertical},this.navWrapperClass]},[u]);var h=e();i&&0!==i.length||(h=e("div",{key:"bv-empty-tab",class:["tab-pane","active",{"card-body":this.card}]},this.normalizeSlot("empty")));var m=e("div",{ref:"tabsContainer",key:"bv-tabs-container",staticClass:"tab-content",class:[{col:this.vertical},this.contentClass],attrs:{id:this.safeId("_BV_tab_container_")}},Object(p.b)(this.normalizeSlot(),h));return e(this.tag,{staticClass:"tabs",class:{row:this.vertical,"no-gutters":this.vertical&&this.card},attrs:{id:this.safeId()}},[this.end?m:e(),[u],this.end?e():m])}}),x=i("Fcvx"),A=i("cuRJ"),N=i("6IRw"),F=i.n(N);const L=e=>Object.keys(e).every(e=>"text"===e||"attributes"===e);const P={components:{BTabs:j,GlButton:A.a},inheritAttrs:!1,props:{actionPrimary:{type:Object,required:!1,default:null,validator:e=>L(e)},actionSecondary:{type:Object,required:!1,default:null,validator:e=>L(e)},actionTertiary:{type:Object,required:!1,default:null,validator:e=>L(e)},contentClass:{type:[String,Array,Object],required:!1,default:null},navClass:{type:[String,Array,Object],required:!1,default:null},justified:{type:Boolean,required:!1,default:!1},syncActiveTabWithQueryParams:{type:Boolean,required:!1,default:!1},queryParamName:{type:String,required:!1,default:"tab"},value:{type:Number,required:!1,default:0}},data:()=>({activeTabIndex:0}),computed:{hasActions(){return[this.actionPrimary,this.actionSecondary,this.actionTertiary].some(Boolean)},listeners(){return{...this.$listeners,input:this.handleInput}}},watch:{value:{handler(e){this.activeTabIndex!==e&&(this.activeTabIndex=e)},immediate:!0}},mounted(){this.syncActiveTabWithQueryParams&&(this.syncActiveTabFromQueryParams(),window.addEventListener("popstate",this.syncActiveTabFromQueryParams)),this.$emit("input",this.activeTabIndex)},destroyed(){window.removeEventListener("popstate",this.syncActiveTabFromQueryParams)},methods:{buttonBinding:(e,t)=>e.attributes?e.attributes:x.E[t],primary(){this.$emit("primary")},secondary(){this.$emit("secondary")},tertiary(){this.$emit("tertiary")},async syncActiveTabFromQueryParams(){await this.$nextTick();const e=this.getQueryParamValue(),t=this.getTabs().findIndex((t,i)=>this.getTabQueryParamValue(i)===e);this.activeTabIndex=-1!==t?t:0},getTabs(){return this.$refs.bTabs.getTabs()},getQueryParamValue(){return new URLSearchParams(window.location.search).get(this.queryParamName)},setQueryParamValueIfNecessary(e){const t=this.getQueryParamValue(),i=this.getTabQueryParamValue(e);if(0===e&&!t||0!==e&&t===i)return;const n=new URLSearchParams(window.location.search);0===e?n.delete(this.queryParamName):n.set(this.queryParamName,i),window.history.pushState({},"",`${window.location.pathname}?${n.toString()}`)},getTabQueryParamValue(e){const t=this.getTabs()[e];return(null==t?void 0:t.$attrs["query-param-value"])||e.toString()},handleInput(e){this.$emit("input",e),this.activeTabIndex=e,this.syncActiveTabWithQueryParams&&this.setQueryParamValueIfNecessary(e)}}};const R=F()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-tabs",e._g(e._b({ref:"bTabs",staticClass:"gl-tabs",attrs:{"no-nav-style":!0,"no-fade":!0,"active-nav-item-class":"gl-tab-nav-item-active","content-class":[e.contentClass,"gl-tab-content"],"nav-class":[e.navClass,"gl-tabs-nav"],justified:e.justified,value:e.activeTabIndex},scopedSlots:e._u([e._l(Object.keys(e.$slots),(function(t){return{key:t,fn:function(){return[e._t(t)]},proxy:!0}})),e.hasActions?{key:"tabs-start",fn:function(){return[i("div",{staticClass:"gl-actions-tabs-start",attrs:{"data-testid":"actions-tabs-start"}},[e.actionPrimary?i("gl-button",e._b({attrs:{"data-testid":"action-primary"},on:{click:e.primary}},"gl-button",e.buttonBinding(e.actionPrimary,"actionPrimary"),!1),[e._v("\n        "+e._s(e.actionPrimary.text)+"\n      ")]):e._e(),e._v(" "),e.actionSecondary?i("gl-button",e._b({attrs:{"data-testid":"action-secondary"},on:{click:e.secondary}},"gl-button",e.buttonBinding(e.actionSecondary,"actionSecondary"),!1),[e._v("\n        "+e._s(e.actionSecondary.text)+"\n      ")]):e._e(),e._v(" "),e.actionTertiary?i("gl-button",e._b({attrs:{"data-testid":"action-tertiary"},on:{click:e.tertiary}},"gl-button",e.buttonBinding(e.actionTertiary,"actionTertiary"),!1),[e._v("\n        "+e._s(e.actionTertiary.text)+"\n      ")]):e._e()],1)]},proxy:!0}:null,e.hasActions?{key:"tabs-end",fn:function(){return[i("div",{staticClass:"gl-actions-tabs-end",attrs:{"data-testid":"actions-tabs-end"}},[e.actionPrimary?i("gl-button",e._b({attrs:{"data-testid":"action-primary"},on:{click:e.primary}},"gl-button",e.buttonBinding(e.actionPrimary,"actionPrimary"),!1),[e._v("\n        "+e._s(e.actionPrimary.text)+"\n      ")]):e._e(),e._v(" "),e.actionSecondary?i("gl-button",e._b({attrs:{"data-testid":"action-secondary"},on:{click:e.secondary}},"gl-button",e.buttonBinding(e.actionSecondary,"actionSecondary"),!1),[e._v("\n        "+e._s(e.actionSecondary.text)+"\n      ")]):e._e(),e._v(" "),e.actionTertiary?i("gl-button",e._b({attrs:{"data-testid":"action-tertiary"},on:{click:e.tertiary}},"gl-button",e.buttonBinding(e.actionTertiary,"actionTertiary"),!1),[e._v("\n        "+e._s(e.actionTertiary.text)+"\n      ")]):e._e()],1)]},proxy:!0}:null],null,!0)},"b-tabs",e.$attrs,!1),e.listeners))},staticRenderFns:[]},void 0,P,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=R},"4UPE":function(e,t,i){"use strict";var n=i("EtIY"),s=i("ly/8"),r={name:"UserAvatarLinkNew",components:{UserAvatarImage:i("9l04").a,GlAvatarLink:n.a},directives:{GlTooltip:s.a},props:{lazy:{type:Boolean,required:!1,default:!1},linkHref:{type:String,required:!1,default:""},imgSrc:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:""},imgCssClasses:{type:String,required:!1,default:""},imgSize:{type:[Number,Object],required:!0},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},username:{type:String,required:!1,default:""}},computed:{shouldShowUsername(){return this.username.length>0},avatarTooltipText(){return this.shouldShowUsername?"":this.tooltipText}}},a=i("bPvS"),o=Object(a.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-avatar-link",{staticClass:"user-avatar-link",attrs:{href:e.linkHref}},[i("user-avatar-image",{attrs:{"img-src":e.imgSrc,"img-alt":e.imgAlt,"css-classes":e.imgCssClasses,size:e.imgSize,"tooltip-text":e.avatarTooltipText,"tooltip-placement":e.tooltipPlacement,lazy:e.lazy}},[e._t("default")],2),e._v(" "),e.shouldShowUsername?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-ml-3",attrs:{title:e.tooltipText,"tooltip-placement":e.tooltipPlacement,"data-testid":"user-avatar-link-username"}},[e._v("\n    "+e._s(e.username)+"\n  ")]):e._e(),e._v(" "),e._t("avatar-badge")],2)}),[],!1,null,null,null);t.a=o.exports},"4mNU":function(e,t,i){var n=i("cZCd");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i("wd1e").default)("272b840b",n,!0,{})},"4stm":function(e,t,i){"use strict";i.d(t,"b",(function(){return Je})),i.d(t,"c",(function(){return et})),i.d(t,"a",(function(){return Qe}));i("0no1"),i("3R5X"),i("gdbl"),i("uHfJ"),i("R0RX");var n=i("6oy4"),s=i.n(n),r=i("q+nE"),a=i("EfTh"),o=i("LkRf"),l=i("+lve"),c=i("7dl8"),d=i("U9ni"),u=i("mpzd"),p=i("oj/M"),h=i("t9l/"),m=(i("u6G8"),i("oVeW"),i("ujLG"),i("HaUQ"),i("ly/8")),f=i("H8gz"),g=i("Daar"),v=i("ZIpG"),b=i("Ad8m"),y={components:{AssigneeAvatar:v.a,UserNameWithStatus:b.a},props:{user:{type:Object,required:!0},issuableType:{type:String,required:!1,default:"issue"}},computed:{availability(){var e;return(null===(e=this.user)||void 0===e?void 0:e.availability)||""}}},k=i("bPvS"),w=Object(k.a)(y,(function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"gl-button btn-link",attrs:{type:"button"}},[t("assignee-avatar",{attrs:{user:this.user,"img-size":24,"issuable-type":this.issuableType}}),this._v(" "),t("user-name-with-status",{attrs:{name:this.user.name,availability:this.availability,"container-classes":"author"}})],1)}),[],!1,null,null,null).exports;var _={directives:{GlTooltip:m.a},components:{CollapsedAssignee:w,GlIcon:f.a},props:{users:{type:Array,required:!0},issuableType:{type:String,required:!1,default:"issue"}},computed:{isMergeRequest(){return"merge_request"===this.issuableType},hasNoUsers(){return!this.users.length},hasMoreThanOneAssignee(){return this.users.length>1},hasMoreThanTwoAssignees(){return this.users.length>2},allAssigneesCanMerge(){return this.users.every((function(e){var t;return e.can_merge||(null===(t=e.mergeRequestInteraction)||void 0===t?void 0:t.canMerge)}))},sidebarAvatarCounter(){return this.users.length>99?"99+":"+"+(this.users.length-1)},collapsedUsers(){const e=this.hasMoreThanTwoAssignees?1:this.users.length;return this.users.slice(0,e)},tooltipTitleMergeStatus(){if(!this.isMergeRequest)return"";const e=this.users.filter((function(e){var t;return e.can_merge||(null===(t=e.mergeRequestInteraction)||void 0===t?void 0:t.canMerge)})).length;return e===this.users.length?"":e>0?Object(h.h)(Object(h.a)("%{mergeLength}/%{usersLength} can merge"),{mergeLength:e,usersLength:this.users.length}):1===this.users.length?Object(h.a)("cannot merge"):Object(h.a)("no one can merge")},tooltipTitle(){const e=Math.min(5,this.users.length);return function(e){let{renderUsers:t,allUsers:i,tooltipTitleMergeStatus:n}=e;const s=t.map((function(e){let{name:t,availability:i}=e;return i&&Object(g.a)(i)?Object(h.h)(Object(h.a)("%{name} (Busy)"),{name:t}):t}));if(!i.length)return Object(h.a)("Assignee(s)");i.length>s.length&&s.push(Object(h.h)(Object(h.a)("+ %{amount} more"),{amount:i.length-s.length}));const r=s.join(", ");return n?`${r} (${n})`:r}({renderUsers:this.users.slice(0,e),allUsers:this.users,tooltipTitleMergeStatus:this.tooltipTitleMergeStatus})},tooltipOptions:()=>({container:"body",placement:"left",boundary:"viewport"})}},S=Object(k.a)(_,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipOptions,expression:"tooltipOptions"}],staticClass:"sidebar-collapsed-icon sidebar-collapsed-user",class:{"multiple-users gl-relative":e.hasMoreThanOneAssignee},attrs:{title:e.tooltipTitle}},[e.hasNoUsers?i("gl-icon",{attrs:{name:"user","aria-label":e.__("None")}}):e._e(),e._v(" "),e._l(e.collapsedUsers,(function(t){return i("collapsed-assignee",{key:t.id,attrs:{user:t,"issuable-type":e.issuableType}})})),e._v(" "),e.hasMoreThanTwoAssignees?i("button",{staticClass:"btn-link gl-button",attrs:{type:"button"}},[i("span",{staticClass:"avatar-counter sidebar-avatar-counter gl-display-flex gl-align-items-center gl-pl-3"},[e._v("\n      "+e._s(e.sidebarAvatarCounter)+"\n    ")]),e._v(" "),e.isMergeRequest&&!e.allAssigneesCanMerge?i("gl-icon",{staticClass:"merge-icon",attrs:{name:"warning-solid","aria-hidden":"true"}}):e._e()],1):e._e()],2)}),[],!1,null,null,null).exports,E=i("L2Ca"),D=i("YOcS"),T=i("X2+/"),C=(i("h8Et"),i("0X+3")),I=i("5ee2"),O=i("XWU0");const j={id:0,title:Object(h.a)("No milestone")},x={id:-1,title:Object(h.a)("Select milestone")};var A={issuableAttribute:I.c.Milestone,components:{GlDropdownItem:C.a,SidebarDropdown:O.a},props:{attrWorkspacePath:{required:!0,type:String},canAdminMilestone:{type:Boolean,required:!1,default:!1},issuableType:{type:String,required:!0,validator:e=>[u.c.Issue,u.c.MergeRequest].includes(e)},inputName:{type:String,required:!1,default:"update[milestone_id]"},milestoneId:{type:String,required:!1,default:""},milestoneTitle:{type:String,required:!1,default:""},projectMilestonesPath:{type:String,required:!1,default:""},workspaceType:{type:String,required:!0,validator:e=>[u.e.group,u.e.project].includes(e)}},data(){return{milestone:this.milestoneId?{id:Object(l.c)(o.k,this.milestoneId),title:this.milestoneTitle}:x}},computed:{footerItemText(){return this.canAdminMilestone?Object(h.a)("Manage milestones"):Object(h.a)("View milestones")},value(){return this.milestone.id===x.id?void 0:Object(l.d)(this.milestone.id)}},methods:{handleChange(e){this.milestone=null===e.id?j:e}}},N=Object(k.a)(A,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("input",{attrs:{type:"hidden",name:e.inputName},domProps:{value:e.value}}),e._v(" "),i("sidebar-dropdown",{attrs:{"attr-workspace-path":e.attrWorkspacePath,"current-attribute":e.milestone,"issuable-attribute":e.$options.issuableAttribute,"issuable-type":e.issuableType,"workspace-type":e.workspaceType,"data-qa-selector":"issuable_milestone_dropdown"},on:{change:e.handleChange},scopedSlots:e._u([{key:"footer",fn:function(){return[e.projectMilestonesPath?i("gl-dropdown-item",{attrs:{href:e.projectMilestonesPath}},[e._v("\n        "+e._s(e.footerItemText)+"\n      ")]):e._e()]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,F=i("aeXO"),L={i18n:{fetchingError:Object(h.a)("An error occurred while fetching participants")},components:{Participants:F.a},props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},issuableType:{required:!0,type:String}},data:()=>({participants:[]}),apollo:{participants:{query(){return I.u[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:this.iid}},update(e){var t,i;return(null===(t=e.workspace)||void 0===t||null===(i=t.issuable)||void 0===i?void 0:i.participants.nodes)||[]},error(e){this.$emit("fetch-error",{message:this.$options.i18n.fetchingError,error:e})},context:{isSingleRequest:!0}}},computed:{isLoading(){return this.$apollo.queries.participants.loading}},methods:{toggleSidebar(){this.$emit("toggleSidebar")}}},P=Object(k.a)(L,(function(){var e=this.$createElement;return(this._self._c||e)("participants",{staticClass:"block participants",attrs:{loading:this.isLoading,participants:this.participants,"number-of-less-participants":8,lazy:!1},on:{toggleSidebar:this.toggleSidebar}})}),[],!1,null,null,null).exports,R=i("zLBL"),q=i("nPFI"),$={name:"CopyableField",components:{ClipboardButton:i("/MVl").a,GlLoadingIcon:R.a,GlSprintf:q.a},props:{value:{type:String,required:!0},name:{type:String,required:!0},isLoading:{type:Boolean,required:!1,default:!1},clipboardTooltipText:{type:String,required:!1,default:void 0}},computed:{clipboardProps(){return{category:"tertiary",tooltipBoundary:"viewport",tooltipPlacement:"left",text:this.value,title:this.clipboardTooltipText||Object(h.h)(this.$options.i18n.clipboardTooltip,{name:this.name})}},loadingIconLabel(){return Object(h.h)(this.$options.i18n.loadingIconLabel,{name:this.name})}},i18n:{loadingIconLabel:Object(h.a)("Loading %{name}"),clipboardTooltip:Object(h.a)("Copy %{name}"),templateText:Object(h.g)("Sidebar|%{name}: %{value}")}},B=Object(k.a)($,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isLoading?e._e():i("clipboard-button",e._b({attrs:{"css-class":"sidebar-collapsed-icon js-dont-change-state gl-rounded-0! gl-hover-bg-transparent"}},"clipboard-button",e.clipboardProps,!1)),e._v(" "),i("div",{staticClass:"gl-display-flex gl-align-items-center gl-justify-content-space-between hide-collapsed"},[i("span",{staticClass:"gl-overflow-hidden gl-text-overflow-ellipsis gl-white-space-nowrap",attrs:{title:e.value}},[i("gl-sprintf",{attrs:{message:e.$options.i18n.templateText},scopedSlots:e._u([{key:"name",fn:function(){return[e._v(e._s(e.name))]},proxy:!0},{key:"value",fn:function(){return[e._v(e._s(e.value))]},proxy:!0}])})],1),e._v(" "),e.isLoading?i("gl-loading-icon",{attrs:{size:"sm",inline:"",label:e.loadingIconLabel}}):i("clipboard-button",e._b({attrs:{size:"small"}},"clipboard-button",e.clipboardProps,!1))],1)],1)}),[],!1,null,null,null).exports,M={components:{CopyableField:B},inject:["fullPath","iid"],props:{issuableType:{required:!0,type:String}},data:()=>({reference:""}),apollo:{reference:{query(){return I.v[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:this.iid}},update(e){var t,i;return(null===(t=e.workspace)||void 0===t||null===(i=t.issuable)||void 0===i?void 0:i.reference)||""},error(e){this.$emit("fetch-error",{message:Object(h.a)("An error occurred while fetching reference"),error:e})}}},computed:{isLoading(){return this.$apollo.queries.reference.loading}}},U=Object(k.a)(M,(function(){var e=this.$createElement;return(this._self._c||e)("copyable-field",{staticClass:"sub-block",attrs:{"is-loading":this.isLoading,name:this.__("Reference"),value:this.reference}})}),[],!1,null,null,null).exports,V=i("/lks"),z=i("ICNN"),W=i("ZfsP"),H=i("mWeI");function G(e){const{trackAction:t,trackLabel:i}=e.querySelector(".js-invite-members-track").dataset;s()(e).on("shown.bs.dropdown",(function(){H.a.event(void 0,t,{label:i})}))}const K="sidebar";var Y=i("+h6Y"),Q=i("OwKD"),X=i("SJBi"),J=i("Ehiv"),Z=i("teVv"),ee=i("cBN0"),te=i("AUIv"),ie=i("Zxcm"),ne={name:"AssigneeTitle",components:{GlLoadingIcon:R.a,GlIcon:f.a},mixins:[Object(ie.a)()],props:{loading:{type:Boolean,required:!1,default:!1},numberOfAssignees:{type:Number,required:!0},editable:{type:Boolean,required:!0},showToggle:{type:Boolean,required:!1,default:!1},changing:{type:Boolean,required:!1,default:!1}},computed:{assigneeTitle(){const e=this.numberOfAssignees;return Object(h.f)("Assignee","%d Assignees",e)},titleCopy(){return this.changing?Object(h.a)("Apply"):Object(h.a)("Edit")}}},se=Object(k.a)(ne,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"hide-collapsed gl-line-height-20 gl-mb-2 gl-text-gray-900 gl-font-weight-bold"},[e._v("\n  "+e._s(e.assigneeTitle)+"\n  "),e.loading?i("gl-loading-icon",{staticClass:"align-bottom",attrs:{size:"sm",inline:""}}):e._e(),e._v(" "),e.editable?i("a",{staticClass:"js-sidebar-dropdown-toggle edit-link btn gl-text-gray-900! gl-ml-auto hide-collapsed btn-default btn-sm gl-button btn-default-tertiary float-right",attrs:{href:"#","data-test-id":"edit-link","data-qa-selector":"edit_link","data-track-action":"click_edit_button","data-track-label":"right_sidebar","data-track-property":"assignee"}},[e._v("\n    "+e._s(e.titleCopy)+"\n  ")]):e._e(),e._v(" "),e.showToggle?i("a",{staticClass:"gutter-toggle float-right js-sidebar-toggle",class:{"gl-display-block gl-md-display-none!":e.glFeatures.movedMrSidebar},attrs:{"aria-label":e.__("Toggle sidebar"),href:"#",role:"button"}},[i("gl-icon",{attrs:{"data-hidden":"true",name:"chevron-double-lg-right",size:12}})],1):e._e()],1)}),[],!1,null,null,null).exports,re=i("QWlh"),ae={name:"Assignees",components:{CollapsedAssigneeList:S,UncollapsedAssigneeList:re.a},props:{users:{type:Array,required:!0},editable:{type:Boolean,required:!0},issuableType:{type:String,required:!1,default:"issue"}},computed:{hasNoUsers(){return!this.users.length},sortedAssigness(){return[...this.users.filter((function(e){return e.can_merge})),...this.users.filter((function(e){return!e.can_merge}))]}},methods:{assignSelf(){this.$emit("assign-self")}}},oe={name:"SidebarAssignees",components:{AssigneeTitle:se,Assignees:Object(k.a)(ae,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("collapsed-assignee-list",{attrs:{users:e.sortedAssigness,"issuable-type":e.issuableType}}),e._v(" "),i("div",{staticClass:"value hide-collapsed",attrs:{"data-testid":"expanded-assignee"}},[e.hasNoUsers?i("span",{staticClass:"no-value",attrs:{"data-testid":"no-value"}},[e._v("\n      "+e._s(e.__("None"))+"\n      "),e.editable?[e._v("\n        -\n        "),i("button",{staticClass:"gl-button btn-link gl-reset-color!",attrs:{type:"button","data-testid":"assign-yourself","data-qa-selector":"assign_yourself_button"},on:{click:e.assignSelf}},[e._v("\n          "+e._s(e.__("assign yourself"))+"\n        ")])]:e._e()],2):i("uncollapsed-assignee-list",{attrs:{users:e.sortedAssigness,"issuable-type":e.issuableType}})],1)],1)}),[],!1,null,null,null).exports,AssigneesRealtime:i("P9vb").a},mixins:[Object(ie.a)()],props:{mediator:{type:Object,required:!0},field:{type:String,required:!0},signedIn:{type:Boolean,required:!1,default:!1},issuableType:{type:String,required:!1,default:"issue"},issuableIid:{type:String,required:!0},projectPath:{type:String,required:!0},issuableId:{type:Number,required:!0},assigneeAvailabilityStatus:{type:Object,required:!1,default:function(){return{}}}},data:()=>({store:new te.a,loading:!1}),computed:{shouldEnableRealtime(){return"issue"===this.issuableType},queryVariables(){return{iid:this.issuableIid,fullPath:this.projectPath}},relativeUrlRoot(){var e;return null!==(e=gon.relative_url_root)&&void 0!==e?e:""}},created(){this.removeAssignee=this.store.removeAssignee.bind(this.store),this.addAssignee=this.store.addAssignee.bind(this.store),this.removeAllAssignees=this.store.removeAllAssignees.bind(this.store),ee.a.$on("sidebar.removeAssignee",this.removeAssignee),ee.a.$on("sidebar.addAssignee",this.addAssignee),ee.a.$on("sidebar.removeAllAssignees",this.removeAllAssignees),ee.a.$on("sidebar.saveAssignees",this.saveAssignees)},beforeDestroy(){ee.a.$off("sidebar.removeAssignee",this.removeAssignee),ee.a.$off("sidebar.addAssignee",this.addAssignee),ee.a.$off("sidebar.removeAllAssignees",this.removeAllAssignees),ee.a.$off("sidebar.saveAssignees",this.saveAssignees)},methods:{assignSelf(){this.$el.parentElement.dispatchEvent(new Event("assignYourself")),this.mediator.assignYourself(),this.saveAssignees()},saveAssignees(){var e=this;this.loading=!0,this.mediator.saveAssignees(this.field).then((function(){e.loading=!1,e.store.resetChanging(),Object(J.b)()})).catch((function(){return e.loading=!1,Object(Z.createAlert)({message:Object(h.a)("Error occurred when saving assignees")})}))},exposeAvailabilityStatus(e){var t=this;return e.map((function(e){let{username:i,...n}=e;return{...n,username:i,availability:t.assigneeAvailabilityStatus[i]||""}}))}}},le=Object(k.a)(oe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.shouldEnableRealtime?i("assignees-realtime",{attrs:{"issuable-type":e.issuableType,"issuable-id":e.issuableId,"query-variables":e.queryVariables,mediator:e.mediator}}):e._e(),e._v(" "),i("assignee-title",{attrs:{"number-of-assignees":e.store.assignees.length,loading:e.loading||e.store.isFetching.assignees,editable:e.store.editable,"show-toggle":!e.signedIn,changing:e.store.changing}}),e._v(" "),e.store.isFetching.assignees?e._e():i("assignees",{attrs:{"root-path":e.relativeUrlRoot,users:e.exposeAvailabilityStatus(e.store.assignees),editable:e.store.editable,"issuable-type":e.issuableType},on:{"assign-self":e.assignSelf}})],1)}),[],!1,null,null,null).exports,ce={components:{CopyableField:B},props:{issueEmailAddress:{type:String,required:!0}}},de=Object(k.a)(ce,(function(){var e=this.$createElement;return(this._self._c||e)("copyable-field",{attrs:{"data-testid":"copy-forward-email",name:this.s__("RightSidebar|Issue email"),"clipboard-tooltip-text":this.s__("RightSidebar|Copy email address"),value:this.issueEmailAddress}})}),[],!1,null,null,null).exports,ue=i("TS24"),pe=i("OkMp");const he={TRIGGERED:Object(h.g)("IncidentManagement|Triggered"),ACKNOWLEDGED:Object(h.g)("IncidentManagement|Acknowledged"),RESOLVED:Object(h.g)("IncidentManagement|Resolved")},me={fetchError:Object(h.g)("IncidentManagement|An error occurred while fetching the incident status. Please reload the page."),title:Object(h.g)("IncidentManagement|Status"),updateError:Object(h.g)("IncidentManagement|An error occurred while updating the incident status. Please reload the page and try again.")},fe=function(e){var t;return null!==(t=he[e])&&void 0!==t?t:Object(h.g)("IncidentManagement|None")},ge=["TRIGGERED","ACKNOWLEDGED","RESOLVED"];var ve={i18n:me,STATUS_LIST:ge,components:{GlDropdown:pe.a,GlDropdownItem:C.a},props:{value:{type:String,required:!1,default:null,validator:e=>[...ge,null].includes(e)},preventDropdownClose:{type:Boolean,required:!1,default:!1}},computed:{currentStatusLabel(){return this.getStatusLabel(this.value)}},methods:{show(){this.$refs.dropdown.show()},hide(){this.$refs.dropdown.hide()},getStatusLabel:fe,hideDropdown(e){this.preventDropdownClose&&e.preventDefault()}}},be={i18n:me,components:{EscalationStatus:Object(k.a)(ve,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-dropdown",{ref:"dropdown",attrs:{block:"",text:e.currentStatusLabel,"toggle-class":"dropdown-menu-toggle gl-mb-2"},on:{hide:e.hideDropdown}},[e._t("header"),e._v(" "),e._l(e.$options.STATUS_LIST,(function(t){return i("gl-dropdown-item",{key:t,attrs:{"data-testid":"status-dropdown-item","is-check-item":"","is-checked":t===e.value},on:{click:function(i){return e.$emit("input",t)}}},[e._v("\n    "+e._s(e.getStatusLabel(t))+"\n  ")])}))],2)}),[],!1,null,null,null).exports,SidebarEditableItem:i("dYBJ").a,GlIcon:f.a},directives:{GlTooltip:m.a},props:{iid:{type:String,required:!0},projectPath:{type:String,required:!0},issuableType:{required:!0,type:String}},data:()=>({status:null,isUpdating:!1}),apollo:{status:{query:()=>I.q,variables(){return{fullPath:this.projectPath,iid:this.iid}},update(e){var t,i;return null===(t=e.workspace)||void 0===t||null===(i=t.issuable)||void 0===i?void 0:i.escalationStatus},error(e){const t=this.$options.i18n.fetchError;Object(Z.createAlert)({message:t}),Object(ue.a)(t,e)}}},computed:{isLoading(){return this.$apollo.queries.status.loading},currentStatusLabel(){return fe(this.status)},tooltipText(){return`${this.$options.i18n.title}: ${this.currentStatusLabel}`}},methods:{updateStatus(e){var t=this;return this.isUpdating=!0,this.closeSidebar(),this.$apollo.mutate({mutation:I.p,variables:{status:e,iid:this.iid,projectPath:this.projectPath}}).then((function(e){let{data:{issueSetEscalationStatus:i}}=e;t.status=i.issue.escalationStatus})).catch((function(e){const i=t.$options.i18n.updateError;Object(Z.createAlert)({message:i}),Object(ue.a)(i,e)})).finally((function(){t.isUpdating=!1}))},closeSidebar(){this.close(),this.$refs.editable.collapse()},open(){this.$refs.escalationStatus.show()},close(){this.$refs.escalationStatus.hide()}}},ye=Object(k.a)(be,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("sidebar-editable-item",{ref:"editable",attrs:{title:e.$options.i18n.title,"initial-loading":e.isLoading,loading:e.isUpdating},on:{open:e.open,close:e.close},scopedSlots:e._u([{key:"default",fn:function(){return[i("escalation-status",{ref:"escalationStatus",attrs:{value:e.status},on:{input:e.updateStatus}})]},proxy:!0},{key:"collapsed",fn:function(){return[i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.left",value:e.tooltipText,expression:"tooltipText",modifiers:{viewport:!0,left:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{"data-testid":"status-icon"}},[i("gl-icon",{attrs:{name:"status",size:16}})],1),e._v(" "),i("span",{staticClass:"hide-collapsed text-secondary"},[e._v(e._s(e.currentStatusLabel))])]},proxy:!0}])})}),[],!1,null,null,null).exports,ke=i("hAnt"),we=i("CkNe"),_e=i("LuMo"),Se={components:{GlButton:i("cuRJ").a},inject:["fullPath"],props:{isLocked:{required:!0,type:Boolean},issuableDisplayName:{required:!0,type:String}},data:()=>({isLoading:!1}),computed:{buttonText(){return this.isLoading?Object(h.a)("Applying"):this.isLocked?Object(h.a)("Unlock"):Object(h.a)("Lock")}},methods:{...Object(we.c)(["updateLockedAttribute"]),closeForm(){ee.a.$emit("closeLockForm"),s()(this.$el).trigger("hidden.gl.dropdown")},submitForm(){var e=this;this.isLoading=!0,this.updateLockedAttribute({locked:!this.isLocked,fullPath:this.fullPath}).catch((function(){const t=Object(h.a)("Something went wrong trying to change the locked state of this %{issuableDisplayName}");Object(Z.createAlert)({message:Object(h.h)(t,{issuableDisplayName:e.issuableDisplayName})})})).finally((function(){e.closeForm(),e.isLoading=!1}))}}},Ee={components:{EditFormButtons:Object(k.a)(Se,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"sidebar-item-warning-message-actions"},[i("gl-button",{staticClass:"gl-mr-3",on:{click:e.closeForm}},[e._v("\n    "+e._s(e.__("Cancel"))+"\n  ")]),e._v(" "),i("gl-button",{attrs:{"data-testid":"lock-toggle",category:"secondary",variant:"confirm",disabled:e.isLoading,loading:e.isLoading},on:{click:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")])],1)}),[],!1,null,null,null).exports,GlSprintf:q.a},props:{isLocked:{required:!0,type:Boolean},issuableDisplayName:{required:!0,type:String}}},De=Object(k.a)(Ee,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown show"},[i("div",{staticClass:"dropdown-menu sidebar-item-warning-message",attrs:{"data-testid":"warning-text"}},[e.isLocked?i("p",{staticClass:"text"},[i("gl-sprintf",{attrs:{message:e.__("Unlock this %{issuableDisplayName}? %{strongStart}Everyone%{strongEnd} will be able to comment.")},scopedSlots:e._u([{key:"issuableDisplayName",fn:function(){return[e._v(e._s(e.issuableDisplayName))]},proxy:!0},{key:"strong",fn:function(t){var n=t.content;return[i("strong",[e._v(e._s(n))])]}}],null,!1,2657919220)})],1):i("p",{staticClass:"text"},[i("gl-sprintf",{attrs:{message:e.__("Lock this %{issuableDisplayName}? Only %{strongStart}project members%{strongEnd} will be able to comment.")},scopedSlots:e._u([{key:"issuableDisplayName",fn:function(){return[e._v(e._s(e.issuableDisplayName))]},proxy:!0},{key:"strong",fn:function(t){var n=t.content;return[i("strong",[e._v(e._s(n))])]}}])})],1),e._v(" "),i("edit-form-buttons",{attrs:{"is-locked":e.isLocked,"issuable-display-name":e.issuableDisplayName}})],1)])}),[],!1,null,null,null).exports,Te={issue:"issue",locked:{icon:"lock",class:"value",iconClass:"is-active",displayText:Object(h.a)("Locked")},unlocked:{class:["no-value hide-collapsed"],icon:"lock-open",iconClass:"",displayText:Object(h.a)("Unlocked")},components:{EditForm:De,GlIcon:f.a},directives:{GlTooltip:m.a,Outside:ke.a},mixins:[Object(ie.a)()],inject:["fullPath"],props:{isEditable:{required:!0,type:Boolean}},data:()=>({isLockDialogOpen:!1}),computed:{...Object(we.d)(["getNoteableData"]),isMergeRequest(){return"merge_request"===this.getNoteableData.targetType&&this.glFeatures.movedMrSidebar},issuableDisplayName(){return this.getNoteableData.targetType===this.$options.issue?Object(h.a)("issue"):Object(h.a)("merge request")},isLocked(){return this.getNoteableData.discussion_locked},lockStatus(){return this.isLocked?this.$options.locked:this.$options.unlocked},tooltipLabel(){return this.isLocked?Object(h.a)("Locked"):Object(h.a)("Unlocked")}},created(){ee.a.$on("closeLockForm",this.toggleForm)},beforeDestroy(){ee.a.$off("closeLockForm",this.toggleForm)},methods:{...Object(we.c)(["updateLockedAttribute"]),toggleForm(){this.isEditable&&(this.isLockDialogOpen=!this.isLockDialogOpen)},toggleLocked(){var e=this;this.isLoading=!0,this.updateLockedAttribute({locked:!this.isLocked,fullPath:this.fullPath}).then((function(){e.isMergeRequest&&Object(_e.a)(e.isLocked?Object(h.a)("Merge request locked."):Object(h.a)("Merge request unlocked."))})).catch((function(){const t=Object(h.a)("Something went wrong trying to change the locked state of this %{issuableDisplayName}");Object(Z.createAlert)({message:Object(h.h)(t,{issuableDisplayName:e.issuableDisplayName})})})).finally((function(){e.isLoading=!1}))},closeForm(){this.isLockDialogOpen=!1}}},Ce=Object(k.a)(Te,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isMergeRequest?i("li",{staticClass:"gl-new-dropdown-item"},[i("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:e.toggleLocked}},[i("span",{staticClass:"gl-new-dropdown-item-text-wrapper"},[e.isLocked?[e._v("\n        "+e._s(e.__("Unlock merge request"))+"\n      ")]:[e._v("\n        "+e._s(e.__("Lock merge request"))+"\n      ")]],2)])]):i("div",{staticClass:"block issuable-sidebar-item lock"},[i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",value:{title:e.tooltipLabel},expression:"{ title: tooltipLabel }",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{"data-testid":"sidebar-collapse-icon"},on:{click:e.toggleForm}},[i("gl-icon",{staticClass:"sidebar-item-icon is-active",attrs:{name:e.lockStatus.icon}})],1),e._v(" "),i("div",{staticClass:"hide-collapsed gl-line-height-20 gl-mb-2 gl-text-gray-900 gl-font-weight-bold"},[e._v("\n    "+e._s(e.sprintf(e.__("Lock %{issuableDisplayName}"),{issuableDisplayName:e.issuableDisplayName}))+"\n    "),e.isEditable?i("a",{staticClass:"float-right lock-edit btn gl-text-gray-900! gl-ml-auto hide-collapsed btn-default btn-sm gl-button btn-default-tertiary gl-mr-n2",attrs:{href:"#","data-testid":"edit-link","data-track-action":"click_edit_button","data-track-label":"right_sidebar","data-track-property":"lock_issue"},on:{click:function(t){return t.preventDefault(),e.toggleForm.apply(null,arguments)}}},[e._v("\n      "+e._s(e.__("Edit"))+"\n    ")]):e._e()]),e._v(" "),i("div",{staticClass:"value sidebar-item-value hide-collapsed"},[e.isLockDialogOpen?i("edit-form",{directives:[{name:"outside",rawName:"v-outside",value:e.closeForm,expression:"closeForm"}],attrs:{"data-testid":"edit-form","is-locked":e.isLocked,"issuable-display-name":e.issuableDisplayName}}):e._e(),e._v(" "),i("div",{staticClass:"sidebar-item-value",class:e.lockStatus.class,attrs:{"data-testid":"lock-status"}},[e._v("\n      "+e._s(e.lockStatus.displayText)+"\n    ")])],1)])}),[],!1,null,null,null).exports,Ie=i("SVdh"),Oe={data:()=>Ie.b,computed:{reviewers(){var e,t;return(null===(e=this.issuable)||void 0===e||null===(t=e.reviewers)||void 0===t?void 0:t.nodes)||[]}},methods:{getIdFromGraphQLId:l.d}},je=Object(k.a)(Oe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._l(e.reviewers,(function(t){return i("input",{key:t.id,attrs:{type:"hidden",name:"merge_request[reviewer_ids][]","data-avatar-url":t.avatarUrl,"data-name":t.name,"data-username":t.username,"data-can-merge":t.mergeRequestInteraction.canMerge},domProps:{value:e.getIdFromGraphQLId(t.id)}})})),0)}),[],!1,null,null,null).exports,xe=i("xvTi"),Ae=i("sRfO"),Ne=i("KZOo"),Fe=i.n(Ne),Le=(i("iPqD"),{components:{IssuableTimeTracker:i("t26s").a},props:{fullPath:{type:String,required:!1,default:""},issuableId:{type:String,required:!0},issuableIid:{type:String,required:!0},limitToHours:{type:Boolean,required:!1,default:!1}},mounted(){this.listenForQuickActions()},methods:{listenForQuickActions(){var e=this;s()(document).on("ajax:success",".gfm-form",this.quickActionListened),ee.a.$on("timeTrackingUpdated",(function(t){e.quickActionListened({detail:[t]})}))},quickActionListened(e){const t=e.detail[0];let i;i=void 0!==t&&t.commands_changes?Object.keys(t.commands_changes):[],i&&Fe()(["spend_time","time_estimate"],i).length&&ee.a.$emit("timeTracker:refresh")}}}),Pe=Object(k.a)(Le,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block time-tracking"},[t("issuable-time-tracker",{attrs:{"full-path":this.fullPath,"issuable-id":this.issuableId,"issuable-iid":this.issuableIid,"limit-to-hours":this.limitToHours}})],1)}),[],!1,null,null,null).exports,Re=i("A1CF"),qe=i.n(Re),$e=i("rl6E");function Be(e){return e>0}var Me=class{constructor(e,t,i){this.mediator=e,this.$dropdownToggle=s()(t),this.$confirmButton=s()(i),this.onConfirmClickedWrapper=this.onConfirmClicked.bind(this)}init(){this.initDropdown(),this.addEventListeners()}destroy(){this.removeEventListeners()}initDropdown(){var e=this;Object($e.a)(this.$dropdownToggle,{search:{fields:["name_with_namespace"]},showMenuAbove:!0,selectable:!0,filterable:!0,filterRemote:!0,multiSelect:!1,shouldPropagate:!1,data:function(t,i){e.mediator.fetchAutocompleteProjects(t).then(i).catch((function(){return Object(Z.createAlert)({message:Object(h.a)("An error occurred while fetching projects autocomplete.")})}))},renderRow:function(e){return`\n        <li>\n          <a href="#" class="js-move-issue-dropdown-item">\n            ${qe()(e.name_with_namespace)}\n          </a>\n        </li>\n      `},clicked:function(t){const i=t.selectedObj,n=t.isMarking?i.id:0;e.mediator.setMoveToProjectId(n),e.$confirmButton.prop("disabled",!Be(n))}})}addEventListeners(){this.$confirmButton.on("click",this.onConfirmClickedWrapper)}removeEventListeners(){this.$confirmButton.off("click",this.onConfirmClickedWrapper)}onConfirmClicked(){var e=this;Be(this.mediator.store.moveToProjectId)&&(this.$confirmButton.disable().addClass("is-loading"),this.mediator.moveIssue().catch((function(){Object(Z.createAlert)({message:Object(h.a)("An error occurred while moving the issue.")}),e.$confirmButton.enable().removeClass("is-loading")})))}},Ue=i("u1ru"),Ve=i("KFH7"),ze=i("udFm"),We=i.n(ze),He=i("Ur+U"),Ge=i.n(He),Ke={components:{GlIcon:f.a,GlLink:Ue.a,GlPopover:Ve.a},directives:{GlTooltip:m.a},props:{issueId:{type:String,required:!0},groupIssuesPath:{type:String,required:!0}},data:()=>({contacts:[]}),apollo:{contacts:{query:We.a,variables(){return this.queryVariables},update(e){var t,i;return null==e||null===(t=e.issue)||void 0===t||null===(i=t.customerRelationsContacts)||void 0===i?void 0:i.nodes},error(e){Object(Z.createAlert)({message:Object(h.a)("Something went wrong trying to load issue contacts."),error:e,captureError:!0})},subscribeToMore:{document:Ge.a,variables(){return this.queryVariables},updateQuery(e,t){var i;let{subscriptionData:n}=t;const s=null==n||null===(i=n.data)||void 0===i?void 0:i.issueCrmContactsUpdated;return e&&s?{issue:s}:e}}}},computed:{shouldShowContacts(){var e;return null===(e=this.contacts)||void 0===e?void 0:e.length},queryVariables(){return{id:Object(l.c)(o.h,this.issueId)}},contactsLabel(){return Object(h.h)(Object(h.f)("%{count} contact","%{count} contacts",this.contactCount),{count:this.contactCount})},contactCount(){var e;return(null===(e=this.contacts)||void 0===e?void 0:e.length)||0}},methods:{shouldShowPopover(e){return this.popOverData(e).length>0},divider(e){return e<this.contactCount-1?",":""},popOverData(e){var t;return[null===(t=e.organization)||void 0===t?void 0:t.name,e.email,e.phone,e.description].filter(Boolean)},getIssuesPath(e){const t=Object(l.d)(e);return`${this.groupIssuesPath}?crm_contact_id=${t}`}}},Ye=Object(k.a)(Ke,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.contactsLabel}},[i("gl-icon",{attrs:{name:"users"}}),e._v(" "),i("span",[e._v(" "+e._s(e.contactCount)+" ")])],1),e._v(" "),i("div",{staticClass:"hide-collapsed help-button gl-float-right"},[i("gl-link",{attrs:{href:"https://docs.gitlab.com/ee/user/crm/",target:"_blank"}},[i("gl-icon",{attrs:{name:"question-o"}})],1)],1),e._v(" "),i("div",{staticClass:"title hide-collapsed gl-mb-2 gl-line-height-20 gl-font-weight-bold"},[e._v("\n    "+e._s(e.contactsLabel)+"\n  ")]),e._v(" "),i("div",{staticClass:"hide-collapsed gl-display-flex gl-flex-wrap"},e._l(e.contacts,(function(t,n){return i("div",{key:n,staticClass:"gl-pr-2",attrs:{id:"contact_container_"+n}},[i("gl-link",{attrs:{id:"contact_"+n,href:e.getIssuesPath(t.id)}},[e._v(e._s(t.firstName)+" "+e._s(t.lastName)+e._s(e.divider(n)))]),e._v(" "),e.shouldShowPopover(t)?i("gl-popover",{attrs:{target:"contact_"+n,container:"contact_container_"+n,triggers:"hover focus",placement:"top"}},e._l(e.popOverData(t),(function(t){return i("div",{key:t},[e._v(e._s(t))])})),0):e._e()],1)})),0)])}),[],!1,null,null,null).exports;function Qe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.querySelector(".js-sidebar-options");return JSON.parse(e.innerHTML)}function Xe(e){const t=document.querySelector(".js-sidebar-assignees-root");if(!t)return null;const{id:i,iid:n,fullPath:s}=Qe(),a=function(){const e=document.querySelectorAll(".js-sidebar-assignee-data input");return Array.from(e).map((function(e){return e.dataset})).reduce((function(e,t){let{username:i,availability:n=""}=t;return{...e,[i]:n}}),{})}();return new r.default({el:t,name:"SidebarAssigneesRoot",apolloProvider:W.a,render:function(r){return r(le,{props:{mediator:e,issuableIid:String(n),projectPath:s,field:t.dataset.field,signedIn:Object.prototype.hasOwnProperty.call(t.dataset,"signedIn"),issuableType:Object(p.x)()||Object(p.w)()||Object(p.u)()?u.c.Issue:u.c.MergeRequest,issuableId:i,assigneeAvailabilityStatus:a}})}})}function Je(){const e=document.querySelector(".js-milestone-dropdown-root");if(!e)return null;r.default.use(a.b);const{canAdminMilestone:t,fullPath:i,inputName:n,milestoneId:s,milestoneTitle:o,projectMilestonesPath:l,workspaceType:c}=e.dataset;return new r.default({el:e,name:"MilestoneDropdownRoot",apolloProvider:W.a,render:e=>e(N,{props:{attrWorkspacePath:i,canAdminMilestone:t,inputName:n,issuableType:Object(p.x)()?u.c.Issue:u.c.MergeRequest,milestoneId:s,milestoneTitle:o,projectMilestonesPath:l,workspaceType:c}})})}r.default.use(X.a),r.default.use(a.b);const Ze=(Object(p.x)()||Object(p.u)()||Object(p.y)())&&gon.features.issueAssigneesWidget;function et(e,t){Object(c.default)(),Object(d.default)(),function(){const e=document.querySelector(".js-sidebar-todo-widget-root");if(!e)return null;const{projectPath:t,iid:i,id:n}=e.dataset;new r.default({el:e,name:"SidebarTodoWidgetRoot",apolloProvider:W.a,provide:{isClassicSidebar:!0},render:function(e){return e(z.a,{props:{fullPath:t,issuableId:Object(p.x)()||Object(p.w)()||Object(p.u)()?Object(l.c)(o.h,n):Object(l.c)(o.j,n),issuableIid:i,issuableType:Object(p.x)()||Object(p.w)()||Object(p.u)()?u.c.Issue:u.c.MergeRequest}})}})}(),Ze?function(){const e=document.querySelector(".js-sidebar-assignees-root");if(!e)return;const{id:t,iid:i,fullPath:n,editable:s}=Qe(),a=Object(p.x)()||Object(p.w)()||Object(p.u)()?u.c.Issue:u.c.MergeRequest;new r.default({el:e,name:"SidebarAssigneesRoot",apolloProvider:W.a,provide:{canUpdate:s,directlyInviteMembers:Object.prototype.hasOwnProperty.call(e.dataset,"directlyInviteMembers")},render:function(r){return r(E.a,{props:{iid:String(i),fullPath:n,issuableType:a,issuableId:t,allowMultipleAssignees:!e.dataset.maxAssignees||e.dataset.maxAssignees>1,editable:s},scopedSlots:{collapsed:function(e){let{users:t}=e;return r(S,{props:{users:t,issuableType:a}})}}})}});const o=document.querySelector(".js-sidebar-assignee-dropdown");o&&G(o)}():Xe(e),function(e){const t=document.querySelector(".js-sidebar-reviewers-root");if(!t)return;const{iid:i,fullPath:n}=Qe();new r.default({el:t,name:"SidebarReviewersRoot",apolloProvider:W.a,render:function(s){return s(Ie.a,{props:{mediator:e,issuableIid:String(i),projectPath:n,field:t.dataset.field,issuableType:Object(p.x)()||Object(p.u)()?u.c.Issue:u.c.MergeRequest}})}});const s=document.querySelector(".js-reviewers-inputs");s&&new r.default({el:s,render:e=>e(je)});const a=document.querySelector(".js-sidebar-reviewer-dropdown");a&&G(a)}(e),function(){const e=document.querySelector(".js-sidebar-crm-contacts-root");if(!e)return null;const{issueId:t,groupIssuesPath:i}=e.dataset;new r.default({el:e,name:"SidebarCrmContactsRoot",apolloProvider:W.a,render:function(e){return e(Ye,{props:{issueId:t,groupIssuesPath:i}})}})}(),function(){const e=document.querySelector(".js-sidebar-labels-widget-root");e&&new r.default({el:e,name:"SidebarLabelsWidgetRoot",apolloProvider:W.a,provide:{...e.dataset,canUpdate:Object(p.F)(e.dataset.canEdit),allowLabelCreate:Object(p.F)(e.dataset.allowLabelCreate),allowLabelEdit:Object(p.F)(e.dataset.canEdit),allowScopedLabels:Object(p.F)(e.dataset.allowScopedLabels),isClassicSidebar:!0},render:function(t){return t(Y.a,{props:{iid:String(e.dataset.iid),fullPath:e.dataset.projectPath,allowLabelRemove:Object(p.F)(e.dataset.canEdit),allowMultiselect:!0,footerCreateLabelTitle:Object(h.a)("Create project label"),footerManageLabelTitle:Object(h.a)("Manage project labels"),labelsCreateTitle:Object(h.a)("Create project label"),labelsFilterBasePath:e.dataset.projectIssuesPath,variant:K,issuableType:Object(p.x)()||Object(p.w)()||Object(p.u)()?u.c.Issue:u.c.MergeRequest,workspaceType:"project",attrWorkspacePath:e.dataset.projectPath,labelCreateType:Q.c.project},class:["block labels js-labels-block"],scopedSlots:{default:function(){return Object(h.a)("None")}}})}})}(),function(){const e=document.querySelector(".js-sidebar-milestone-widget-root");if(!e)return null;const{canEdit:t,projectPath:i,issueIid:n}=e.dataset;new r.default({el:e,name:"SidebarMilestoneWidgetRoot",apolloProvider:W.a,provide:{canUpdate:Object(p.F)(t),isClassicSidebar:!0},render:function(e){return e(V.a,{props:{attrWorkspacePath:i,workspacePath:i,iid:n,issuableType:Object(p.x)()||Object(p.u)()?u.c.Issue:u.c.MergeRequest,issuableAttribute:I.c.Milestone,icon:"clock"}})}})}(),function(){const e=document.querySelector(".js-sidebar-confidential-widget-root");if(!e)return null;const{fullPath:t,iid:i}=Qe(),n=document.getElementById("js-confidential-issue-data"),s=JSON.parse(n.innerHTML);new r.default({el:e,name:"SidebarConfidentialityWidgetRoot",apolloProvider:W.a,provide:{canUpdate:s.is_editable,isClassicSidebar:!0},render:function(e){return e(D.b,{props:{iid:String(i),fullPath:t,issuableType:Object(p.x)()||Object(p.w)()||Object(p.u)()?u.c.Issue:u.c.MergeRequest}})}})}(),function(){const e=document.querySelector(".js-sidebar-due-date-widget-root");if(!e)return null;const{fullPath:t,iid:i,editable:n}=Qe();new r.default({el:e,name:"SidebarDueDateWidgetRoot",apolloProvider:W.a,provide:{canUpdate:n},render:function(e){return e(T.a,{props:{iid:String(i),fullPath:t,issuableType:u.c.Issue}})}})}(),function(){const e=document.querySelector(".js-sidebar-reference-widget-root");if(!e)return null;const{fullPath:t,iid:i}=Qe();new r.default({el:e,name:"SidebarReferenceWidgetRoot",apolloProvider:W.a,provide:{iid:String(i),fullPath:t},render:function(e){return e(U,{props:{issuableType:Object(p.x)()||Object(p.w)()||Object(p.u)()?u.c.Issue:u.c.MergeRequest}})}})}(),function(e){const t=document.querySelector(".js-sidebar-lock-root");if(!t||!e)return null;const{fullPath:i,editable:n}=Qe();new r.default({el:t,name:"SidebarLockRoot",store:e,provide:{fullPath:i},render:function(e){return e(Ce,{props:{isEditable:n}})}})}(t),function(){const e=document.querySelector(".js-sidebar-participants-widget-root");if(!e)return null;const{fullPath:t,iid:i}=Qe();new r.default({el:e,name:"SidebarParticipantsWidgetRoot",apolloProvider:W.a,render:function(e){return e(P,{props:{iid:String(i),fullPath:t,issuableType:Object(p.x)()||Object(p.w)()||Object(p.u)()?u.c.Issue:u.c.MergeRequest}})}})}(),function(){const e=document.querySelector(".js-sidebar-subscriptions-widget-root");if(!e)return null;const{fullPath:t,iid:i,editable:n}=Qe();new r.default({el:e,name:"SidebarSubscriptionsWidgetRoot",apolloProvider:W.a,provide:{canUpdate:n},render:function(e){return e(Ae.a,{props:{iid:String(i),fullPath:t,issuableType:Object(p.x)()||Object(p.w)()||Object(p.u)()?u.c.Issue:u.c.MergeRequest}})}})}(),function(){const e=document.querySelector(".js-sidebar-copy-email-root");if(!e)return null;const{createNoteEmail:t}=Qe();new r.default({el:e,name:"SidebarCopyEmailRoot",render:function(e){return e(de,{props:{issueEmailAddress:t}})}})}(),function(){const e=document.querySelector(".js-sidebar-time-tracking-root"),{id:t,iid:i,fullPath:n,issuableType:s,timeTrackingLimitToHours:a}=Qe();e&&new r.default({el:e,name:"SidebarTimeTrackingRoot",apolloProvider:W.a,provide:{issuableType:s},render:function(e){return e(Pe,{props:{fullPath:n,issuableId:t.toString(),issuableIid:i.toString(),limitToHours:a}})}})}(),function(){const e=document.querySelector(".js-sidebar-severity-root");if(!e)return null;const{fullPath:t,iid:i,severity:n,editable:s}=Qe();new r.default({el:e,name:"SidebarSeverityRoot",apolloProvider:W.a,provide:{canUpdate:s},render:function(e){return e(xe.a,{props:{projectPath:t,iid:String(i),initialSeverity:n.toUpperCase()}})}})}(),function(){const e=document.querySelector(".js-sidebar-escalation-status-root");if(!e)return null;const{issuableType:t}=Qe(),{canUpdate:i,issueIid:n,projectPath:s}=e.dataset;new r.default({el:e,name:"SidebarEscalationStatusRoot",apolloProvider:W.a,provide:{canUpdate:Object(p.F)(i)},render:function(e){return e(ye,{props:{iid:n,issuableType:t,projectPath:s}})}})}(),new Me(e,s()(".js-move-issue"),s()(".js-move-issue-confirmation-button")).init()}},"59gv":function(e,t,i){"use strict";var n=i("LW8g"),s=i.n(n),r=(i("uHfJ"),i("R0RX"),i("h8Et"),i("t9l/")),a=i("UosV"),o=i("73KY");const l=[{formattedKey:a.t,key:"author",type:"string",param:"username",symbol:"@",icon:"pencil",tag:"@author"},{formattedKey:a.s,key:"assignee",type:"string",param:"username",symbol:"@",icon:"user",tag:"@assignee"},{formattedKey:a.x,key:"milestone",type:"string",param:"title",symbol:"%",icon:"clock",tag:"%milestone"},{formattedKey:a.A,key:"release",type:"string",param:"tag",symbol:"",icon:"rocket",tag:Object(r.a)("tag name")},{formattedKey:a.w,key:"label",type:"array",param:"name[]",symbol:"~",icon:"labels",tag:"~label"}];gon.current_user_id&&l.push({formattedKey:a.y,key:"my-reaction",type:"string",param:"emoji",symbol:"",icon:"thumb-up",tag:"emoji"});const c=[{formattedKey:a.w,key:"label",type:"string",param:"name",symbol:"~"}],d=s()([{url:"assignee_id=None",tokenKey:"assignee",value:Object(r.a)("None")},{url:"assignee_id=Any",tokenKey:"assignee",value:Object(r.a)("Any")},{url:"reviewer_id=None",tokenKey:"reviewer",value:Object(r.a)("None")},{url:"reviewer_id=Any",tokenKey:"reviewer",value:Object(r.a)("Any")},{url:"author_username=support-bot",tokenKey:"author",value:"support-bot"},{url:"milestone_title=None",tokenKey:"milestone",value:Object(r.a)("None")},{url:"milestone_title=Any",tokenKey:"milestone",value:Object(r.a)("Any")},{url:"milestone_title=%23upcoming",tokenKey:"milestone",value:Object(r.a)("Upcoming")},{url:"milestone_title=%23started",tokenKey:"milestone",value:Object(r.a)("Started")},{url:"release_tag=None",tokenKey:"release",value:Object(r.a)("None")},{url:"release_tag=Any",tokenKey:"release",value:Object(r.a)("Any")},{url:"label_name[]=None",tokenKey:"label",value:Object(r.a)("None")},{url:"label_name[]=Any",tokenKey:"label",value:Object(r.a)("Any")},{url:"my_reaction_emoji=None",tokenKey:"my-reaction",value:Object(r.a)("None")},{url:"my_reaction_emoji=Any",tokenKey:"my-reaction",value:Object(r.a)("Any")}].map((function(e){const[t,i]=e.url.split("="),n=t.includes("[]"),s=`not[${n?t.slice(0,-2):t}]${n?"[]":""}=${i}`;return[{...e,operator:"="},{...e,operator:"!=",url:s}]}))),u=new o.a(l,c,d);t.a=u},"5dJh":function(e,t,i){var n=i("NSg/"),s=i("wPPk"),r=i("TCnH"),a=i("V8Uk"),o=n("".charAt),l=n("".charCodeAt),c=n("".slice),d=function(e){return function(t,i){var n,d,u=r(a(t)),p=s(i),h=u.length;return p<0||p>=h?e?"":void 0:(n=l(u,p))<55296||n>56319||p+1===h||(d=l(u,p+1))<56320||d>57343?e?o(u,p):n:e?c(u,p,p+2):d-56320+(n-55296<<10)+65536}};e.exports={codeAt:d(!1),charAt:d(!0)}},"5ggI":function(e,t,i){"use strict";var n=i("vKRd"),s=i.n(n),r=i("A1CF"),a=i.n(r),o=i("nPFI"),l=i("EtIY"),c=i("cmjF"),d=i("9LGn"),u=i("6oy4"),p=i.n(u),h=i("CkNe"),m=i("0nrL"),f=i("yZaS"),g=i("teVv"),v=i("oiT5"),b=i("XELT"),y=i("vRHk"),k=i("1jid"),w=i("t9l/"),_=i("RewC"),S=i("tbUO"),E=i("K4Wm"),D=i("ZYcg"),T=i("ZJPx"),C=(i("ylB9"),i("3R5X"),i("XexO"),i("ujLG"),i("HaUQ"),i("uHfJ"),i("R0RX"),i("H8gz")),I=i("cuRJ"),O=i("0X+3"),j=i("ly/8"),x=i("htOw"),A=i("dNbP"),N=i("/LsX"),F=i("cBN0"),L=i("75go"),P=i("Zxcm"),R={i18n:{buttonText:Object(w.a)("Reply to comment")},name:"ReplyButton",components:{GlButton:I.a},directives:{GlTooltip:j.a}},q=i("bPvS"),$=Object(q.a)(R,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{"data-track-action":"click_button","data-track-label":"reply_comment_button",category:"tertiary",icon:"comment",title:e.$options.i18n.buttonText,"aria-label":e.$options.i18n.buttonText},on:{click:function(t){return e.$emit("startReplying")}}})}),[],!1,null,null,null).exports,B={i18n:{buttonText:Object(w.a)("Add comment to incident timeline"),addError:Object(w.a)("Error promoting the note to timeline event: %{error}"),addGenericError:Object(w.a)("Something went wrong while promoting the note to timeline event.")},components:{GlButton:I.a},directives:{GlTooltip:j.a},props:{noteId:{type:[String,Number],required:!0},isPromotionInProgress:{type:Boolean,required:!1,default:!1}},methods:{handleButtonClick(){this.$emit("click-promote-comment-to-event",{noteId:this.noteId,addError:this.$options.i18n.addError,addGenericError:this.$options.i18n.addGenericError})}}},M=Object(q.a)(B,(function(){var e=this.$createElement,t=this._self._c||e;return t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:this.$options.i18n.buttonText}},[t("gl-button",{attrs:{category:"tertiary",icon:"clock","aria-label":this.$options.i18n.buttonText,disabled:this.isPromotionInProgress},on:{click:this.handleButtonClick}})],1)}),[],!1,null,null,null).exports,U={i18n:{addReactionLabel:Object(w.a)("Add reaction"),editCommentLabel:Object(w.a)("Edit comment"),deleteCommentLabel:Object(w.a)("Delete comment"),moreActionsLabel:Object(w.a)("More actions")},name:"NoteActions",components:{GlIcon:C.a,ReplyButton:$,TimelineEventButton:M,GlButton:I.a,GlDropdownItem:O.a,UserAccessRoleBadge:L.a,EmojiPicker:function(){return Promise.resolve().then(i.bind(null,"9Wpt"))}},directives:{GlTooltip:j.a},mixins:[A.a,Object(P.a)()],props:{author:{type:Object,required:!0},authorId:{type:Number,required:!0},noteId:{type:[String,Number],required:!0},noteUrl:{type:String,required:!1,default:""},accessLevel:{type:String,required:!1,default:""},reportAbusePath:{type:String,required:!1,default:null},isAuthor:{type:Boolean,required:!1,default:!1},isContributor:{type:Boolean,required:!1,default:!1},noteableType:{type:String,required:!1,default:""},projectName:{type:String,required:!1,default:""},showReply:{type:Boolean,required:!0},canEdit:{type:Boolean,required:!0},canAwardEmoji:{type:Boolean,required:!0},canDelete:{type:Boolean,required:!0},canResolve:{type:Boolean,required:!1,default:!1},resolvable:{type:Boolean,required:!1,default:!1},isResolved:{type:Boolean,required:!1,default:!1},isResolving:{type:Boolean,required:!1,default:!1},resolvedBy:{type:Object,required:!1,default:function(){return{}}},canReportAsAbuse:{type:Boolean,required:!0},awardPath:{type:String,required:!1,default:""}},computed:{...Object(h.f)(["isPromoteCommentToTimelineEventInProgress"]),...Object(h.d)(["getUserDataByProp","getNoteableData","canUserAddIncidentTimelineEvents"]),shouldShowActionsDropdown(){return this.currentUserId&&(this.canEdit||this.canReportAsAbuse)},showDeleteAction(){return this.canDelete&&!this.canReportAsAbuse&&!this.noteUrl},isAuthoredByCurrentUser(){return this.authorId===this.currentUserId},currentUserId(){return this.getUserDataByProp("id")},isUserAssigned(){var e=this;return this.assignees&&this.assignees.some((function(t){let{id:i}=t;return i===e.author.id}))},displayAssignUserText(){return this.isUserAssigned?Object(w.a)("Unassign from commenting user"):Object(w.a)("Assign to commenting user")},sidebarAction(){return this.isUserAssigned?"sidebar.addAssignee":"sidebar.removeAssignee"},targetType(){return this.getNoteableData.targetType},noteableDisplayName(){return Object(y.w)(this.noteableType).toLowerCase()},assignees(){return this.getNoteableData.assignees||[]},isIssue(){return"issue"===this.targetType},canAssign(){var e;return(null===(e=this.getNoteableData.current_user)||void 0===e?void 0:e.can_set_issue_metadata)&&this.isIssue},displayAuthorBadgeText(){return Object(w.h)(Object(w.a)("This user is the author of this %{noteable}."),{noteable:this.noteableDisplayName})},displayMemberBadgeText(){return Object(w.h)(Object(w.a)("This user has the %{access} role in the %{name} project."),{access:this.accessLevel.toLowerCase(),name:this.projectName})},displayContributorBadgeText(){return Object(w.h)(Object(w.a)("This user has previously committed to the %{name} project."),{name:this.projectName})},resolveIcon(){return this.isResolving?null:this.isResolved?"check-circle-filled":"check-circle"},resolveVariant(){return this.isResolved?"success":"default"}},methods:{...Object(h.c)(["toggleAwardRequest","promoteCommentToTimelineEvent"]),onEdit(){this.$emit("handleEdit")},onDelete(){this.$emit("handleDelete")},onResolve(){this.$emit("handleResolve")},closeTooltip(){var e=this;this.$nextTick((function(){e.$root.$emit(N.d)}))},handleAssigneeUpdate(e){this.$emit("updateAssignees",e),F.a.$emit(this.sidebarAction,this.author),F.a.$emit("sidebar.saveAssignees")},assignUser(){var e=this;let{assignees:t}=this;const{project_id:i,iid:n}=this.getNoteableData;this.isUserAssigned?t=t.filter((function(t){return t.id!==e.author.id})):t.push({id:this.author.id}),"issue"===this.targetType&&x.b.updateIssue(i,n,{assignee_ids:t.map((function(e){return e.id}))}).then((function(){return e.handleAssigneeUpdate(t)})).catch((function(){return Object(g.createAlert)({message:Object(w.a)("Something went wrong while updating assignees")})}))},setAwardEmoji(e){this.toggleAwardRequest({endpoint:this.awardPath,noteId:this.noteId,awardName:e})}}},V=Object(q.a)(U,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"note-actions"},[e.isAuthor?i("user-access-role-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-mr-3 d-none d-md-inline-block",attrs:{title:e.displayAuthorBadgeText}},[e._v("\n    "+e._s(e.__("Author"))+"\n  ")]):e._e(),e._v(" "),e.accessLevel?i("user-access-role-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-mr-3",attrs:{title:e.displayMemberBadgeText}},[e._v("\n    "+e._s(e.accessLevel)+"\n  ")]):e.isContributor?i("user-access-role-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-mr-3",attrs:{title:e.displayContributorBadgeText}},[e._v("\n    "+e._s(e.__("Contributor"))+"\n  ")]):e._e(),e._v(" "),i("span",{staticClass:"note-actions__mobile-spacer"}),e._v(" "),e.canResolve?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"resolveButton",staticClass:"line-resolve-btn note-action-button",class:{"is-disabled":!e.resolvable,"is-active":e.isResolved},attrs:{category:"tertiary",variant:e.resolveVariant,title:e.resolveButtonTitle,"aria-label":e.resolveButtonTitle,icon:e.resolveIcon,loading:e.isResolving},on:{click:e.onResolve}}):e._e(),e._v(" "),e.canUserAddIncidentTimelineEvents?i("timeline-event-button",{attrs:{"note-id":e.noteId,"is-promotion-in-progress":e.isPromoteCommentToTimelineEventInProgress},on:{"click-promote-comment-to-event":e.promoteCommentToTimelineEvent}}):e._e(),e._v(" "),e.canAwardEmoji?i("emoji-picker",{attrs:{"toggle-class":"note-action-button note-emoji-button btn-icon btn-default-tertiary","data-testid":"note-emoji-button"},on:{click:e.setAwardEmoji},scopedSlots:e._u([{key:"button-content",fn:function(){return[i("gl-icon",{staticClass:"award-control-icon-neutral gl-button-icon gl-icon",attrs:{name:"slight-smile"}}),e._v(" "),i("gl-icon",{staticClass:"award-control-icon-positive gl-button-icon gl-icon gl-left-3!",attrs:{name:"smiley"}}),e._v(" "),i("gl-icon",{staticClass:"award-control-icon-super-positive gl-button-icon gl-icon gl-left-3!",attrs:{name:"smile"}})]},proxy:!0}],null,!1,1989683737)}):e._e(),e._v(" "),e.showReply?i("reply-button",{ref:"replyButton",staticClass:"js-reply-button",on:{startReplying:function(t){return e.$emit("startReplying")}}}):e._e(),e._v(" "),e.canEdit?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"note-action-button js-note-edit",attrs:{title:e.$options.i18n.editCommentLabel,"aria-label":e.$options.i18n.editCommentLabel,icon:"pencil",category:"tertiary","data-qa-selector":"note_edit_button"},on:{click:e.onEdit}}):e._e(),e._v(" "),e.showDeleteAction?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"note-action-button js-note-delete",attrs:{title:e.$options.i18n.deleteCommentLabel,"aria-label":e.$options.i18n.deleteCommentLabel,icon:"remove",category:"tertiary"},on:{click:e.onDelete}}):e.shouldShowActionsDropdown?i("div",{staticClass:"dropdown more-actions"},[i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"note-action-button more-actions-toggle",attrs:{title:e.$options.i18n.moreActionsLabel,"aria-label":e.$options.i18n.moreActionsLabel,icon:"ellipsis_v",category:"tertiary","data-toggle":"dropdown"},on:{click:e.closeTooltip}}),e._v(" "),i("ul",{staticClass:"dropdown-menu more-actions-dropdown dropdown-open-left"},[e.canReportAsAbuse?i("gl-dropdown-item",{attrs:{href:e.reportAbusePath}},[e._v("\n        "+e._s(e.__("Report abuse to admin"))+"\n      ")]):e._e(),e._v(" "),e.noteUrl?i("gl-dropdown-item",{staticClass:"js-btn-copy-note-link",attrs:{"data-clipboard-text":e.noteUrl}},[e._v("\n        "+e._s(e.__("Copy link"))+"\n      ")]):e._e(),e._v(" "),e.canAssign?i("gl-dropdown-item",{attrs:{"data-testid":"assign-user"},on:{click:e.assignUser}},[e._v("\n        "+e._s(e.displayAssignUserText)+"\n      ")]):e._e(),e._v(" "),e.canEdit?i("gl-dropdown-item",{staticClass:"js-note-delete",on:{click:function(t){return t.preventDefault(),e.onDelete.apply(null,arguments)}}},[i("span",{staticClass:"text-danger"},[e._v(e._s(e.__("Delete comment")))])]):e._e()],1)],1):e._e()],1)}),[],!1,null,null,null).exports,z=(i("Skdl"),i("ZYR5")),W=i("uYaO"),H={name:"NoteAttachment",components:{GlIcon:C.a},props:{attachment:{type:Object,required:!0}}},G=Object(q.a)(H,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"note-attachment"},[e.attachment.image?i("a",{ref:"attachmentImage",attrs:{href:e.attachment.url,target:"_blank",rel:"noopener noreferrer"}},[i("img",{staticClass:"note-image-attach col-lg-4",attrs:{src:e.attachment.url}})]):e._e(),e._v(" "),i("div",{staticClass:"attachment"},[e.attachment.url?i("a",{ref:"attachmentUrl",attrs:{href:e.attachment.url,target:"_blank",rel:"noopener noreferrer"}},[i("gl-icon",{attrs:{name:"paperclip"}}),e._v(" "+e._s(e.attachment.filename)+"\n    ")],1):e._e()])])}),[],!1,null,null,null).exports,K={components:{AwardsList:i("IPfS").a},props:{awards:{type:Array,required:!0},toggleAwardPath:{type:String,required:!0},noteAuthorId:{type:Number,required:!0},noteId:{type:String,required:!0},canAwardEmoji:{type:Boolean,required:!0}},computed:{...Object(h.d)(["getUserData"]),isAuthoredByMe(){return this.noteAuthorId===this.getUserData.id},addButtonClass(){return this.isAuthoredByMe?"js-user-authored":""}},methods:{...Object(h.c)(["toggleAwardRequest"]),handleAward(e){const t={endpoint:this.toggleAwardPath,noteId:this.noteId,awardName:e};this.toggleAwardRequest(t).catch((function(){return Object(g.createAlert)({message:Object(w.a)("Something went wrong on our end.")})}))}}},Y=Object(q.a)(K,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"note-awards"},[i("awards-list",{attrs:{awards:e.awards,"can-award-emoji":e.canAwardEmoji,"current-user-id":e.getUserData.id,"add-button-class":e.addButtonClass},on:{award:function(t){return e.handleAward(t)}}})],1)}),[],!1,null,null,null).exports,Q=i("XPiF"),X=i("gmzr"),J={components:{NoteEditedText:Q.a,NoteAwardsList:Y,NoteAttachment:G,NoteForm:X.a,Suggestions:z.a},directives:{SafeHtml:d.a},mixins:[W.a],props:{note:{type:Object,required:!0},line:{type:Object,required:!1,default:null},file:{type:Object,required:!1,default:null},canEdit:{type:Boolean,required:!0},isEditing:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""}},computed:{...Object(h.d)(["getDiscussion","suggestionsCount","getSuggestionsFilePaths"]),...Object(h.d)("diffs",["suggestionCommitMessage"]),...Object(h.f)({batchSuggestionsInfo:function(e){return e.notes.batchSuggestionsInfo},failedToLoadMetadata:function(e){return e.page.failedToLoadMetadata}}),discussion(){return this.note.isDraft?this.getDiscussion(this.note.discussion_id):{}},noteBody(){return this.note.note},saveButtonTitle(){return this.note.internal?Object(w.a)("Save internal note"):Object(w.a)("Save comment")},hasSuggestion(){return this.note.suggestions&&this.note.suggestions.length},lineType(){return this.line?this.line.type:null},commitMessage(){const e=this.batchSuggestionsInfo.length||1,t=this.getSuggestionsFilePaths(),i=t.length?t:[this.file.file_path],n=i.length,s=this.suggestionCommitMessage({file_paths:i.join(", "),suggestions_count:e,files_count:n});return a()(s)}},mounted(){this.renderGFM(),this.isEditing&&this.initAutoSave(this.note)},updated(){this.renderGFM(),this.isEditing&&(this.autosave?this.setAutoSave():this.initAutoSave(this.note))},methods:{...Object(h.c)(["submitSuggestion","submitSuggestionBatch","addSuggestionInfoToBatch","removeSuggestionInfoFromBatch"]),renderGFM(){p()(this.$refs["note-body"]).renderGFM()},handleFormUpdate(e,t,i,n){this.$emit("handleFormUpdate",{noteText:e,parentElement:t,callback:i,resolveDiscussion:n})},formCancelHandler(e,t){this.$emit("cancelForm",{shouldConfirm:e,isDirty:t})},applySuggestion(e){let{suggestionId:t,flashContainer:i,callback:n=function(){},message:s}=e;const{discussion_id:r,id:a}=this.note;return this.submitSuggestion({discussionId:r,noteId:a,suggestionId:t,flashContainer:i,message:s}).then(n)},applySuggestionBatch(e){let{message:t,flashContainer:i}=e;return this.submitSuggestionBatch({message:t,flashContainer:i})},addSuggestionToBatch(e){const{discussion_id:t,id:i}=this.note;this.addSuggestionInfoToBatch({suggestionId:e,discussionId:t,noteId:i})},removeSuggestionFromBatch(e){this.removeSuggestionInfoFromBatch(e)}},safeHtmlConfig:{ADD_TAGS:["use","gl-emoji","copy-code"]}},Z=Object(q.a)(J,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"note-body",staticClass:"note-body",class:{"js-task-list-container":e.canEdit}},[e.hasSuggestion&&!e.isEditing?i("suggestions",{attrs:{suggestions:e.note.suggestions,"suggestions-count":e.suggestionsCount,"batch-suggestions-info":e.batchSuggestionsInfo,"note-html":e.note.note_html,"line-type":e.lineType,"help-page-path":e.helpPagePath,"default-commit-message":e.commitMessage,"failed-to-load-metadata":e.failedToLoadMetadata},on:{apply:e.applySuggestion,applyBatch:e.applySuggestionBatch,addToBatch:e.addSuggestionToBatch,removeFromBatch:e.removeSuggestionFromBatch}}):i("div",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.note.note_html,expression:"note.note_html",arg:e.$options.safeHtmlConfig}],staticClass:"note-text md"}),e._v(" "),e.isEditing?i("note-form",{ref:"noteForm",attrs:{"note-body":e.noteBody,"note-id":e.note.id,line:e.line,note:e.note,"save-button-title":e.saveButtonTitle,"help-page-path":e.helpPagePath,discussion:e.discussion,"resolve-discussion":e.note.resolve_discussion},on:{handleFormUpdate:e.handleFormUpdate,cancelForm:e.formCancelHandler}}):e._e(),e._v(" "),e.canEdit?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.note.note,expression:"note.note"}],staticClass:"hidden js-task-list-field",attrs:{"data-update-url":e.note.path,dir:"auto"},domProps:{value:e.note.note},on:{input:function(t){t.target.composing||e.$set(e.note,"note",t.target.value)}}}):e._e(),e._v(" "),e.note.last_edited_at?i("note-edited-text",{staticClass:"note_edited_ago",attrs:{"edited-at":e.note.last_edited_at,"edited-by":e.note.last_edited_by,"action-text":"Edited"}}):e._e(),e._v(" "),e.note.award_emoji&&e.note.award_emoji.length?i("note-awards-list",{attrs:{"note-id":e.note.id,"note-author-id":e.note.author.id,awards:e.note.award_emoji,"toggle-award-path":e.note.toggle_award_path,"can-award-emoji":e.note.current_user.can_award_emoji}}):e._e(),e._v(" "),e.note.attachment?i("note-attachment",{attrs:{attachment:e.note.attachment}}):e._e()],1)}),[],!1,null,null,null).exports,ee=i("dkhw"),te={name:"NoteableNote",components:{GlSprintf:o.a,NoteHeader:ee.a,NoteActions:V,NoteBody:Z,TimelineEntryItem:k.a,GlAvatarLink:l.a,GlAvatar:c.a},directives:{SafeHtml:d.a},mixins:[S.a,E.a],props:{note:{type:Object,required:!0},line:{type:Object,required:!1,default:null},discussionFile:{type:Object,required:!1,default:null},helpPagePath:{type:String,required:!1,default:""},commit:{type:Object,required:!1,default:function(){return null}},showReplyButton:{type:Boolean,required:!1,default:!1},diffLines:{type:Array,required:!1,default:null},discussionRoot:{type:Boolean,required:!1,default:!1},discussionResolvePath:{type:String,required:!1,default:""},isOverviewTab:{type:Boolean,required:!1,default:!1},shouldScrollToNote:{type:Boolean,required:!1,default:!0}},data:()=>({isEditing:!1,isDeleting:!1,isRequesting:!1,isResolving:!1,commentLineStart:{},resolveAsThread:!0}),computed:{...Object(h.d)("diffs",["getDiffFileByHash"]),...Object(h.d)(["targetNoteHash","getNoteableData","getUserData","commentsDisabled"]),author(){return this.note.author},commentType(){return this.note.internal?Object(w.a)("internal note"):Object(w.a)("comment")},classNameBindings(){return{["note-row-"+this.note.id]:!0,"is-editing":this.isEditing&&!this.isRequesting,"is-requesting being-posted":this.isRequesting,"disabled-content":this.isDeleting,target:this.isTarget,"is-editable":this.note.current_user.can_edit}},canReportAsAbuse(){return Boolean(this.note.report_abuse_path)&&this.author.id!==this.getUserData.id},noteAnchorId(){return"note_"+this.note.id},isTarget(){return this.targetNoteHash===this.noteAnchorId},discussionId(){return this.discussion?this.discussion.id:""},actionText(){if(!this.commit)return"";const{id:e,url:t}=this.commit,i=`<a class="commit-sha monospace" href="${a()(t)}">${Object(y.A)(e)}</a>`;return Object(w.h)(Object(w.g)("MergeRequests|commented on commit %{commitLink}"),{commitLink:i},!1)},isDraft(){return this.note.isDraft},canResolve(){return!!this.discussionRoot&&this.note.current_user.can_resolve_discussion},lineRange(){var e;return null===(e=this.note.position)||void 0===e?void 0:e.line_range},startLineNumber(){return Object(T.f)(this.lineRange)},endLineNumber(){return Object(T.d)(this.lineRange)},showMultiLineComment(){return!(!this.discussionRoot||0===this.startLineNumber.length||0===this.endLineNumber.length)&&(this.line&&this.startLineNumber!==this.endLineNumber)},commentLineOptions(){const e=this.diffFile[f.E].length;return Object(T.a)(e,this.commentLineStart,this.line.line_code)},diffFile(){let e;if(this.commentLineStart.line_code){const t=this.commentLineStart.line_code.split("_")[0];e=this.getDiffFileByHash(t)}return!e&&this.discussionFile&&(e=this.discussionFile),e||null},isMRDiffView(){return this.line&&!this.isOverviewTab}},created(){var e,t,i=this;const n=(null===(e=this.note.position)||void 0===e||null===(t=e.line_range)||void 0===t?void 0:t.start)||this.line;this.commentLineStart=n?{line_code:n.line_code,type:n.type,old_line:n.old_line,new_line:n.new_line}:{},_.a.$on("enterEditMode",(function(e){let{noteId:t}=e;t===i.note.id&&(i.isEditing=!0,i.setSelectedCommentPositionHover(),i.scrollToNoteIfNeeded(p()(i.$el)))}))},mounted(){this.isTarget&&this.shouldScrollToNote&&this.scrollToNoteIfNeeded(p()(this.$el))},methods:{...Object(h.c)(["deleteNote","removeNote","updateNote","toggleResolveNote","scrollToNoteIfNeeded","updateAssignees","setSelectedCommentPositionHover","updateDiscussionPosition"]),editHandler(){this.isEditing=!0,this.setSelectedCommentPositionHover(),this.$emit("handleEdit")},async deleteHandler(){var e=this;let{commentType:t}=this;this.note.isDraft&&(t=Object(w.a)("pending comment"));const i=Object(w.h)(Object(w.a)("Are you sure you want to delete this %{commentType}?"),{commentType:t});if(await Object(m.a)(i,{primaryBtnVariant:"danger",primaryBtnText:this.note.internal?Object(w.a)("Delete internal note"):Object(w.a)("Delete comment")})){if(this.isDeleting=!0,this.$emit("handleDeleteNote",this.note),this.note.isDraft)return;this.deleteNote(this.note).then((function(){e.isDeleting=!1})).catch((function(){Object(g.createAlert)({message:Object(w.a)("Something went wrong while deleting your note. Please try again.")}),e.isDeleting=!1}))}},updateSuccess(){this.isEditing=!1,this.isRequesting=!1,this.oldContent=null,p()(this.$refs.noteBody.$el).renderGFM(),this.$refs.noteBody.resetAutoSave(),this.$emit("updateSuccess")},formUpdateHandler(e){var t=this;let{noteText:i,callback:n,resolveDiscussion:r}=e;const a={...this.note.position};if(this.discussionRoot&&this.commentLineStart&&this.line&&(a.line_range=Object(T.b)(this.commentLineStart,this.line),this.updateDiscussionPosition({discussionId:this.note.discussion_id,position:a})),this.$emit("handleUpdateNote",{note:this.note,noteText:i,resolveDiscussion:r,position:a,callback:function(){return t.updateSuccess()}}),this.isDraft)return;const o={endpoint:this.note.path,note:{target_type:this.getNoteableData.targetType,target_id:this.note.noteable_id,note:{note:i}}};s()(a)||(o.note.note.position=JSON.stringify(a)),this.isRequesting=!0,this.oldContent=this.note.note_html,this.note.note_html=Object(D.a)(i),this.updateNote(o).then((function(){t.updateSuccess(),n()})).catch((function(e){e.status===v.a.GONE?(t.removeNote(t.note),t.updateSuccess(),n()):(t.isRequesting=!1,t.isEditing=!0,t.setSelectedCommentPositionHover(),t.$nextTick((function(){t.handleUpdateError(e),t.recoverNoteContent(i),n()})))}))},handleUpdateError(){const e=Object(w.a)("Something went wrong while editing your comment. Please try again.");Object(g.createAlert)({message:e,parent:this.$el})},formCancelHandler:Object(b.a)((async function(e){let{shouldConfirm:t,isDirty:i}=e;if(t&&i){const e=Object(w.h)(Object(w.a)("Are you sure you want to cancel editing this %{commentType}?"),{commentType:this.commentType});if(!await Object(m.a)(e,{primaryBtnText:Object(w.a)("Cancel editing"),primaryBtnVariant:"danger",secondaryBtnVariant:"default",secondaryBtnText:Object(w.a)("Continue editing"),hideCancel:!0}))return}this.$refs.noteBody.resetAutoSave(),this.oldContent&&(this.note.note_html=this.oldContent,this.oldContent=null),this.isEditing=!1,this.$emit("cancelForm")})),recoverNoteContent(e){this.note.note=e;const{noteBody:t}=this.$refs;t&&(t.note.note=e)},getLineClasses:e=>Object(T.e)(e),assigneesUpdate(e){this.updateAssignees(e)}}},ie=Object(q.a)(te,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("timeline-entry-item",{staticClass:"note note-wrapper note-comment",class:Object.assign({},e.classNameBindings,{"internal-note":e.note.internal}),attrs:{id:e.noteAnchorId,"data-award-url":e.note.toggle_award_path,"data-note-id":e.note.id,"data-qa-selector":"noteable_note_container"}},[e.showMultiLineComment?i("div",{staticClass:"gl-text-gray-500 gl-border-gray-100 gl-border-b-solid gl-border-b-1 gl-px-5 gl-py-3",attrs:{"data-testid":"multiline-comment"}},[i("gl-sprintf",{attrs:{message:e.__("Comment on lines %{startLine} to %{endLine}")},scopedSlots:e._u([{key:"startLine",fn:function(){return[i("span",{class:e.getLineClasses(e.startLineNumber)},[e._v(e._s(e.startLineNumber))])]},proxy:!0},{key:"endLine",fn:function(){return[i("span",{class:e.getLineClasses(e.endLineNumber)},[e._v(e._s(e.endLineNumber))])]},proxy:!0}],null,!1,1413361638)})],1):e._e(),e._v(" "),e.isMRDiffView?i("div",{staticClass:"timeline-avatar gl-float-left gl-pt-2"},[i("gl-avatar-link",{attrs:{href:e.author.path}},[i("gl-avatar",{attrs:{src:e.author.avatar_url,"entity-name":e.author.username,alt:e.author.name,size:24}}),e._v(" "),e._t("avatar-badge")],2)],1):i("div",{staticClass:"timeline-avatar gl-float-left"},[i("gl-avatar-link",{attrs:{href:e.author.path}},[i("gl-avatar",{attrs:{src:e.author.avatar_url,"entity-name":e.author.username,alt:e.author.name,size:32}}),e._v(" "),e._t("avatar-badge")],2)],1),e._v(" "),i("div",{staticClass:"timeline-content"},[i("div",{staticClass:"note-header"},[i("note-header",{attrs:{author:e.author,"created-at":e.note.created_at,"note-id":e.note.id,"is-internal-note":e.note.internal,"noteable-type":e.noteableType},scopedSlots:e._u([{key:"note-header-info",fn:function(){return[e._t("note-header-info")]},proxy:!0}],null,!0)},[e._v(" "),e.commit?i("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.actionText,expression:"actionText"}]}):e.note.created_at?i("span",{staticClass:"d-none d-sm-inline"},[e._v("")]):e._e()]),e._v(" "),i("note-actions",{attrs:{author:e.author,"author-id":e.author.id,"note-id":e.note.id,"note-url":e.note.noteable_note_url,"access-level":e.note.human_access,"is-contributor":e.note.is_contributor,"is-author":e.note.is_noteable_author,"project-name":e.note.project_name,"noteable-type":e.note.noteable_type,"show-reply":e.showReplyButton,"can-edit":e.note.current_user.can_edit,"can-award-emoji":e.note.current_user.can_award_emoji,"can-delete":e.note.current_user.can_edit,"can-report-as-abuse":e.canReportAsAbuse,"can-resolve":e.canResolve,"report-abuse-path":e.note.report_abuse_path,resolvable:e.note.resolvable||e.note.isDraft,"is-resolved":e.note.resolved||e.note.resolve_discussion,"is-resolving":e.isResolving,"resolved-by":e.note.resolved_by,"is-draft":e.note.isDraft,"resolve-discussion":e.note.isDraft&&e.note.resolve_discussion,"discussion-id":e.discussionId,"award-path":e.note.toggle_award_path},on:{handleEdit:e.editHandler,handleDelete:e.deleteHandler,handleResolve:e.resolveHandler,startReplying:function(t){return e.$emit("startReplying")},updateAssignees:e.assigneesUpdate}})],1),e._v(" "),i("div",{staticClass:"timeline-discussion-body"},[e._t("discussion-resolved-text"),e._v(" "),i("note-body",{ref:"noteBody",attrs:{note:e.note,"can-edit":e.note.current_user.can_edit,line:e.line,file:e.diffFile,"is-editing":e.isEditing,"help-page-path":e.helpPagePath},on:{handleFormUpdate:e.formUpdateHandler,cancelForm:e.formCancelHandler}})],2)])])}),[],!1,null,null,null);t.a=ie.exports},"6/mp":function(e,t,i){"use strict";i.d(t,"h",(function(){return s})),i.d(t,"o",(function(){return r})),i.d(t,"p",(function(){return a})),i.d(t,"d",(function(){return o})),i.d(t,"f",(function(){return l})),i.d(t,"e",(function(){return c})),i.d(t,"r",(function(){return d})),i.d(t,"q",(function(){return u})),i.d(t,"n",(function(){return p})),i.d(t,"b",(function(){return h})),i.d(t,"c",(function(){return m})),i.d(t,"g",(function(){return f})),i.d(t,"a",(function(){return g})),i.d(t,"j",(function(){return v})),i.d(t,"k",(function(){return b})),i.d(t,"i",(function(){return y})),i.d(t,"l",(function(){return k})),i.d(t,"m",(function(){return w}));var n=i("t9l/");const s={ISSUE:"issue",INCIDENT:"incident",EPIC:"epic",MERGE_REQUEST:"merge_request"},r={BLOCKS:"blocks",IS_BLOCKED_BY:"is_blocked_by",RELATES_TO:"relates_to"},a={[r.RELATES_TO]:Object(n.a)("Relates to"),[r.BLOCKS]:Object(n.a)("Blocks"),[r.IS_BLOCKED_BY]:Object(n.a)("Is blocked by")},o={true:{[s.ISSUE]:Object(n.h)(Object(n.a)(" or %{emphasisStart}#issue id%{emphasisEnd}"),{emphasisStart:"<",emphasisEnd:">"},!1),[s.INCIDENT]:Object(n.h)(Object(n.a)(" or %{emphasisStart}#id%{emphasisEnd}"),{emphasisStart:"<",emphasisEnd:">"},!1),[s.EPIC]:Object(n.h)(Object(n.a)(" or %{emphasisStart}&epic id%{emphasisEnd}"),{emphasisStart:"<",emphasisEnd:">"},!1),[s.MERGE_REQUEST]:Object(n.h)(Object(n.a)(" or %{emphasisStart}!merge request id%{emphasisEnd}"),{emphasisStart:"<",emphasisEnd:">"},!1)},false:{[s.ISSUE]:"",[s.EPIC]:"",[s.MERGE_REQUEST]:Object(n.a)(" or references (e.g. path/to/project!merge_request_id)")}},l={[s.ISSUE]:Object(n.a)("Paste issue link"),[s.INCIDENT]:Object(n.a)("Paste link"),[s.EPIC]:Object(n.a)("Paste epic link"),[s.MERGE_REQUEST]:Object(n.a)("Enter merge request URLs")},c={[s.ISSUE]:Object(n.a)("Paste confidential issue link"),[s.EPIC]:Object(n.a)("Paste confidential epic link"),[s.MERGE_REQUEST]:Object(n.a)("Enter merge request URLs")},d={[s.ISSUE]:Object(n.a)("An error occurred while removing issues."),[s.EPIC]:Object(n.a)("An error occurred while removing epics.")},u={[s.ISSUE]:Object(n.a)("We could not determine the path to remove the issue"),[s.EPIC]:Object(n.a)("We could not determine the path to remove the epic")},p={NOT_FOUND:"not_found",MAX_NUMBER_OF_CHILD_EPICS:"conflict"},h={[s.ISSUE]:Object(n.a)("Issue cannot be found."),[s.EPIC]:Object(n.a)("Epic cannot be found.")},m={[p.MAX_NUMBER_OF_CHILD_EPICS]:Object(n.a)("This epic already has the maximum number of child epics.")},f={[s.ISSUE]:"issues",[s.INCIDENT]:"issues",[s.EPIC]:"epic"},g={Epic:"&",Issue:"#"},v={[s.ISSUE]:Object(n.a)("Linked items"),[s.INCIDENT]:Object(n.a)("Linked incidents or issues"),[s.EPIC]:Object(n.a)("Linked epics")},b={[s.ISSUE]:Object(n.a)("Learn more about linking issues"),[s.INCIDENT]:Object(n.a)("Learn more about linking issues and incidents"),[s.EPIC]:Object(n.a)("Learn more about linking epics")},y={[s.ISSUE]:Object(n.a)("Add a related issue"),[s.EPIC]:Object(n.a)("Add a related epic")},k={[s.ISSUE]:Object(n.a)("The current issue"),[s.INCIDENT]:Object(n.a)("The current incident"),[s.EPIC]:Object(n.a)("The current epic")},w={[s.ISSUE]:Object(n.a)("the following issues"),[s.INCIDENT]:Object(n.a)("the following incidents or issues"),[s.EPIC]:Object(n.a)("the following epics")}},"60/S":function(e,t,i){"use strict";var n=i("uJ0F"),s=i.n(n),r=i("Zi5e"),a=i("yYHy");var o={props:{path:{type:String,required:!0},fileSize:{type:Number,required:!1,default:0},renderInfo:{type:Boolean,default:!0,required:!1},innerCssClasses:{type:[Array,Object,String],required:!1,default:""}},data:()=>({width:0,height:0,renderedWidth:0,renderedHeight:0}),computed:{fileSizeReadable(){return Object(r.d)(this.fileSize)},hasFileSize(){return this.fileSize>0},hasDimensions(){return this.width&&this.height},safePath(){return this.path.startsWith("blob:")?this.path:Object(a.g)(this.path)}},beforeDestroy(){window.removeEventListener("resize",this.resizeThrottled,!1)},mounted(){this.onImgLoad(),this.resizeThrottled=s()(this.onImgLoad,400),window.addEventListener("resize",this.resizeThrottled,!1)},methods:{onImgLoad(){requestIdleCallback(this.calculateImgSize,{timeout:1e3})},calculateImgSize(){var e=this;const{contentImg:t}=this.$refs;t&&(this.width=t.naturalWidth,this.height=t.naturalHeight,this.$nextTick((function(){e.renderedWidth=t.clientWidth,e.renderedHeight=t.clientHeight,e.$emit("imgLoaded",{width:e.width,height:e.height,renderedWidth:e.renderedWidth,renderedHeight:e.renderedHeight})})))}}},l=i("bPvS"),c=Object(l.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{"data-testid":"image-viewer","data-qa-selector":"image_viewer_container"}},[i("div",{staticClass:"position-relative",class:e.innerCssClasses},[i("img",{ref:"contentImg",attrs:{src:e.safePath},on:{load:e.onImgLoad}}),e._v(" "),e._t("image-overlay",null,{renderedWidth:e.renderedWidth,renderedHeight:e.renderedHeight})],2),e._v(" "),e.renderInfo?i("p",{staticClass:"image-info"},[e.hasFileSize?[e._v("\n      "+e._s(e.fileSizeReadable)+"\n    ")]:e._e(),e._v(" "),e.hasFileSize&&e.hasDimensions?[e._v(" | ")]:e._e(),e._v(" "),e.hasDimensions?[i("strong",[e._v(e._s(e.s__("ImageViewerDimensions|W")))]),e._v(": "+e._s(e.width)+" | "),i("strong",[e._v(e._s(e.s__("ImageViewerDimensions|H")))]),e._v(": "+e._s(e.height)+"\n    ")]:e._e()],2):e._e()])}),[],!1,null,null,null);t.a=c.exports},"6EVx":function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return s}));const n=e=>e instanceof Date?new Date(e.getTime()):new Date,s=(e,t)=>{const i=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((n-i)/864e5)},r=(e,t)=>new Date(n(e).setDate(e.getDate()-t)),a=(e,t)=>new Date(n(e).setDate(e.getDate()+t)),o=(e,t)=>Boolean(e&&t&&new Date(e).getTime()===new Date(t).getTime())},"6HTq":function(e,t,i){"use strict";var n=i("34cr"),s=i("tSMP"),r=i("H8gz"),a=i("zLBL"),o=i("6IRw"),l=i.n(o);const c={components:{GlClearIconButton:n.a,GlIcon:r.a,GlFormInput:s.a,GlLoadingIcon:a.a},inheritAttrs:!1,model:{prop:"value",event:"input"},props:{value:{type:String,required:!1,default:""},clearButtonTitle:{type:String,required:!1,default:"Clear"},disabled:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!1,default:!1},tooltipContainer:{required:!1,default:!1,validator:e=>!1===e||"string"==typeof e||e instanceof HTMLElement}},computed:{inputAttributes(){const e={type:"search",placeholder:"Search",...this.$attrs};return e["aria-label"]||(e["aria-label"]=e.placeholder),e},hasValue(){return Boolean(this.value.length)},inputListeners(){return{...this.$listeners,input:e=>{this.$emit("input",e)}}},showClearButton(){return this.hasValue&&!this.disabled}},methods:{clearInput(){this.$emit("input",""),this.focusInput()},focusInput(){this.$refs.input.$el.focus()},onClearButtonFocus(){this.$emit("clearButtonFocus")},onClearButtonBlur(){this.$emit("clearButtonBlur")},onClearButtonRelease(){this.$emit("clearButtonRelease")}}};const d=l()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-search-box-by-type"},[i("gl-icon",{staticClass:"gl-search-box-by-type-search-icon",attrs:{name:"search"}}),e._v(" "),i("gl-form-input",e._g(e._b({ref:"input",staticClass:"gl-search-box-by-type-input",attrs:{value:e.value,disabled:e.disabled}},"gl-form-input",e.inputAttributes,!1),e.inputListeners)),e._v(" "),i("div",{staticClass:"gl-search-box-by-type-right-icons"},[e.isLoading?i("gl-loading-icon",{staticClass:"gl-search-box-by-type-loading-icon"}):e._e(),e._v(" "),e.showClearButton?i("gl-clear-icon-button",{staticClass:"gl-search-box-by-type-clear gl-clear-icon-button",attrs:{title:e.clearButtonTitle,"tooltip-container":e.tooltipContainer},on:{click:function(t){return t.stopPropagation(),e.clearInput.apply(null,arguments)},focus:e.onClearButtonFocus,blur:e.onClearButtonBlur,release:e.onClearButtonRelease}}):e._e()],1)],1)},staticRenderFns:[]},void 0,c,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=d},"6jeL":function(e,t,i){!function(t){"use strict";var i=-1,n={onVisible:function(e){var t=n.isSupported();if(!t||!n.hidden())return e(),t;var i=n.change((function(t,s){n.hidden()||(n.unbind(i),e())}));return i},change:function(e){if(!n.isSupported())return!1;var t=i+=1;return n._callbacks[t]=e,n._listen(),t},unbind:function(e){delete n._callbacks[e]},afterPrerendering:function(e){var t=n.isSupported();if(!t||"prerender"!=n.state())return e(),t;var i=n.change((function(t,s){"prerender"!=s&&(n.unbind(i),e())}));return i},hidden:function(){return!(!n._doc.hidden&&!n._doc.webkitHidden)},state:function(){return n._doc.visibilityState||n._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!n._doc.visibilityState&&!n._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(e){var t=n.state();for(var i in n._callbacks)n._callbacks[i].call(n._doc,e,t)},_listen:function(){if(!n._init){var e="visibilitychange";n._doc.webkitVisibilityState&&(e="webkit"+e);var t=function(){n._change.apply(n,arguments)};n._doc.addEventListener?n._doc.addEventListener(e,t):n._doc.attachEvent(e,t),n._init=!0}}};e.exports?e.exports=n:t.Visibility=n}(this)},"6x+O":function(e,t,i){"use strict";i("+bPb")},"6zJf":function(e,t,i){"use strict";var n=i("H8gz"),s=i("aFFW"),r={components:{GlIcon:n.a,TooltipOnTruncate:s.a},props:{severity:{type:Object,required:!0,validator(e){const{value:t,label:i,icon:n}=e;return t&&i&&n}},iconSize:{type:Number,required:!1,default:12},iconOnly:{type:Boolean,required:!1,default:!1}}},a=i("bPvS"),o=Object(a.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"incident-severity gl-display-inline-flex gl-align-items-center gl-justify-content-between gl-max-w-full"},[i("gl-icon",{class:["icon-"+e.severity.icon,{"gl-mr-3 gl-flex-shrink-0":!e.iconOnly}],attrs:{size:e.iconSize,name:"severity-"+e.severity.icon}}),e._v(" "),e.iconOnly?e._e():i("tooltip-on-truncate",{staticClass:"gl-text-truncate",attrs:{title:e.severity.label}},[e._v("\n    "+e._s(e.severity.label)+"\n  ")])],1)}),[],!1,null,null,null);t.a=o.exports},"73KY":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i("uHfJ"),i("R0RX"),i("WmlO"),i("3R5X"),i("W9Nl"),i("SXnf"),i("f5Le"),i("TTAZ"),i("W2Di"),i("9gLG"),i("pO+W"),i("DGqX"),i("DuA4"),i("8AuF"),i("bDpz"),i("JbNT"),i("CYm8"),i("s4MS"),i("fDBp"),i("Z+bI"),i("n0qn"),i("ujLG"),i("HaUQ");class n{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.tokenKeys=e,this.alternativeTokenKeys=t,this.conditions=i,this.tokenKeysWithAlternative=this.tokenKeys.concat(this.alternativeTokenKeys)}get(){return this.tokenKeys}getKeys(){return this.tokenKeys.map((function(e){return e.key}))}getAlternatives(){return this.alternativeTokenKeys}getConditions(){return this.conditions}shouldUppercaseTokenName(e){const t=this.searchByKey(e.toLowerCase());return t&&t.uppercaseTokenName}shouldCapitalizeTokenValue(e){const t=this.searchByKey(e.toLowerCase());return t&&t.capitalizeTokenValue}searchByKey(e){return this.tokenKeys.find((function(t){return t.key===e}))||null}searchBySymbol(e){return this.tokenKeys.find((function(t){return t.symbol===e}))||null}searchByKeyParam(e){return this.tokenKeysWithAlternative.find((function(t){let i=t.key;return i=i.replace("-","_"),t.param&&(i+="_"+t.param),e===i}))||null}searchByConditionUrl(e){return this.conditions.find((function(t){return t.url===e}))||null}searchByConditionKeyValue(e,t,i){return this.conditions.find((function(n){return n.tokenKey===e&&n.operator===t&&n.value.toLowerCase()===i.toLowerCase()}))||null}removeTokensForKeys(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=new Set(t);this.tokenKeys=this.tokenKeys.filter((function(e){let{key:t}=e;return!n.has(t)})),this.tokenKeysWithAlternative=this.tokenKeysWithAlternative.filter((function(e){let{key:t}=e;return!n.has(t)}))}}},"75go":function(e,t,i){"use strict";var n={name:"UserAccessRoleBadge",components:{GlBadge:i("F+K/").a}},s=i("bPvS"),r=Object(s.a)(n,(function(){var e=this.$createElement;return(this._self._c||e)("gl-badge",{staticClass:"gl-bg-transparent! gl-inset-border-1-gray-100!"},[this._t("default")],2)}),[],!1,null,null,null);t.a=r.exports},"774z":function(e,t,i){var n=i("9k6t"),s=i("ZTWp")((function(e,t,i){n(e,t,i)}));e.exports=s},"7aBQ":function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"workItemUpdate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WorkItemUpdateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItemUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItem"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItem"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:186}};n.loc.source={body:'#import "./work_item.fragment.graphql"\n\nmutation workItemUpdate($input: WorkItemUpdateInput!) {\n  workItemUpdate(input: $input) {\n    workItem {\n      ...WorkItem\n    }\n    errors\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("nLMr").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var r={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.workItemUpdate=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(n,"workItemUpdate")},"87TT":function(e,t){var i=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return i.test(e)}},"8KL1":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"b",(function(){return r}));const n="issuable_vue_app:change",s={issues:"issues",mergeRequests:"merge-requests"},r={ISSUE:"issue_",MERGE_REQUEST:"merge_request_"}},"8RVS":function(e,t,i){"use strict";var n=i("1HOK"),s=i("Uaqt");const r={replaced:"replaced",new:"new",deleted:"deleted",renamed:"renamed"},a={twoup:"twoup",swipe:"swipe",onion:"onion"};var o={components:{DownloadViewer:s.a},props:{diffMode:{type:String,required:!0},newPath:{type:String,required:!0},oldPath:{type:String,required:!0},projectPath:{type:String,required:!1,default:""}},diffModes:r},l=i("bPvS"),c=Object(l.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"diff-file-container"},[i("div",{staticClass:"diff-viewer"},[e.diffMode===e.$options.diffModes.replaced?i("div",{staticClass:"two-up view row"},[i("div",{staticClass:"col-sm-6 deleted"},[i("download-viewer",{attrs:{path:e.oldPath,"project-path":e.projectPath}})],1),e._v(" "),i("div",{staticClass:"col-sm-6 added"},[i("download-viewer",{attrs:{path:e.newPath,"project-path":e.projectPath}})],1)]):e.diffMode===e.$options.diffModes.new?i("div",{staticClass:"added"},[i("download-viewer",{attrs:{path:e.newPath,"project-path":e.projectPath}})],1):i("div",{staticClass:"deleted"},[i("download-viewer",{attrs:{path:e.oldPath,"project-path":e.projectPath}})],1)])])}),[],!1,null,null,null).exports,d=i("60/S");function u(e){return e?e+"px":""}var p={components:{ImageViewer:d.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0}},data:()=>({onionMaxWidth:void 0,onionMaxHeight:void 0,onionOldImgInfo:null,onionNewImgInfo:null,onionDraggerPos:0,onionOpacity:1,dragging:!1}),computed:{onionMaxPixelWidth(){return u(this.onionMaxWidth)},onionMaxPixelHeight(){return u(this.onionMaxHeight)},onionDraggerPixelPos(){return u(this.onionDraggerPos)}},beforeDestroy(){document.body.removeEventListener("mouseup",this.stopDrag),document.body.removeEventListener("touchend",this.stopDrag),document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},methods:{dragMove(e){if(!this.dragging)return;const t=(e.pageX||e.touches[0].pageX)-this.$refs.dragTrack.getBoundingClientRect().left,i=this.$refs.dragTrack.clientWidth-this.$refs.dragger.clientWidth||100;let n=t;n<0&&(n=0),n>i&&(n=i),this.onionOpacity=t/i,this.onionDraggerPos=n},startDrag(){this.dragging=!0,document.body.style.userSelect="none",document.body.addEventListener("mousemove",this.dragMove),document.body.addEventListener("touchmove",this.dragMove)},stopDrag(){this.dragging=!1,document.body.style.userSelect="",document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},prepareOnionSkin(){this.onionOldImgInfo&&this.onionNewImgInfo&&(this.onionMaxWidth=Math.max(this.onionOldImgInfo.renderedWidth,this.onionNewImgInfo.renderedWidth),this.onionMaxHeight=Math.max(this.onionOldImgInfo.renderedHeight,this.onionNewImgInfo.renderedHeight),this.onionOpacity=1,this.onionDraggerPos=this.$refs.dragTrack.clientWidth-this.$refs.dragger.clientWidth||100,document.body.addEventListener("mouseup",this.stopDrag),document.body.addEventListener("touchend",this.stopDrag))},onionNewImgLoaded(e){this.onionNewImgInfo=e,this.prepareOnionSkin()},onionOldImgLoaded(e){this.onionOldImgInfo=e,this.prepareOnionSkin()}}},h=Object(l.a)(p,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"onion-skin view"},[i("div",{staticClass:"onion-skin-frame",style:{width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight,"user-select":e.dragging?"none":null}},[i("div",{staticClass:"frame deleted",style:{width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight}},[i("image-viewer",{key:"onionOldImg",attrs:{"render-info":!1,path:e.oldPath},on:{imgLoaded:e.onionOldImgLoaded}})],1),e._v(" "),i("div",{ref:"addedFrame",staticClass:"added frame",style:{opacity:e.onionOpacity,width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight}},[i("image-viewer",{key:"onionNewImg",attrs:{"render-info":!1,path:e.newPath},on:{imgLoaded:e.onionNewImgLoaded},scopedSlots:e._u([{key:"image-overlay",fn:function(t){var i=t.renderedWidth,n=t.renderedHeight;return[e._t("image-overlay",null,{renderedWidth:i,renderedHeight:n})]}}],null,!0)})],1),e._v(" "),i("div",{staticClass:"controls"},[i("div",{staticClass:"transparent"}),e._v(" "),i("div",{ref:"dragTrack",staticClass:"drag-track",on:{mousedown:e.startDrag,mouseup:e.stopDrag,touchstart:e.startDrag,touchend:e.stopDrag}},[i("div",{ref:"dragger",staticClass:"dragger",style:{left:e.onionDraggerPixelPos}})]),e._v(" "),i("div",{staticClass:"opaque"})])])])}),[],!1,null,null,null).exports,m=i("uJ0F"),f=i.n(m),g={components:{ImageViewer:d.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0}},data:()=>({dragging:!1,swipeOldImgInfo:null,swipeNewImgInfo:null,swipeMaxWidth:void 0,swipeMaxHeight:void 0,swipeBarPos:1,swipeWrapWidth:0}),computed:{swipeMaxPixelWidth(){return u(this.swipeMaxWidth)},swipeMaxPixelHeight(){return u(this.swipeMaxHeight)},swipeWrapPixelWidth(){return u(this.swipeWrapWidth)},swipeBarPixelPos(){return u(this.swipeBarPos)}},beforeDestroy(){window.removeEventListener("resize",this.resizeThrottled,!1),document.body.removeEventListener("mouseup",this.stopDrag),document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchend",this.stopDrag),document.body.removeEventListener("touchmove",this.dragMove)},mounted(){window.addEventListener("resize",this.resize,!1)},methods:{dragMove(e){if(!this.dragging)return;let t=(e.pageX||e.touches[0].pageX)-this.$refs.swipeFrame.getBoundingClientRect().left;const{clientWidth:i}=this.$refs.swipeFrame;t<=0?t=0:t>i&&(t=i),this.swipeWrapWidth=t/i*100,this.swipeBarPos=t},startDrag(){this.dragging=!0,document.body.addEventListener("mousemove",this.dragMove),document.body.addEventListener("touchmove",this.dragMove)},stopDrag(){this.dragging=!1,document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},prepareSwipe(){this.swipeOldImgInfo&&this.swipeNewImgInfo&&this.swipeOldImgInfo.renderedWidth>0&&(this.swipeMaxWidth=Math.max(this.swipeOldImgInfo.renderedWidth,this.swipeNewImgInfo.renderedWidth)+2,this.swipeMaxHeight=Math.max(this.swipeOldImgInfo.renderedHeight,this.swipeNewImgInfo.renderedHeight)+2,document.body.addEventListener("mouseup",this.stopDrag),document.body.addEventListener("touchend",this.stopDrag))},swipeNewImgLoaded(e){this.swipeNewImgInfo=e,this.prepareSwipe()},swipeOldImgLoaded(e){this.swipeOldImgInfo=e,this.prepareSwipe()},resize:f()((function(){this.swipeBarPos=0,this.swipeWrapWidth=0,this.prepareSwipe()}),400)}},v=Object(l.a)(g,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"swipe view"},[i("div",{ref:"swipeFrame",staticClass:"swipe-frame",style:{width:e.swipeMaxPixelWidth,height:e.swipeMaxPixelHeight,"user-select":e.dragging?"none":null}},[i("image-viewer",{key:"swipeOldImg",ref:"swipeOldImg",staticClass:"frame deleted",attrs:{"render-info":!1,path:e.oldPath},on:{imgLoaded:e.swipeOldImgLoaded}}),e._v(" "),i("div",{ref:"swipeWrap",staticClass:"swipe-wrap",style:{width:e.swipeWrapWidth+"%"}},[i("image-viewer",{key:"swipeNewImg",staticClass:"frame added",style:{width:e.swipeMaxPixelWidth},attrs:{"render-info":!1,path:e.newPath},on:{imgLoaded:e.swipeNewImgLoaded},scopedSlots:e._u([{key:"image-overlay",fn:function(t){var i=t.renderedWidth,n=t.renderedHeight;return[e._t("image-overlay",null,{renderedWidth:i,renderedHeight:n})]}}],null,!0)})],1),e._v(" "),i("span",{ref:"swipeBar",staticClass:"swipe-bar",style:{left:e.swipeBarPixelPos},on:{mousedown:e.startDrag,mouseup:e.stopDrag,touchstart:e.startDrag,touchend:e.stopDrag}},[i("span",{staticClass:"top-handle"}),e._v(" "),i("span",{staticClass:"bottom-handle"})])],1)])}),[],!1,null,null,null).exports,b={components:{ImageViewer:d.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldSize:{type:Number,required:!1,default:0}}},y=Object(l.a)(b,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"two-up view d-flex"},[i("image-viewer",{staticClass:"wrap w-50",attrs:{path:e.oldPath,"file-size":e.oldSize,"render-info":!0,"inner-css-classes":"frame deleted"}}),e._v(" "),i("image-viewer",{staticClass:"wrap w-50",attrs:{path:e.newPath,"file-size":e.newSize,"render-info":!0,"inner-css-classes":["frame","added"]},scopedSlots:e._u([{key:"image-overlay",fn:function(t){var i=t.renderedWidth,n=t.renderedHeight;return[e._t("image-overlay",null,{renderedWidth:i,renderedHeight:n})]}}],null,!0)})],1)}),[],!1,null,null,null).exports,k={components:{ImageViewer:d.a},props:{diffMode:{type:String,required:!0},newPath:{type:String,required:!0},oldPath:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldSize:{type:Number,required:!1,default:0}},data:()=>({mode:a.twoup}),computed:{imageViewComponent(){switch(this.mode){case a.twoup:return y;case a.swipe:return v;case a.onion:return h;default:return}},isNew(){return this.diffMode===r.new},isRenamed(){return this.diffMode===r.renamed},imagePath(){return this.isNew||this.isRenamed?this.newPath:this.oldPath}},methods:{changeMode(e){this.mode=e}},diffModes:r,imageViewMode:a},w=Object(l.a)(k,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"diff-file-container"},[e.diffMode===e.$options.diffModes.replaced?i("div",{staticClass:"diff-viewer"},[i("div",{staticClass:"image js-replaced-image"},[i(e.imageViewComponent,e._b({tag:"component",scopedSlots:e._u([{key:"image-overlay",fn:function(t){var i=t.renderedWidth,n=t.renderedHeight;return[e._t("image-overlay",null,{renderedWidth:i,renderedHeight:n})]}}],null,!0)},"component",e.$props,!1))],1),e._v(" "),i("div",{staticClass:"view-modes"},[i("ul",{staticClass:"view-modes-menu"},[i("li",{class:{active:e.mode===e.$options.imageViewMode.twoup},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.twoup)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|2-up"))+"\n        ")]),e._v(" "),i("li",{class:{active:e.mode===e.$options.imageViewMode.swipe},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.swipe)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|Swipe"))+"\n        ")]),e._v(" "),i("li",{class:{active:e.mode===e.$options.imageViewMode.onion},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.onion)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|Onion skin"))+"\n        ")])])])]):i("div",{staticClass:"diff-viewer"},[i("div",{staticClass:"image"},[i("image-viewer",{attrs:{path:e.imagePath,"file-size":e.isNew?e.newSize:e.oldSize,"inner-css-classes":["frame",{added:e.isNew,deleted:e.diffMode===e.$options.diffModes.deleted}]},scopedSlots:e._u([e.isNew||e.isRenamed?{key:"image-overlay",fn:function(t){var i=t.renderedWidth,n=t.renderedHeight;return[e._t("image-overlay",null,{renderedWidth:i,renderedHeight:n})]}}:null],null,!0)})],1)])])}),[],!1,null,null,null).exports,_=i("t9l/"),S={props:{aMode:{type:String,required:!1,default:null},bMode:{type:String,required:!1,default:null}},computed:{outputText(){return Object(_.h)(Object(_.a)("File mode changed from %{a_mode} to %{b_mode}"),{a_mode:this.aMode,b_mode:this.bMode})}}},E=Object(l.a)(S,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"nothing-here-block"},[this._v(this._s(this.outputText))])}),[],!1,null,null,null).exports,D=i("Q04j"),T=i("u1ru"),C=i("zLBL"),I=i("nPFI"),O=i("CkNe"),j=i("yZaS"),x=i("vRHk"),A={STATE_LOADING:j.cb,STATE_ERRORED:j.ab,TRANSITIONS:j.Y,uiText:{showLink:Object(_.a)("Show file contents"),commitLink:Object(_.a)("View file @ %{commitSha}"),description:Object(_.a)("File renamed with no changes."),loadError:Object(_.a)("Unable to load file contents. Try again later.")},components:{GlAlert:D.a,GlLink:T.a,GlLoadingIcon:C.a,GlSprintf:I.a},props:{diffFile:{type:Object,required:!0}},data:()=>({state:j.bb}),computed:{shortSha(){return Object(x.A)(this.diffFile.content_sha)},canLoadFullDiff(){return"text"===this.diffFile.alternate_viewer.name}},methods:{...Object(O.c)("diffs",["switchToFullDiffFromRenamedFile"]),transition(e){const t=`${this.state}:${e}`;this.$options.TRANSITIONS[t]&&(this.state=this.$options.TRANSITIONS[t])},is(e){return this.state===e},switchToFull(){var e=this;this.transition(j.ub),this.switchToFullDiffFromRenamedFile({diffFile:this.diffFile}).then((function(){e.transition(j.vb)})).catch((function(){e.transition(j.tb)}))},clickLink(e){this.canLoadFullDiff&&(e.preventDefault(),this.switchToFull())},dismissError(){this.transition(j.sb)}}},N=Object(l.a)(A,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"nothing-here-block"},[e.is(e.$options.STATE_LOADING)?i("gl-loading-icon",{attrs:{size:"sm"}}):[i("gl-alert",{directives:[{name:"show",rawName:"v-show",value:e.is(e.$options.STATE_ERRORED),expression:"is($options.STATE_ERRORED)"}],staticClass:"gl-mb-5 gl-text-left",attrs:{variant:"danger"},on:{dismiss:e.dismissError}},[e._v(e._s(e.$options.uiText.loadError))]),e._v(" "),i("span",{attrs:{"test-id":"plaintext"}},[e._v(e._s(e.$options.uiText.description))]),e._v(" "),i("gl-link",{attrs:{href:e.diffFile.view_path},on:{click:e.clickLink}},[e.canLoadFullDiff?i("span",[e._v(e._s(e.$options.uiText.showLink))]):i("gl-sprintf",{attrs:{message:e.$options.uiText.commitLink},scopedSlots:e._u([{key:"commitSha",fn:function(){return[e._v(e._s(e.shortSha))]},proxy:!0}])})],1)]],2)}),[],!1,null,null,null).exports,F={props:{diffFile:{type:Object,required:!0},diffMode:{type:String,required:!0},diffViewerMode:{type:String,required:!0},newPath:{type:String,required:!0},newSha:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldPath:{type:String,required:!0},oldSha:{type:String,required:!0},oldSize:{type:Number,required:!1,default:0},projectPath:{type:String,required:!1,default:""},aMode:{type:String,required:!1,default:null},bMode:{type:String,required:!1,default:null}},computed:{viewer(){if(this.diffViewerMode===n.y.renamed)return N;if(this.diffMode===n.w.mode_changed)return E;if(!this.newPath)return null;switch(this.diffViewerMode){case n.y.image:return w;default:return c}},basePath(){return 0===this.projectPath.indexOf("/")?"":gon.relative_url_root+"/"},fullOldPath(){return`${this.basePath}${this.projectPath}/-/raw/${this.oldSha}/${this.oldPath}`},fullNewPath(){return`${this.basePath}${this.projectPath}/-/raw/${this.newSha}/${this.newPath}`}}},L=Object(l.a)(F,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.viewer?i("div",{staticClass:"diff-file preview-container"},[i(e.viewer,{tag:"component",attrs:{"diff-file":e.diffFile,"diff-mode":e.diffMode,"new-path":e.fullNewPath,"old-path":e.fullOldPath,"old-size":e.oldSize,"new-size":e.newSize,"project-path":e.projectPath,"a-mode":e.aMode,"b-mode":e.bMode},scopedSlots:e._u([{key:"image-overlay",fn:function(t){var i=t.renderedWidth,n=t.renderedHeight;return[e._t("image-overlay",null,{renderedWidth:i,renderedHeight:n})]}}],null,!0)}),e._v(" "),e._t("default")],2):e._e()}),[],!1,null,null,null);t.a=L.exports},"9Wpt":function(e,t,i){"use strict";i.r(t);var n=i("iaMy"),s=i.n(n),r=(i("uHfJ"),i("R0RX"),i("ujLG"),i("3R5X"),i("HaUQ"),i("H8gz")),a=i("OkMp"),o=i("6HTq"),l=i("nQy4"),c=i.n(l),d=i("8GQU"),u=i("mJX+"),p=i("JBkr"),h=i("vRHk"),m={props:{emojis:{type:Array,required:!0},renderGroup:{type:Boolean,required:!0},clickEmoji:{type:Function,required:!0}}},f=i("bPvS"),g=Object(f.a)(m,(function(e,t){var i=t._c;return i("div",{staticClass:"gl-display-flex gl-flex-wrap gl-mb-2"},[t.props.renderGroup?t._l(t.props.emojis,(function(e){return i("button",{key:e,staticClass:"gl-border-0 gl-bg-transparent gl-px-0 gl-py-2 gl-text-center emoji-picker-emoji",attrs:{type:"button","data-testid":"emoji-button"},on:{click:function(i){return t.props.clickEmoji(e)}}},[i("gl-emoji",{attrs:{"data-name":e}})],1)})):t._e()],2)}),[],!0,null,null,null).exports,v={components:{GlIntersectionObserver:p.a,EmojiGroup:g},props:{category:{type:String,required:!0},emojis:{type:Array,required:!0}},data:()=>({renderGroup:!1}),computed:{categoryTitle(){return Object(h.q)(this.category)}},methods:{categoryAppeared(){this.renderGroup=!0,this.$emit("appear",this.category)}}},b=Object(f.a)(v,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-intersection-observer",{staticClass:"gl-px-5 gl-h-full",on:{appear:e.categoryAppeared}},[i("div",{staticClass:"gl-top-0 gl-py-3 gl-w-full gl-z-index-1 emoji-picker-category-header"},[i("b",[e._v(e._s(e.categoryTitle))])]),e._v(" "),e.emojis.length?e._l(e.emojis,(function(t,n){return i("emoji-group",{key:n,attrs:{emojis:t,"render-group":e.renderGroup,"click-emoji":function(t){return e.$emit("click",t)}}})})):i("p",[e._v("\n    "+e._s(e.s__("AwardEmoji|No emojis found."))+"\n  ")])],2)}),[],!1,null,null,null).exports,y=i("ceBC"),k=i.n(y),w=i("odnV"),_=i.n(w),S=i("odYa"),E=i.n(S),D=(i("0no1"),i("gdbl"),i("oj/M"));const T=function(e){return e*u.f+u.d},C=function(){const e=Object(D.m)(u.g);if(!e)return null;const t=k()(_()(e.split(",")),9);return{frequently_used:{emojis:t,top:0,height:T(t.length)}}},I=E()((async function(){await Object(d.initEmojiMap)();const e=await Object(d.getEmojiCategoryMap)(),t=C();let i=t?t.frequently_used.top+t.frequently_used.height:0;return Object.freeze(Object.keys(e).filter((function(e){return e!==u.h})).reduce((function(t,n){const s=k()(e[n],u.e),r=T(s.length),a={...t,[n]:{emojis:s,height:r,top:i}};return i+=r,a}),t||{}))}));var O={props:{searchValue:{type:String,required:!0}},data:()=>({render:!1}),computed:{filteredCategories(){if(""!==this.searchValue){const e=k()(Object(d.searchEmoji)(this.searchValue).map((function(e){let{emoji:t}=e;return t.name})),u.e);return{search:{emojis:e,height:T(e.length)}}}return this.categories}},async mounted(){this.categories=await I(),this.render=!0}},j=Object(f.a)(O,(function(){var e=this.$createElement,t=this._self._c||e;return this.render?t("div",[this._t("default",null,{filteredCategories:this.filteredCategories})],2):this._e()}),[],!1,null,null,null).exports,x={components:{GlIcon:r.a,GlDropdown:a.a,GlSearchBoxByType:o.a,VirtualList:c.a,Category:b,EmojiList:j},props:{toggleClass:{type:[Array,String,Object],required:!1,default:function(){return[]}},dropdownClass:{type:[Array,String,Object],required:!1,default:function(){return[]}},right:{type:Boolean,required:!1,default:!0},boundary:{type:String,required:!1,default:""}},data:()=>({currentCategory:0,searchValue:""}),computed:{categoryNames:()=>d.CATEGORY_NAMES.filter((function(e){return e!==u.h||null!==C()})).map((function(e){return{name:e,icon:u.c[e]}}))},methods:{categoryAppeared(e){this.currentCategory=e},async scrollToCategory(e){const t=await I(),{top:i}=t[e];this.$refs.virtualScoller.setScrollTop(i)},selectEmoji(e){this.$emit("click",e),this.$refs.dropdown.hide(),function(e){const t=_()((Object(D.m)(u.g)||"").split(",").filter((function(e){return e})).concat(e));Object(D.L)(u.g,t.join(","))}(e)},getBoundaryElement(){return this.boundary||document.querySelector(".content-wrapper")||"scrollParent"},onSearchInput(){this.$refs.virtualScoller.setScrollTop(0),this.$refs.virtualScoller.forceRender()},async onScroll(e,t){let{offset:i}=t;const n=await I();this.currentCategory=s()(Object.values(n),(function(e){let{top:t}=e;return i>=t}))}}},A=Object(f.a)(x,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"emoji-picker"},[i("gl-dropdown",{ref:"dropdown",class:e.dropdownClass,attrs:{"toggle-class":e.toggleClass,boundary:e.getBoundaryElement(),"menu-class":"dropdown-extended-height",category:"secondary","no-flip":"",right:e.right,lazy:""},on:{shown:function(t){return e.$emit("shown")},hidden:function(t){return e.$emit("hidden")}},scopedSlots:e._u([{key:"button-content",fn:function(){return[e._t("button-content")]},proxy:!0}],null,!0)},[e._v(" "),i("gl-search-box-by-type",{staticClass:"gl-mx-5! gl-mb-2!",attrs:{autofocus:"",debounce:"500","aria-label":e.__("Search for an emoji")},on:{input:e.onSearchInput},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.searchValue,expression:"!searchValue"}],staticClass:"gl-display-flex gl-mx-5 gl-border-b-solid gl-border-gray-100 gl-border-b-1"},e._l(e.categoryNames,(function(t,n){return i("button",{key:t.name,staticClass:"gl-border-0 gl-border-b-2 gl-border-b-solid gl-flex-grow-1 gl-text-gray-300 gl-pt-3 gl-pb-3 gl-bg-transparent emoji-picker-category-tab",class:{"gl-text-body! emoji-picker-category-active":n===e.currentCategory},attrs:{type:"button","aria-label":t.name},on:{click:function(i){return e.scrollToCategory(t.name)}}},[i("gl-icon",{attrs:{name:t.icon}})],1)})),0),e._v(" "),i("emoji-list",{attrs:{"search-value":e.searchValue},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.filteredCategories;return[i("virtual-list",{ref:"virtualScoller",attrs:{size:258,remain:1,bench:2,variable:"",onscroll:e.onScroll}},e._l(n,(function(t,n){return i("div",{key:n,style:{height:t.height+"px"}},[i("category",{attrs:{category:n,emojis:t.emojis},on:{click:e.selectEmoji}})],1)})),0)]}}])})],1)],1)}),[],!1,null,null,null);t.default=A.exports},"9e36":function(e,t){e.exports=function(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}},"9ema":function(e,t,i){"use strict";var n=i("9LGn"),s=i("CkNe"),r=i("t9l/"),a={directives:{SafeHtml:n.a},computed:{...Object(s.d)(["getNotesDataByProp"]),registerLink(){return this.getNotesDataByProp("registerPath")},signInLink(){return this.getNotesDataByProp("newSessionPath")},signedOutText(){return Object(r.h)(Object(r.a)("Please %{startTagRegister}register%{endRegisterTag} or %{startTagSignIn}sign in%{endSignInTag} to reply"),{startTagRegister:`<a href="${this.registerLink}">`,startTagSignIn:`<a href="${this.signInLink}">`,endRegisterTag:"</a>",endSignInTag:"</a>"},!1)}}},o=i("bPvS"),l=Object(o.a)(a,(function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:this.signedOutText,expression:"signedOutText"}],staticClass:"disabled-comment text-center"})}),[],!1,null,null,null);t.a=l.exports},"9k6t":function(e,t,i){var n=i("Rsjk"),s=i("J+RW"),r=i("QhAn"),a=i("AVNZ"),o=i("kMtG"),l=i("LrAm"),c=i("2Bom");e.exports=function e(t,i,d,u,p){t!==i&&r(i,(function(r,l){if(p||(p=new n),o(r))a(t,i,l,d,e,u,p);else{var h=u?u(c(t,l),r,l+"",t,i,p):void 0;void 0===h&&(h=r),s(t,l,h)}}),l)}},"9l04":function(e,t,i){"use strict";var n=i("kMtG"),s=i.n(n),r=(i("h8Et"),i("5DNK")),a=i("cmjF"),o=i("t2gO"),l=i("t9l/"),c=i("a4ol"),d={name:"UserAvatarImage",components:{GlTooltip:r.a,GlAvatar:a.a},props:{lazy:{type:Boolean,required:!1,default:!1},imgSrc:{type:String,required:!1,default:o.a},cssClasses:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:Object(l.a)("user avatar")},size:{type:[Number,Object],required:!0},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"}},computed:{sanitizedSource(){let e=""===this.imgSrc||null===this.imgSrc?o.a:this.imgSrc;return 0===e.indexOf("data:")||e.includes("?")||(e+="?width="+this.maximumSize),e},maximumSize(){return s()(this.size)?Math.max(...Object.values(this.size)):this.size},resultantSrcAttribute(){return this.lazy?c.b:this.sanitizedSource}}},u=i("bPvS"),p=Object(u.a)(d,(function(){var e,t=this,i=t.$createElement,n=t._self._c||i;return n("span",{ref:"userAvatar"},[n("gl-avatar",{class:(e={lazy:t.lazy},e[t.cssClasses]=!0,e),attrs:{src:t.resultantSrcAttribute,"data-src":t.sanitizedSource,size:t.size,alt:t.imgAlt}}),t._v(" "),t.tooltipText||t.$scopedSlots.default?n("gl-tooltip",{attrs:{target:function(){return t.$refs.userAvatar},placement:t.tooltipPlacement,boundary:"window"}},[t._t("default",(function(){return[t._v(t._s(t.tooltipText))]}))],2):t._e()],1)}),[],!1,null,null,null);t.a=p.exports},"9uTP":function(e,t,i){"use strict";var n=i("Z2pp"),s=i("DQ7i"),r=i("jyii"),a=i("/Zha"),o=i("gCUY"),l=i("Sq3g"),c=i("mYXc"),d=i("s4Bd");function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function p(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){h(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var m={id:{type:String,default:null},tag:{type:String,default:"div"},isText:{type:Boolean,default:!1}},f=n.a.extend({name:r.H,functional:!0,props:Object(o.c)(p(p({},m),{},{append:{type:Boolean,default:!1}}),r.H),render:function(e,t){var i=t.props,n=t.data,r=t.children;return e(i.tag,Object(s.a)(n,{class:{"input-group-append":i.append,"input-group-prepend":!i.append},attrs:{id:i.id}}),i.isText?[e(d.a,r)]:r)}});function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){b(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function b(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var y=n.a.extend({name:r.I,functional:!0,props:Object(o.c)(m,r.I),render:function(e,t){var i=t.props,n=t.data,r=t.children;return e(f,Object(s.a)(n,{props:v(v({},i),{},{append:!0})}),r)}});function k(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function w(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?k(Object(i),!0).forEach((function(t){_(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var S=n.a.extend({name:r.J,functional:!0,props:Object(o.c)(m,r.J),render:function(e,t){var i=t.props,n=t.data,r=t.children;return e(f,Object(s.a)(n,{props:w(w({},i),{},{append:!1})}),r)}});var E=Object(o.c)({id:{type:String},size:{type:String},prepend:{type:String},prependHtml:{type:String},append:{type:String},appendHtml:{type:String},tag:{type:String,default:"div"}},r.G),D=n.a.extend({name:r.G,functional:!0,props:E,render:function(e,t){var i=t.props,n=t.data,r=t.slots,o=t.scopedSlots,u=i.prepend,p=i.prependHtml,h=i.append,m=i.appendHtml,f=i.size,g=o||{},v=r(),b={},k=e(),w=Object(c.a)(a.g,g,v);(w||u||p)&&(k=e(S,[w?Object(c.b)(a.g,b,g,v):e(d.a,{domProps:Object(l.a)(p,u)})]));var _,E,D,T=e(),C=Object(c.a)(a.a,g,v);return(C||h||m)&&(T=e(y,[C?Object(c.b)(a.a,b,g,v):e(d.a,{domProps:Object(l.a)(m,h)})])),e(i.tag,Object(s.a)(n,{staticClass:"input-group",class:(_={},E="input-group-".concat(f),D=f,E in _?Object.defineProperty(_,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):_[E]=D,_),attrs:{id:i.id||null,role:"group"}}),[k,Object(c.b)(a.c,b,g,v),T])}}),T=i("/Jty"),C=i("OkMp"),I=i("0X+3");const O={props:{value:{type:[String,Number],default:""}},data(){return{localValue:this.stringifyValue(this.value)}},watch:{value(e){e!==this.localValue&&(this.localValue=this.stringifyValue(e))},localValue(e){e!==this.value&&this.$emit("input",e)}},mounted(){const e=this.stringifyValue(this.value);if(this.activeOption){const e=this.predefinedOptions.find(e=>e.name===this.activeOption);this.localValue=e.value}else e!==this.localValue&&(this.localValue=e)},methods:{stringifyValue:e=>null==e?"":String(e)}};var j=i("6IRw"),x=i.n(j);const A={name:"GlFormInputGroup",components:{BInputGroup:D,BInputGroupPrepend:S,BInputGroupAppend:y,BFormInput:T.a,GlDropdown:C.a,GlDropdownItem:I.a},mixins:[O],props:{selectOnClick:{type:Boolean,required:!1,default:!1},predefinedOptions:{type:Array,required:!1,default:()=>[{value:"",name:""}],validator:e=>e.every(e=>Object.keys(e).includes("name","value"))},label:{type:String,required:!1,default:void 0},inputClass:{type:[String,Array,Object],required:!1,default:""}},data(){return{activeOption:this.predefinedOptions&&this.predefinedOptions[0].name}},methods:{handleClick(){this.selectOnClick&&this.$refs.input.$el.select()},updateValue(e){const{name:t,value:i}=e;this.activeOption=t,this.localValue=i}}};const N=x()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-input-group",[e.activeOption||e.$scopedSlots.prepend?i("b-input-group-prepend",[e._t("prepend"),e._v(" "),e.activeOption?i("gl-dropdown",{attrs:{text:e.activeOption}},e._l(e.predefinedOptions,(function(t){return i("gl-dropdown-item",{key:t.value,attrs:{"is-check-item":"","is-checked":e.activeOption===t.name},on:{click:function(i){return e.updateValue(t)}}},[e._v("\n        "+e._s(t.name)+"\n      ")])})),1):e._e()],2):e._e(),e._v(" "),e._t("default",(function(){return[i("b-form-input",e._g(e._b({ref:"input",class:["gl-form-input",e.inputClass],attrs:{"aria-label":e.label},on:{click:e.handleClick},model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"b-form-input",e.$attrs,!1),e.$listeners))]})),e._v(" "),e.$scopedSlots.append?i("b-input-group-append",[e._t("append")],2):e._e()],2)},staticRenderFns:[]},void 0,A,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=N},A20k:function(e,t,i){"use strict";var n=i("nPFI"),s={components:{TimeAgoTooltip:i("LcVr").a,GlSprintf:n.a},props:{updatedAt:{type:String,required:!1,default:""},updatedByName:{type:String,required:!1,default:""},updatedByPath:{type:String,required:!1,default:""}},computed:{hasUpdatedBy(){return this.updatedByName&&this.updatedByPath}}},r=i("bPvS"),a=Object(r.a)(s,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("small",{staticClass:"edited-text js-issue-widgets"},[e.hasUpdatedBy?e.updatedAt?i("gl-sprintf",{attrs:{message:e.__("Edited %{timeago} by %{author}")},scopedSlots:e._u([{key:"timeago",fn:function(){return[i("time-ago-tooltip",{attrs:{time:e.updatedAt,"tooltip-placement":"bottom"}})]},proxy:!0},{key:"author",fn:function(){return[i("a",{staticClass:"author-link gl-hover-text-decoration-underline",attrs:{href:e.updatedByPath}},[i("span",[e._v(e._s(e.updatedByName))])])]},proxy:!0}])}):i("gl-sprintf",{attrs:{message:e.__("Edited by %{author}")},scopedSlots:e._u([{key:"author",fn:function(){return[i("a",{staticClass:"author-link gl-hover-text-decoration-underline",attrs:{href:e.updatedByPath}},[i("span",[e._v(e._s(e.updatedByName))])])]},proxy:!0}])}):i("gl-sprintf",{attrs:{message:e.__("Edited %{timeago}")},scopedSlots:e._u([{key:"timeago",fn:function(){return[i("time-ago-tooltip",{attrs:{time:e.updatedAt,"tooltip-placement":"bottom"}})]},proxy:!0}],null,!1,3148754604)})],1)}),[],!1,null,null,null);t.a=a.exports},A8Nj:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("t9l/");const s={GENERIC_UNSUBMITTABLE_NETWORK:Object(n.a)("Your comment could not be submitted! Please check your network connection and try again."),note:Object(n.a)("Note"),comment:Object(n.a)("Comment"),internalComment:Object(n.a)("Add internal note"),issue:Object(n.a)("issue"),startThread:Object(n.a)("Start thread"),startInternalThread:Object(n.a)("Start internal thread"),mergeRequest:Object(n.a)("merge request"),epic:Object(n.a)("epic"),bodyPlaceholder:Object(n.a)("Write a comment or drag your files here"),bodyPlaceholderInternal:Object(n.a)("Write an internal note or drag your files here"),internal:Object(n.g)("Notes|Make this an internal note"),internalVisibility:Object(n.g)("Notes|Internal notes are only visible to members with the role of Reporter or higher"),discussionThatNeedsResolution:Object(n.a)("Discuss a specific suggestion or question that needs to be resolved."),internalDiscussionThatNeedsResolution:Object(n.a)("Discuss a specific suggestion or question internally that needs to be resolved."),discussion:Object(n.a)("Discuss a specific suggestion or question."),internalDiscussion:Object(n.a)("Discuss a specific suggestion or question internally."),actionButtonWithNote:Object(n.a)("%{actionText} & %{openOrClose} %{noteable}"),actionButton:{withNote:{reopen:Object(n.a)("%{actionText} & reopen %{noteable}"),close:Object(n.a)("%{actionText} & close %{noteable}")},withoutNote:{reopen:Object(n.a)("Reopen %{noteable}"),close:Object(n.a)("Close %{noteable}")}},submitButton:{startThread:Object(n.a)("Start thread"),startInternalThread:Object(n.a)("Start internal thread"),comment:Object(n.a)("Comment"),internalComment:Object(n.a)("Add internal note"),commentHelp:Object(n.a)("Add a general comment to this %{noteableDisplayName}."),internalCommentHelp:Object(n.a)("Add a confidential internal note to this %{noteableDisplayName}.")}}},AVNZ:function(e,t,i){var n=i("J+RW"),s=i("y74X"),r=i("1RkG"),a=i("Wjbg"),o=i("EwIz"),l=i("rQkY"),c=i("mABg"),d=i("QN0Q"),u=i("Iudf"),p=i("vZRN"),h=i("kMtG"),m=i("Zqnx"),f=i("LtDP"),g=i("2Bom"),v=i("fQQh");e.exports=function(e,t,i,b,y,k,w){var _=g(e,i),S=g(t,i),E=w.get(S);if(E)n(e,i,E);else{var D=k?k(_,S,i+"",e,t,w):void 0,T=void 0===D;if(T){var C=c(S),I=!C&&u(S),O=!C&&!I&&f(S);D=S,C||I||O?c(_)?D=_:d(_)?D=a(_):I?(T=!1,D=s(S,!0)):O?(T=!1,D=r(S,!0)):D=[]:m(S)||l(S)?(D=_,l(_)?D=v(_):h(_)&&!p(_)||(D=o(S))):T=!1}T&&(w.set(S,D),y(D,S,b,k,w),w.delete(S)),n(e,i,D)}}},AaGz:function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},Ad8m:function(e,t,i){"use strict";var n=i("nPFI"),s=i("Daar"),r={name:"UserNameWithStatus",components:{GlSprintf:n.a},props:{name:{type:String,required:!0},containerClasses:{type:String,required:!1,default:""},availability:{type:String,required:!1,default:""},pronouns:{type:String,required:!1,default:""}},computed:{hasPronouns(){return null!==this.pronouns&&""!==this.pronouns.trim()},isBusy(){return Object(s.a)(this.availability)}}},a=i("bPvS"),o=Object(a.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{class:e.containerClasses},[i("gl-sprintf",{attrs:{message:e.s__("UserAvailability|%{author} %{spanStart}(Busy)%{spanEnd}")},scopedSlots:e._u([{key:"author",fn:function(){return[e._v(e._s(e.name)+"\n      "),e.hasPronouns?i("span",{staticClass:"gl-text-gray-500 gl-font-sm gl-font-weight-normal"},[e._v("("+e._s(e.pronouns)+")")]):e._e()]},proxy:!0},{key:"span",fn:function(t){var n=t.content;return[e.isBusy?i("span",{staticClass:"gl-text-gray-500 gl-font-sm gl-font-weight-normal"},[e._v(e._s(n))]):e._e()]}}])})],1)}),[],!1,null,null,null);t.a=o.exports},AiIx:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"f",(function(){return s})),i.d(t,"d",(function(){return r})),i.d(t,"e",(function(){return a})),i.d(t,"g",(function(){return o})),i.d(t,"c",(function(){return l})),i.d(t,"b",(function(){return c}));const n=8,s=9,r=13,a=27,o=38,l=40,c=46},Aiz4:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"issueState"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueState"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}]}]}}],loc:{start:0,end:42}};i.loc.source={body:"query issueState {\n  issueState @client\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.issueState=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"issueState")},AjOR:function(e,t,i){"use strict";i("Yvyq")},B0bW:function(e,t,i){"use strict";var n=i("cuRJ"),s=i("6IRw"),r=i.n(s);const a={components:{GlButton:n.a},props:{title:{type:String,required:!1,default:null},svgPath:{type:String,required:!1,default:null},svgHeight:{type:Number,required:!1,default:null},description:{type:String,required:!1,default:null},primaryButtonLink:{type:String,required:!1,default:null},primaryButtonText:{type:String,required:!1,default:null},secondaryButtonLink:{type:String,required:!1,default:null},secondaryButtonText:{type:String,required:!1,default:null},compact:{type:Boolean,required:!1,default:!1},invertInDarkMode:{type:Boolean,required:!1,default:!0}},computed:{height(){return this.shouldPreventImageReflow?this.svgHeight:null},shouldPreventImageReflow(){return Boolean(this.svgHeight)},shouldRenderPrimaryButton(){return Boolean(this.primaryButtonLink&&this.primaryButtonText)},shouldRenderSecondaryButton(){return Boolean(this.secondaryButtonLink&&this.secondaryButtonText)}}};const o=r()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"gl-display-flex",class:{"empty-state gl-text-center gl-flex-direction-column":!e.compact,"gl-flex-direction-row":e.compact}},[i("div",{class:{"gl-display-none gl-sm-display-block gl-px-4":e.compact,"gl-max-w-full":!e.compact}},[e.svgPath?i("div",{staticClass:"svg-250",class:{"svg-content":!e.compact}},[i("img",{staticClass:"gl-max-w-full",class:{"gl-dark-invert-keep-hue":e.invertInDarkMode},attrs:{src:e.svgPath,alt:"",role:"img",height:e.height}})]):e._e()]),e._v(" "),i("div",{class:e.compact?"gl-flex-grow-1 gl-flex-basis-0 gl-px-4":"gl-max-w-full gl-m-auto"},[i("div",{staticClass:"gl-mx-auto gl-my-0",class:{"gl-p-5":!e.compact}},[e._t("title",(function(){return[i("h1",{staticClass:"gl-font-size-h-display gl-line-height-36",class:e.compact?"h5":"h4"},[e._v("\n          "+e._s(e.title)+"\n        ")])]})),e._v(" "),e.description||e.$scopedSlots.description?i("p",{ref:"description",staticClass:"gl-mt-3"},[e._t("description",(function(){return[e._v("\n          "+e._s(e.description)+"\n        ")]}))],2):e._e(),e._v(" "),i("div",{staticClass:"gl-display-flex gl-flex-wrap",class:{"gl-justify-content-center":!e.compact}},[e._t("actions",(function(){return[e.shouldRenderPrimaryButton?i("gl-button",{staticClass:"gl-mb-3",class:e.compact?"gl-mr-3":"gl-mx-2",attrs:{variant:"confirm",href:e.primaryButtonLink}},[e._v(e._s(e.primaryButtonText))]):e._e(),e._v(" "),e.shouldRenderSecondaryButton?i("gl-button",{staticClass:"gl-mb-3 gl-mr-3",class:{"gl-mx-2!":!e.compact},attrs:{href:e.secondaryButtonLink}},[e._v(e._s(e.secondaryButtonText)+"\n          ")]):e._e()]}))],2)],2)])])},staticRenderFns:[]},void 0,a,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},B7Ow:function(e,t,i){"use strict";i.d(t,"a",(function(){return D})),i.d(t,"b",(function(){return T})),i.d(t,"c",(function(){return C})),i.d(t,"d",(function(){return I}));var n=i("r8JS"),s=i("q+nE"),r=(i("WmlO"),i("3R5X"),i("W9Nl"),i("h8Et"),i("49qB")),a=i("6oy4"),o=i.n(a),l=i("oj/M"),c=i("r5Uk");class d{constructor(e){this.userSelect=new c.default(e),this.reviewersSelect=new c.default(e,".js-reviewer-search"),o()(".issuable-sidebar .inline-update").on("change","select",(function(){return o()(this).submit()})),o()(".issuable-sidebar .inline-update").on("change",".js-assignee",(function(){return o()(this).submit()})),o()(document).off("click",".issuable-sidebar .dropdown-content a").on("click",".issuable-sidebar .dropdown-content a",(function(e){return e.preventDefault()})),o()(document).off("click",".edit-link").on("click",".edit-link",(function(e){e.preventDefault();const t=o()(this).parents(".block"),i=t.find(".selectbox");i.is(":visible")?(i.hide(),t.find(".value:not(.dont-hide)").show()):(i.show(),t.find(".value:not(.dont-hide)").hide()),i.is(":visible")&&setTimeout((function(){return t.find(".dropdown-menu-toggle").trigger("click")}),0)})),window.addEventListener("beforeunload",(function(){const e=r.a.getBreakpointSize();["xs","sm","md"].includes(e)&&Object(l.L)("collapsed_gutter",!0)}))}}var u=i("tQ82"),p=i("4stm"),h=i("0hEd"),m=i("3r2P"),f=i("H8gz"),g=i("ly/8"),v=i("CkNe"),b=i("t9l/"),y=i("mpzd"),k=i("Zxcm"),w=i("Z6cG"),_={WorkspaceType:y.e,IssuableType:y.c,components:{GlIcon:f.a,ConfidentialityBadge:w.a},directives:{GlTooltip:g.a},mixins:[Object(k.a)()],inject:["hidden"],computed:{...Object(v.d)(["getNoteableData"]),isLocked(){return this.getNoteableData.discussion_locked},isConfidential(){return this.getNoteableData.confidential},isMergeRequest(){return"merge_request"===this.getNoteableData.targetType},warningIconsMeta(){return[{iconName:"lock",visible:this.isLocked,dataTestId:"locked"},{iconName:"spam",visible:this.hidden,dataTestId:"hidden",tooltip:Object(b.a)("This issue is hidden because its author has been banned")}]}}},S=i("bPvS"),E=Object(S.a)(_,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-display-inline-block"},[e.isConfidential?i("confidentiality-badge",{attrs:{"data-testid":"confidential","workspace-type":e.$options.WorkspaceType.project,"issuable-type":e.$options.IssuableType.Issue}}):e._e(),e._v(" "),e._l(e.warningIconsMeta,(function(t){return[t.visible?i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],key:t.iconName,staticClass:"issuable-warning-icon",class:{"gl-mr-3 gl-mt-2 gl-display-flex gl-justify-content-center gl-align-items-center":e.isMergeRequest,"gl-display-inline-block":!e.isMergeRequest},attrs:{"data-testid":t.dataTestId,title:t.tooltip||null}},[i("gl-icon",{staticClass:"icon",attrs:{name:t.iconName}})],1):e._e()]}))],2)}),[],!1,null,null,null).exports;function D(){const e=document.querySelector(".js-csv-import-export-buttons");if(!e)return null;const{showExportButton:t,showImportButton:i,issuableType:n,issuableCount:r,email:a,exportCsvPath:o,importCsvIssuesPath:c,containerClass:d,canEdit:u,projectImportJiraPath:p,maxAttachmentSize:m,showLabel:f}=e.dataset;return new s.default({el:e,name:"CsvImportExportButtonsRoot",provide:{showExportButton:Object(l.F)(t),showImportButton:Object(l.F)(i),issuableType:n,email:a,importCsvIssuesPath:c,containerClass:d,canEdit:Object(l.F)(u),projectImportJiraPath:p,maxAttachmentSize:m,showLabel:f},render:function(e){return e(h.a,{props:{exportCsvPath:o,issuableCount:parseInt(r,10)}})}})}function T(){const e=document.querySelector(".js-issuable-by-email");if(!e)return null;s.default.use(n.a);const{initialEmail:t,issuableType:i,emailsHelpPagePath:r,quickActionsHelpPath:a,markdownHelpPath:o,resetPath:l}=e.dataset;return new s.default({el:e,name:"IssuableByEmailRoot",provide:{initialEmail:t,issuableType:i,emailsHelpPagePath:r,quickActionsHelpPath:a,markdownHelpPath:o,resetPath:l},render:function(e){return e(m.a)}})}function C(e){const t=document.getElementById("js-issuable-header-warnings");if(!t)return null;const{hidden:i}=t.dataset;return new s.default({el:t,name:"IssuableHeaderWarningsRoot",store:e,provide:{hidden:Object(l.F)(i)},render:function(e){return e(E)}})}function I(){const e=document.querySelector(".js-sidebar-options");if(!e)return;const t=Object(p.a)(e);new d(t.currentUser),u.a.initialize()}},CE4l:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"issuableMilestone"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"issuableId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssuableID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issuableMilestoneUpdated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"issuableId"},value:{kind:"Variable",name:{kind:"Name",value:"issuableId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItem"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"widgets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetMilestone"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MilestoneFragment"},directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:372}};n.loc.source={body:'#import "~/work_items/graphql/milestone.fragment.graphql"\n\nsubscription issuableMilestone($issuableId: IssuableID!) {\n  issuableMilestoneUpdated(issuableId: $issuableId) {\n    ... on WorkItem {\n      id\n      widgets {\n        ... on WorkItemWidgetMilestone {\n          type\n          milestone {\n            ...MilestoneFragment\n          }\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("fFSh").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var r={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.issuableMilestone=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(n,"issuableMilestone")},"CI/v":function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"issuableLabelsUpdated"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"issuableId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssuableID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issuableLabelsUpdated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"issuableId"},value:{kind:"Variable",name:{kind:"Name",value:"issuableId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Label"},directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergeRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Label"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:392}};n.loc.source={body:'#import "~/graphql_shared/fragments/label.fragment.graphql"\n\nsubscription issuableLabelsUpdated($issuableId: IssuableID!) {\n  issuableLabelsUpdated(issuableId: $issuableId) {\n    ... on Issue {\n      id\n      labels {\n        nodes {\n          ...Label\n        }\n      }\n    }\n    ... on MergeRequest {\n      id\n      labels {\n        nodes {\n          ...Label\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("NwwH").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var r={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.issuableLabelsUpdated=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(n,"issuableLabelsUpdated")},CgKM:function(e,t,i){"use strict";i("h8Et");var n=i("H8gz"),s=i("t9l/"),r={name:"DesignNotePin",components:{GlIcon:n.a},props:{position:{type:Object,required:!1,default:null},label:{type:Number,required:!1,default:null},isResolved:{type:Boolean,required:!1,default:!1},isInactive:{type:Boolean,required:!1,default:!1},isOnImage:{type:Boolean,required:!1,default:!1},isDraft:{type:Boolean,required:!1,default:!1},size:{type:String,required:!1,default:"md",validator:function(e){return["sm","md"].includes(e)}},ariaLabel:{type:String,required:!1,default:null}},computed:{isNewNote(){return null===this.label},pinLabel(){return this.ariaLabel?this.ariaLabel:this.isNewNote?Object(s.a)("Comment form position"):Object(s.h)(Object(s.a)("Comment '%{label}' position"),{label:this.label})}}},a=i("bPvS"),o=Object(a.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"gl-display-flex gl-align-items-center gl-justify-content-center gl-font-sm",class:{"btn-transparent comment-indicator":e.isNewNote,"js-image-badge design-note-pin":!e.isNewNote,resolved:e.isResolved,inactive:e.isInactive,draft:e.isDraft,"on-image":e.isOnImage,"gl-absolute":e.position,small:"sm"===e.size},style:e.position,attrs:{"aria-label":e.pinLabel,type:"button"},on:{mousedown:function(t){return e.$emit("mousedown",t)},mouseup:function(t){return e.$emit("mouseup",t)},click:function(t){return e.$emit("click",t)}}},[e.isNewNote?i("gl-icon",{attrs:{name:"image-comment-dark",size:24}}):[e._v("\n    "+e._s(e.label)+"\n  ")]],2)}),[],!1,null,null,null);t.a=o.exports},CoxT:function(e,t,i){"use strict";i("JHu5"),i("3R5X"),i("XUYm");const n=/\{\{(.+?)\}\}/g;i("uHfJ"),i("R0RX");var s=i("lb6a"),r=i.n(s);var a={toCamelCase(e){return this.camelize(e.split("-").slice(1).join(" "))},template:(e,t)=>r()(e,{escape:n})(t),camelize:e=>e.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()})).replace(/\s+/g,""),closest(e,t){for(;e&&e.tagName!==t&&"HTML"!==e.tagName;)e=e.parentNode;return e},isDropDownParts:e=>!(!e||!e.hasAttribute||"HTML"===e.tagName)&&(e.hasAttribute("data-dropdown-trigger")||e.hasAttribute("data-dropdown"))};class o{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.currentIndex=0,this.hidden=!0,this.list="string"==typeof e?document.querySelector(e):e,this.items=[],this.eventWrapper={},this.hideOnClick=!1!==t.hideOnClick,t.addActiveClassToDropdownButton&&(this.dropdownToggle=this.list.parentNode.querySelector(".js-dropdown-toggle")),this.getItems(),this.initTemplateString(),this.addEvents(),this.initialState=e.innerHTML}getItems(){return this.items=[].slice.call(this.list.querySelectorAll("li")),this.items}initTemplateString(){const e=this.items||this.getItems();let t="";return e.length>0&&(t=e[e.length-1].outerHTML),this.templateString=t,this.templateString}clickEvent(e){if("UL"===e.target.tagName)return;if(e.target.closest(".droplab-item-ignore"))return;const t=e.target.closest("li");if(!t)return;this.addSelectedClass(t),e.preventDefault(),this.hideOnClick&&this.hide();const i=new CustomEvent("click.dl",{detail:{list:this,selected:t,data:e.target.dataset}});this.list.dispatchEvent(i)}addSelectedClass(e){this.removeSelectedClasses(),e.classList.add("droplab-item-selected")}removeSelectedClasses(){(this.items||this.getItems()).forEach((function(e){return e.classList.remove("droplab-item-selected")}))}addEvents(){this.eventWrapper.clickEvent=this.clickEvent.bind(this),this.eventWrapper.closeDropdown=this.closeDropdown.bind(this),this.list.addEventListener("click",this.eventWrapper.clickEvent),this.list.addEventListener("keyup",this.eventWrapper.closeDropdown)}closeDropdown(e){return 27!==e.keyCode||(e.preventDefault(),this.toggle())}setData(e){this.data=e,this.render(e)}addData(e){this.data=(this.data||[]).concat(e),this.render(this.data)}render(e){const t=e?e.map(this.renderChildren.bind(this)):[];if(this.list.querySelector(".filter-dropdown-loading"))return;(this.list.querySelector("ul[data-dynamic]")||this.list).innerHTML=t.join("");const i=new CustomEvent("render.dl",{detail:{list:this}});this.list.dispatchEvent(i)}renderChildren(e){const t=a.template(this.templateString,e),i=document.createElement("div");return i.innerHTML=t,o.setImagesSrc(i),i.firstChild.style.display=e.droplab_hidden?"none":"block",i.firstChild.outerHTML}show(){this.hidden&&(this.list.style.display="block",this.currentIndex=0,this.hidden=!1,this.dropdownToggle&&this.dropdownToggle.classList.add("active"))}hide(){this.hidden||(this.list.style.display="none",this.currentIndex=0,this.hidden=!0,this.dropdownToggle&&this.dropdownToggle.classList.remove("active"))}toggle(){return this.hidden?this.show():this.hide()}destroy(){this.hide(),this.list.removeEventListener("click",this.eventWrapper.clickEvent),this.list.removeEventListener("keyup",this.eventWrapper.closeDropdown)}static setImagesSrc(e){[...e.querySelectorAll("img[data-src]")].forEach((function(e){const t=e;t.src=t.dataset.src,delete t.dataset.src}))}}var l=o;var c=class{constructor(e,t,i,n){this.trigger=e,this.list=new l(t,n),this.type="Hook",this.event="click",this.plugins=i||[],this.config=n||{},this.id=e.id}};var d=class extends c{constructor(e,t,i,n){super(e,t,i,n),this.type="button",this.event="click",this.eventWrapper={},this.addEvents(),this.addPlugins()}addPlugins(){var e=this;this.plugins.forEach((function(t){return t.init(e)}))}clicked(e){e.preventDefault();const t=new CustomEvent("click.dl",{detail:{hook:this},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t),this.list.toggle()}addEvents(){this.eventWrapper.clicked=this.clicked.bind(this),this.trigger.addEventListener("click",this.eventWrapper.clicked)}removeEvents(){this.trigger.removeEventListener("click",this.eventWrapper.clicked)}restoreInitialState(){this.list.list.innerHTML=this.list.initialState}removePlugins(){this.plugins.forEach((function(e){return e.destroy()}))}destroy(){this.restoreInitialState(),this.removeEvents(),this.removePlugins()}};var u=class extends c{constructor(e,t,i,n){super(e,t,i,n),this.type="input",this.event="input",this.eventWrapper={},this.addEvents(),this.addPlugins()}addPlugins(){var e=this;this.plugins.forEach((function(t){return t.init(e)}))}addEvents(){this.eventWrapper.mousedown=this.mousedown.bind(this),this.eventWrapper.input=this.input.bind(this),this.eventWrapper.keyup=this.keyup.bind(this),this.eventWrapper.keydown=this.keydown.bind(this),this.trigger.addEventListener("mousedown",this.eventWrapper.mousedown),this.trigger.addEventListener("input",this.eventWrapper.input),this.trigger.addEventListener("keyup",this.eventWrapper.keyup),this.trigger.addEventListener("keydown",this.eventWrapper.keydown)}removeEvents(){this.hasRemovedEvents=!0,this.trigger.removeEventListener("mousedown",this.eventWrapper.mousedown),this.trigger.removeEventListener("input",this.eventWrapper.input),this.trigger.removeEventListener("keyup",this.eventWrapper.keyup),this.trigger.removeEventListener("keydown",this.eventWrapper.keydown)}input(e){if(this.hasRemovedEvents)return;this.list.show();const t=new CustomEvent("input.dl",{detail:{hook:this,text:e.target.value},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t)}mousedown(e){if(this.hasRemovedEvents)return;const t=new CustomEvent("mousedown.dl",{detail:{hook:this,text:e.target.value},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t)}keyup(e){this.hasRemovedEvents||this.keyEvent(e,"keyup.dl")}keydown(e){this.hasRemovedEvents||this.keyEvent(e,"keydown.dl")}keyEvent(e,t){this.list.show();const i=new CustomEvent(t,{detail:{hook:this,text:e.target.value,which:e.which,key:e.key},bubbles:!0,cancelable:!0});e.target.dispatchEvent(i)}restoreInitialState(){this.list.list.innerHTML=this.list.initialState}removePlugins(){this.plugins.forEach((function(e){return e.destroy()}))}destroy(){this.restoreInitialState(),this.removeEvents(),this.removePlugins(),this.list.destroy()}};var p=function(){var e,t=!1,i=!1,n=function(e){for(var t=Array.prototype.slice.call(e.list.querySelectorAll("li:not(.divider):not(.hidden)"),0),i=[],n=0;n<t.length;n++){var s=t[n];s.classList.remove("droplab-item-active"),"none"!==s.style.display&&i.push(s)}return i},s=function(e){var t=n(e)[e.currentIndex-1],i=new CustomEvent("click.dl",{detail:{list:e,selected:t,data:t.dataset}});e.list.dispatchEvent(i),e.hide()};document.addEventListener("mousedown.dl",(function(e){var s=e.detail.hook.list;n(s),s.show(),s.currentIndex=0,t=!1,i=!1})),document.addEventListener("keydown.dl",(function(r){r.target;var a=r.detail.hook.list,o=a.currentIndex;if(t=!1,i=!1,r.detail.which){if(13===(e=r.detail.which))return void s(r.detail.hook.list);38===e&&(t=!0),40===e&&(i=!0)}else if(r.detail.key){if("Enter"===(e=r.detail.key))return void s(r.detail.hook.list);"ArrowUp"===e&&(t=!0),"ArrowDown"===e&&(i=!0)}t&&o--,i&&o++,o<0&&(o=0),a.currentIndex=o,function(e){var t=n(e);if(e.currentIndex>0&&(t[e.currentIndex-1]||(e.currentIndex=e.currentIndex-1),t[e.currentIndex-1])){var i=t[e.currentIndex-1],s=i.closest(".filter-dropdown");if(i.classList.add("droplab-item-active"),s){var r=s.offsetHeight,a=i.offsetTop-30;a>r&&(s.scrollTop=a-r)}}}(r.detail.hook.list)}))};t.a=class{constructor(){this.ready=!1,this.hooks=[],this.queuedData=[],this.config={},this.eventWrapper={}}loadStatic(){const e=[].slice.apply(document.querySelectorAll("[data-dropdown-trigger]"));this.addHooks(e)}addData(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.applyArgs(t,"processAddData")}setData(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.applyArgs(t,"processSetData")}destroy(){this.hooks.forEach((function(e){return e.destroy()})),this.hooks=[],this.removeEvents()}applyArgs(e,t){return this.ready?this[t](...e):(this.queuedData=this.queuedData||[],this.queuedData.push(e),this.ready)}processAddData(e,t){this.processData(e,t,"addData")}processSetData(e,t){this.processData(e,t,"setData")}processData(e,t,i){this.hooks.forEach((function(n){Array.isArray(e)&&n.list[i](e),n.trigger.id===e&&n.list[i](t)}))}addEvents(){this.eventWrapper.documentClicked=this.documentClicked.bind(this),document.addEventListener("click",this.eventWrapper.documentClicked)}documentClicked(e){if(!e.defaultPrevented&&!a.isDropDownParts(e.target)){if("UL"!==e.target.tagName){const t=a.closest(e.target,"UL");if(a.isDropDownParts(t))return}this.hooks.forEach((function(e){return e.list.hide()}))}}removeEvents(){document.removeEventListener("click",this.eventWrapper.documentClicked)}changeHookList(e,t,i,n){var s=this;const r="string"==typeof e?document.getElementById(e):e;this.hooks.forEach((function(e,a){const o=e;o.list.list.dataset.dropdownActive=!1,o.trigger===r&&(o.destroy(),s.hooks.splice(a,1),s.addHook(r,t,i,n))}))}addHook(e,t,i,n){const s="string"==typeof e?document.querySelector(e):e;let r;r="string"==typeof t?document.querySelector(t):t instanceof Element?t:document.querySelector(e.dataset[a.toCamelCase("data-dropdown-trigger")]),r.dataset.dropdownActive=!0;const o="INPUT"===s.tagName?u:d;return this.hooks.push(new o(s,r,i,n)),this}addHooks(e,t,i){var n=this;return e.forEach((function(e){return n.addHook(e,null,t,i)})),this}setConfig(e){this.config=e}fireReady(){const e=new CustomEvent("ready.dl",{detail:{dropdown:this}});document.dispatchEvent(e),this.ready=!0}init(e,t,i,n){var s=this;return e?this.addHook(e,t,i,n):this.loadStatic(),this.addEvents(),p(),this.fireReady(),this.queuedData.forEach((function(e){return s.addData(e)})),this.queuedData=[],this}}},DDJJ:function(e,t){var i={kind:"Document",definitions:[{kind:"EnumTypeDefinition",name:{kind:"Name",value:"LocalWidgetType"},directives:[],values:[{kind:"EnumValueDefinition",name:{kind:"Name",value:"ASSIGNEES"},directives:[]}]},{kind:"InterfaceTypeDefinition",name:{kind:"Name",value:"LocalWorkItemWidget"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"type"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LocalWidgetType"}}},directives:[]}]},{kind:"ObjectTypeDefinition",name:{kind:"Name",value:"LocalWorkItemAssignees"},interfaces:[{kind:"NamedType",name:{kind:"Name",value:"LocalWorkItemWidget"}}],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"type"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LocalWidgetType"}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"nodes"},arguments:[],type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"UserCore"}}},directives:[]}]},{kind:"ObjectTypeExtension",name:{kind:"Name",value:"WorkItem"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"mockWidgets"},arguments:[],type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"LocalWorkItemWidget"}}},directives:[]}]},{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:"LocalUserInput"},directives:[],fields:[{kind:"InputValueDefinition",name:{kind:"Name",value:"id"},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"name"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"username"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"webUrl"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"avatarUrl"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}]},{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:"LocalUpdateWorkItemInput"},directives:[],fields:[{kind:"InputValueDefinition",name:{kind:"Name",value:"id"},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WorkItemID"}}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"assignees"},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LocalUserInput"}}}},directives:[]}]},{kind:"ObjectTypeDefinition",name:{kind:"Name",value:"LocalWorkItemPayload"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"workItem"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WorkItem"}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"errors"},arguments:[],type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]}]},{kind:"ObjectTypeExtension",name:{kind:"Name",value:"Mutation"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"localUpdateWorkItem"},arguments:[{kind:"InputValueDefinition",name:{kind:"Name",value:"input"},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LocalUpdateWorkItemInput"}}},directives:[]}],type:{kind:"NamedType",name:{kind:"Name",value:"LocalWorkItemPayload"}},directives:[]}]}],loc:{start:0,end:638}};i.loc.source={body:"enum LocalWidgetType {\n  ASSIGNEES\n}\n\ninterface LocalWorkItemWidget {\n  type: LocalWidgetType!\n}\n\ntype LocalWorkItemAssignees implements LocalWorkItemWidget {\n  type: LocalWidgetType!\n  nodes: [UserCore]\n}\n\nextend type WorkItem {\n  mockWidgets: [LocalWorkItemWidget]\n}\n\ninput LocalUserInput {\n  id: ID!\n  name: String\n  username: String\n  webUrl: String\n  avatarUrl: String\n}\n\ninput LocalUpdateWorkItemInput {\n  id: WorkItemID!\n  assignees: [LocalUserInput!]\n}\n\ntype LocalWorkItemPayload {\n  workItem: WorkItem!\n  errors: [String!]\n}\n\nextend type Mutation {\n  localUpdateWorkItem(input: LocalUpdateWorkItemInput!): LocalWorkItemPayload\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=i},DNao:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"workItem"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WorkItemID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItem"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItem"},directives:[]}]}}]}}],loc:{start:0,end:119}};n.loc.source={body:'#import "./work_item.fragment.graphql"\n\nquery workItem($id: WorkItemID!) {\n  workItem(id: $id) {\n    ...WorkItem\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("nLMr").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var r={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.workItem=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(n,"workItem")},E5Fy:function(e,t,i){!function(t){"use strict";var n=-1,s=function(e){return e.every=function(t,i,s){e._time(),s||(s=i,i=null);var r=n+=1;return e._timers[r]={visible:t,hidden:i,callback:s},e._run(r,!1),e.isSupported()&&e._listen(),r},e.stop=function(t){return!!e._timers[t]&&(e._stop(t),delete e._timers[t],!0)},e._timers={},e._time=function(){e._timed||(e._timed=!0,e._wasHidden=e.hidden(),e.change((function(){e._stopRun(),e._wasHidden=e.hidden()})))},e._run=function(i,n){var s,r=e._timers[i];if(e.hidden()){if(null===r.hidden)return;s=r.hidden}else s=r.visible;var a=function(){r.last=new Date,r.callback.call(t)};if(n){var o=new Date-r.last;s>o?r.delay=setTimeout((function(){r.id=setInterval(a,s),a()}),s-o):(r.id=setInterval(a,s),a())}else r.id=setInterval(a,s)},e._stop=function(t){var i=e._timers[t];clearInterval(i.id),clearTimeout(i.delay),delete i.id,delete i.delay},e._stopRun=function(t){var i=e.hidden(),n=e._wasHidden;if(i&&!n||!i&&n)for(var s in e._timers)e._stop(s),e._run(s,!i)},e};e.exports?e.exports=s(i("6jeL")):s(t.Visibility)}(window)},"EdB/":function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));i("JHu5"),i("3R5X"),i("XUYm");var n=i("6oy4"),s=i.n(n),r=i("dkv8"),a=i.n(r),o=i("O6x3"),l=i.n(o),c=i("oj/M"),d=i("4zBw"),u=i("OwKD"),p=i("LuMo"),h=i("t9l/"),m=i("tQ82"),f=i("drCS"),g=i("uw3E"),v=i("79X9");class b extends v.default{constructor(){var e;super(),e=this,this.inMemoryButton=document.createElement("button"),this.clipboardInstance=new a.a(this.inMemoryButton),this.clipboardInstance.on("success",(function(){Object(p.a)(Object(h.g)("GlobalShortcuts|Copied source branch name to clipboard."))})),this.clipboardInstance.on("error",(function(){Object(p.a)(Object(h.g)("GlobalShortcuts|Unable to copy the source branch name at this time."))})),l.a.bind(Object(g.sb)(g.K),(function(){return b.openSidebarDropdown("assignee")})),l.a.bind(Object(g.sb)(g.L),(function(){return b.openSidebarDropdown("milestone")})),l.a.bind(Object(g.sb)(g.G),(function(){return b.openSidebarDropdown("labels")})),l.a.bind(Object(g.sb)(g.H),b.replyWithSelectedText),l.a.bind(Object(g.sb)(g.I),b.editIssue),l.a.bind(Object(g.sb)(g.S),(function(){return e.copyBranchName()})),s()(document).on("focus",".js-vue-markdown-field .js-gfm-input",b.handleMarkdownFieldFocus)}static handleMarkdownFieldFocus(e){let{currentTarget:t}=e;b.$lastFocusedReplyField=s()(t)}static replyWithSelectedText(){var e;let t=s()(".js-main-target-form .js-vue-comment-form");if(b.$lastFocusedReplyField&&Object(d.g)(null===(e=b.$lastFocusedReplyField)||void 0===e?void 0:e.get(0))&&(t=b.$lastFocusedReplyField),!t.length||t.is(":hidden"))return!1;const i=Object(c.p)(document.querySelector("#content-body"));if(!i)return t.focus(),!1;let n=Boolean(i.querySelector(".md"));if(!n&&(i.originalNodes&&i.originalNodes.forEach((function(e){let t=e;do{t.matches&&t.matches(".md")&&(n=!0),t=t.parentNode}while(t&&!n)})),!n))return t.focus(),!1;const r=f.a.transformGFMSelection(i.cloneNode(!0)),a=document.createElement("blockquote");return a.appendChild(r),f.a.nodeToGFM(a).then((function(e){if(""===e.trim())return!1;const i=""!==t.val().trim()?"\n\n":"";t.val((function(t,n){return`${n}${i}${e}\n\n`})).trigger("input").trigger("change");const n=document.createEvent("Event");return n.initEvent("autosize:update",!0,!1),t.get(0).dispatchEvent(n),t.focus(),!1})).catch((function(){})),!1}static editIssue(){return document.querySelector(".js-issuable-edit").click(),!1}static openSidebarDropdown(e){return m.a.instance.openDropdown(e),setTimeout((function(){(document.querySelector(`.block.${e} .shortcut-sidebar-dropdown-toggle`)||document.querySelector(`.block.${e} .edit-link`)).click()}),u.a),!1}async copyBranchName(){const e=document.querySelector(".js-source-branch-copy"),t=null==e?void 0:e.dataset.clipboardText;t&&(this.inMemoryButton.dataset.clipboardText=t,this.inMemoryButton.dispatchEvent(new CustomEvent("click")))}}},EtIY:function(e,t,i){"use strict";var n=i("u1ru"),s=i("6IRw"),r=i.n(s);const a={name:"AvatarLink",components:{GlLink:n.a}};const o=r()({render:function(){var e=this.$createElement;return(this._self._c||e)("gl-link",this._g(this._b({staticClass:"gl-avatar-link"},"gl-link",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,a,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},FjhJ:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"promoteToEpic"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PromoteToEpicInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"promoteToEpic"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"epic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webPath"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:144}};i.loc.source={body:"mutation promoteToEpic($input: PromoteToEpicInput!) {\n  promoteToEpic(input: $input) {\n    epic {\n      id\n      webPath\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.promoteToEpic=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"promoteToEpic")},G1qc:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PromoteTimelineEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"TimelineEventPromoteFromNoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineEventPromoteFromNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineEvent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:176}};i.loc.source={body:"mutation PromoteTimelineEvent($input: TimelineEventPromoteFromNoteInput!) {\n  timelineEventPromoteFromNote(input: $input) {\n    timelineEvent {\n      id\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.PromoteTimelineEvent=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"PromoteTimelineEvent")},G7sT:function(e,t,i){var n=i("MfoV"),s=i("TkD4");e.exports=function(e){return s(n(e).toLowerCase())}},GVI7:function(e,t,i){"use strict";t.a='<svg xmlns="http://www.w3.org/2000/svg" width="120" height="123"><g fill="none"><g fill="#F0EDF9"><circle cx="60" cy="60" r="60" opacity=".5"/><circle cx="60" cy="60" r="48"/></g><circle cx="60" cy="59" r="34" fill="#FFF"/><g transform="translate(24 24)"><rect width="14" height="55" x="67.025" y="48.646" fill="#AB9AD9" rx="6" transform="rotate(-45 74.025 76.146)"/><path fill="#6B4FBB" d="M61.455 61.456c-14.057 14.059-36.852 14.059-50.912 0-14.057-14.06-14.057-36.852 0-50.912 14.06-14.059 36.855-14.059 50.912 0 14.06 14.06 14.06 36.852 0 50.912zm-6.781-44.13c-10.312-10.315-27.036-10.315-37.35 0-10.312 10.311-10.312 27.035 0 37.349 10.314 10.314 27.038 10.314 37.352 0 10.314-10.312 10.314-27.036-.002-37.35z"/><path fill="#FB722E" d="M39.844 36.039l4.45-4.45a2.676 2.676 0 00-.01-3.795 2.675 2.675 0 00-3.795-.01l-4.45 4.45-4.45-4.45a2.676 2.676 0 00-3.795.01 2.675 2.675 0 00-.01 3.794l4.45 4.45-4.45 4.451a2.676 2.676 0 00.01 3.794 2.675 2.675 0 003.794.011l4.45-4.45 4.451 4.45a2.676 2.676 0 003.794-.01 2.675 2.675 0 00.011-3.795l-4.45-4.45"/></g></g></svg>'},GZPK:function(e,t,i){"use strict";var n=i("ly/8"),s=i("t9l/"),r={components:{UserAvatarLink:i("4UPE").a},directives:{GlTooltip:n.a},props:{assignees:{type:Array,required:!0},iconSize:{type:Number,required:!1,default:24},imgCssClasses:{type:String,required:!1,default:""},maxVisible:{type:Number,required:!1,default:3}},data:()=>({maxAssignees:99}),computed:{assigneesToShow(){const e=this.assignees.length-this.numHiddenAssignees;return this.assignees.slice(0,e)},assigneesCounterTooltip(){return Object(s.h)(Object(s.a)("%{count} more assignees"),{count:this.numHiddenAssignees})},numHiddenAssignees(){return this.assignees.length>this.maxVisible?this.assignees.length-this.maxVisible+1:0},assigneeCounterLabel(){return this.numHiddenAssignees>this.maxAssignees?this.maxAssignees+"+":"+"+this.numHiddenAssignees}},methods:{avatarUrlTitle:e=>Object(s.h)(Object(s.a)("Assigned to %{assigneeName}"),{assigneeName:e.name}),webUrl:e=>e.web_url||e.webUrl,avatarUrl:e=>e.avatar_url||e.avatarUrl}},a=i("bPvS"),o=Object(a.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._l(e.assigneesToShow,(function(t){return i("user-avatar-link",{key:t.id,staticClass:"js-no-trigger author-link",attrs:{"link-href":e.webUrl(t),"img-alt":e.avatarUrlTitle(t),"img-css-classes":e.imgCssClasses,"img-src":e.avatarUrl(t),"img-size":e.iconSize,"tooltip-placement":"bottom","data-qa-selector":"assignee_link"}},[i("span",{staticClass:"js-assignee-tooltip"},[i("span",{staticClass:"bold d-block"},[e._v(e._s(e.s__("Label|Assignee")))]),e._v(" "+e._s(t.name)+"\n      "),t.username?i("span",{staticClass:"text-white-50"},[e._v("@"+e._s(t.username))]):e._e()])])})),e._v(" "),e.numHiddenAssignees>0?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"avatar-counter",attrs:{title:e.assigneesCounterTooltip,"data-qa-selector":"avatar_counter_content"}},[e._v(e._s(e.assigneeCounterLabel))]):e._e()],2)}),[],!1,null,null,null);t.a=o.exports},Gj7Q:function(e,t,i){"use strict";var n=i("9LGn"),s=i("EtIY"),r=i("cmjF"),a=i("CkNe"),o=i("ZYcg"),l=i("1jid"),c={name:"PlaceholderNote",directives:{SafeHtml:n.a},components:{GlAvatarLink:s.a,GlAvatar:r.a,TimelineEntryItem:l.a},props:{note:{type:Object,required:!0},line:{type:Object,required:!1,default:null},isOverviewTab:{type:Boolean,required:!1,default:!1}},computed:{...Object(a.d)(["getUserData"]),renderedNote(){return Object(o.a)(this.note.body)}}},d=i("bPvS"),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("timeline-entry-item",{staticClass:"note note-wrapper note-comment being-posted fade-in-half"},[i("div",{staticClass:"timeline-avatar gl-float-left"},[i("gl-avatar-link",{attrs:{href:e.getUserData.path}},[i("gl-avatar",{attrs:{src:e.getUserData.avatar_url,"entity-name":e.getUserData.username,alt:e.getUserData.name,size:32}})],1)],1),e._v(" "),i("div",{ref:"note",staticClass:"timeline-content",class:{discussion:!e.note.individual_note}},[i("div",{staticClass:"note-header"},[i("div",{staticClass:"note-header-info"},[i("a",{attrs:{href:e.getUserData.path}},[i("span",{staticClass:"d-none d-sm-inline-block bold"},[e._v(e._s(e.getUserData.name))]),e._v(" "),i("span",{staticClass:"note-headline-light"},[e._v("@"+e._s(e.getUserData.username))])])])]),e._v(" "),i("div",{staticClass:"timeline-discussion-body"},[i("div",{staticClass:"note-body"},[i("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.renderedNote,expression:"renderedNote"}],staticClass:"note-text md"})])])])])}),[],!1,null,null,null);t.a=u.exports},GlNy:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deleteWorkItem"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WorkItemDeleteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItemDelete"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:107}};i.loc.source={body:"mutation deleteWorkItem($input: WorkItemDeleteInput!) {\n  workItemDelete(input: $input) {\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.deleteWorkItem=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"deleteWorkItem")},GyXH:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));i("WmlO"),i("3R5X"),i("W9Nl");var n=i("vP7+"),s=i.n(n),r=i("6oy4"),a=i.n(r),o=i("O6x3"),l=i.n(o),c=(i("7lWn"),i("oj/M"));s.a.autoDiscover=!1;class d{constructor(){var e=this;this.active_backdrop=null,this.active_textarea=null,a()(document).on("click",".js-zen-enter",(function(e){return e.preventDefault(),a()(e.currentTarget).trigger("zen_mode:enter")})),a()(document).on("click",".js-zen-leave",(function(e){return e.preventDefault(),a()(e.currentTarget).trigger("zen_mode:leave")})),a()(document).on("zen_mode:enter",(function(t){e.enter(a()(t.target).closest(".md-area").find(".zen-backdrop"))})),a()(document).on("zen_mode:leave",(function(){e.exit()})),a()(document).on("keydown",(function(e){if(27===e.keyCode)return e.preventDefault(),a()(document).trigger("zen_mode:leave")}))}enter(e){l.a.pause(),this.active_backdrop=a()(e),this.active_backdrop.addClass("fullscreen"),this.active_textarea=this.active_backdrop.find("textarea"),this.active_textarea.removeAttr("style"),this.active_textarea.focus()}exit(){if(this.active_textarea){l.a.unpause(),this.active_textarea.closest(".zen-backdrop").removeClass("fullscreen"),Object(c.K)(this.active_textarea,{duration:0,offset:-100}),this.active_textarea=null,this.active_backdrop=null;const e=a()(".div-dropzone");e&&!e.hasClass("js-invalid-dropzone")&&s.a.forElement(".div-dropzone").enable()}}}},HJOD:function(e,t,i){"use strict";t.a={computed:{validity:{cache:!1,get:function(){return this.$refs.input.validity}},validationMessage:{cache:!1,get:function(){return this.$refs.input.validationMessage}},willValidate:{cache:!1,get:function(){return this.$refs.input.willValidate}}},methods:{setCustomValidity:function(){var e;return(e=this.$refs.input).setCustomValidity.apply(e,arguments)},checkValidity:function(){var e;return(e=this.$refs.input).checkValidity.apply(e,arguments)},reportValidity:function(){var e;return(e=this.$refs.input).reportValidity.apply(e,arguments)}}}},HiZ0:function(e,t,i){"use strict";var n=i("SYh6");t.a=Object(n.a)()},Hmw5:function(e,t,i){"use strict";var n=i("Z2pp"),s=i("jyii"),r=i("ummR"),a=i("xNSq"),o=i("1pIC"),l=i("GpHn"),c=i("G55H"),d=i("N+rP"),u={methods:{renderBottomRow:function(){var e=this.$createElement;if(!this.hasNormalizedSlot("bottom-row")||!0===this.stacked||""===this.stacked)return e();var t=this.computedFields;return e(d.a,{key:"b-bottom-row",staticClass:"b-table-bottom-row",class:[Object(c.e)(this.tbodyTrClass)?this.tbodyTrClass(null,"row-bottom"):this.tbodyTrClass],attrs:Object(c.e)(this.tbodyTrAttr)?this.tbodyTrAttr(null,"row-bottom"):this.tbodyTrAttr},this.normalizeSlot("bottom-row",{columns:t.length,fields:t}))}}},p=i("gCUY"),h=i("BhOj"),m=i("pW8f"),f={props:Object(p.c)({busy:{type:Boolean,default:!1}},s.X),data:function(){return{localBusy:!1}},computed:{computedBusy:function(){return this.busy||this.localBusy}},watch:{localBusy:function(e,t){e!==t&&this.$emit("update:busy",e)}},methods:{stopIfBusy:function(e){return!!this.computedBusy&&(Object(h.d)(e),!0)},renderBusy:function(){var e=this.$createElement;return this.computedBusy&&this.hasNormalizedSlot("table-busy")?e(d.a,{key:"table-busy-slot",staticClass:"b-table-busy-slot",class:[Object(c.e)(this.tbodyTrClass)?this.tbodyTrClass(null,"table-busy"):this.tbodyTrClass],attrs:Object(c.e)(this.tbodyTrAttr)?this.tbodyTrAttr(null,"table-busy"):this.tbodyTrAttr},[e(m.a,{props:{colspan:this.computedFields.length||null}},[this.normalizeSlot("table-busy")])]):null}}},g=i("cyg/"),v=i("3OW0"),b=i("Sq3g"),y={props:Object(p.c)({showEmpty:{type:Boolean,default:!1},emptyText:{type:String,default:"There are no records to show"},emptyHtml:{type:String},emptyFilteredText:{type:String,default:"There are no records matching your request"},emptyFilteredHtml:{type:String}},s.X),methods:{renderEmpty:function(){var e=this.$createElement,t=this.computedItems,i=e();if(this.showEmpty&&(!t||0===t.length)&&(!this.computedBusy||!this.hasNormalizedSlot("table-busy"))){var n=this.isFiltered,s=this.emptyText,r=this.emptyHtml,a=this.emptyFilteredText,o=this.emptyFilteredHtml,l=this.computedFields,u=this.tbodyTrClass,p=this.tbodyTrAttr;(i=this.normalizeSlot(this.isFiltered?"emptyfiltered":"empty",{emptyFilteredHtml:o,emptyFilteredText:a,emptyHtml:r,emptyText:s,fields:l,items:this.computedItems}))||(i=e("div",{class:["text-center","my-2"],domProps:n?Object(b.a)(o,a):Object(b.a)(r,s)})),i=e(m.a,{props:{colspan:l.length||null}},[e("div",{attrs:{role:"alert","aria-live":"polite"}},[i])]),i=e(d.a,{staticClass:"b-table-empty-row",class:[Object(c.e)(u)?this.tbodyTrClass(null,"row-empty"):u],attrs:Object(c.e)(p)?this.tbodyTrAttr(null,"row-empty"):p,key:n?"b-empty-filtered-row":"b-empty-row"},[i])}return i}}},k=i("pkvD"),w=i("BeO2"),_=i("ZVxY"),S=i("3XSL"),E=i("9CRu"),D=i("8Vyw"),T=i("ySPH"),C=i("iryQ"),I=i("9Q7u"),O=function e(t){return Object(c.o)(t)?"":Object(c.i)(t)&&!Object(c.c)(t)?Object(I.h)(t).sort().map((function(i){return e(t[i])})).filter((function(e){return!!e})).join(" "):Object(T.e)(t)},j=i("HTH9"),x=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=Object(I.h)(n).reduce((function(t,i){var s=n[i],r=s.filterByFormatted,a=Object(c.e)(r)?r:r?s.formatter:null;return Object(c.e)(a)&&(t[i]=a(e[i],i,e)),t}),Object(I.b)(e)),r=Object(I.h)(s).filter((function(e){return!(j.b[e]||Object(c.a)(t)&&t.length>0&&Object(E.a)(t,e)||Object(c.a)(i)&&i.length>0&&!Object(E.a)(i,e))}));return Object(I.k)(s,r)},A=function(e,t,i,n){return Object(c.i)(e)?O(x(e,t,i,n)):""},N='Prop "filter-debounce" is deprecated. Use the debounce feature of "<b-form-input>" instead.',F=Object(p.c)({filter:{type:[String,RegExp,Object,Array],default:null},filterFunction:{type:Function},filterIgnoredFields:{type:Array},filterIncludedFields:{type:Array},filterDebounce:{type:[Number,String],deprecated:N,default:0,validator:function(e){return/^\d+/.test(String(e))}}},s.X),L={props:F,data:function(){return{isFiltered:!1,localFilter:this.filterSanitize(this.filter)}},computed:{computedFilterIgnored:function(){return Object(E.b)(this.filterIgnoredFields||[]).filter(_.a)},computedFilterIncluded:function(){return Object(E.b)(this.filterIncludedFields||[]).filter(_.a)},computedFilterDebounce:function(){var e=Object(D.c)(this.filterDebounce,0);return e>0&&Object(C.a)(N,s.X),e},localFiltering:function(){return!this.hasProvider||!!this.noProviderFiltering},filteredCheck:function(){return{filteredItems:this.filteredItems,localItems:this.localItems,localFilter:this.localFilter}},localFilterFn:function(){var e=this.filterFunction;return e.name!==F.filterFunction.default.name?e:null},filteredItems:function(){var e=this.localItems||[],t=this.localFilter,i=this.localFiltering?this.filterFnFactory(this.localFilterFn,t)||this.defaultFilterFnFactory(t):null;return i&&e.length>0?e.filter(i):e}},watch:{computedFilterDebounce:function(e){!e&&this.$_filterTimer&&(this.clearFilterTimer(),this.localFilter=this.filterSanitize(this.filter))},filter:{deep:!0,handler:function(e){var t=this,i=this.computedFilterDebounce;this.clearFilterTimer(),i&&i>0?this.$_filterTimer=setTimeout((function(){t.localFilter=t.filterSanitize(e)}),i):this.localFilter=this.filterSanitize(e)}},filteredCheck:function(e){var t=e.filteredItems,i=e.localFilter,n=!1;i?Object(S.a)(i,[])||Object(S.a)(i,{})?n=!1:i&&(n=!0):n=!1,n&&this.$emit("filtered",t,t.length),this.isFiltered=n},isFiltered:function(e,t){!1===e&&!0===t&&this.$emit("filtered",this.localItems,this.localItems.length)}},created:function(){var e=this;this.$_filterTimer=null,this.$nextTick((function(){e.isFiltered=Boolean(e.localFilter)}))},beforeDestroy:function(){this.clearFilterTimer()},methods:{clearFilterTimer:function(){clearTimeout(this.$_filterTimer),this.$_filterTimer=null},filterSanitize:function(e){return!this.localFiltering||this.localFilterFn||Object(c.m)(e)||Object(c.l)(e)?Object(w.a)(e):""},filterFnFactory:function(e,t){if(!e||!Object(c.e)(e)||!t||Object(S.a)(t,[])||Object(S.a)(t,{}))return null;return function(i){return e(i,t)}},defaultFilterFnFactory:function(e){var t=this;if(!e||!Object(c.m)(e)&&!Object(c.l)(e))return null;var i=e;if(Object(c.m)(i)){var n=Object(T.a)(e).replace(k.n,"\\s+");i=new RegExp(".*".concat(n,".*"),"i")}return function(e){return i.lastIndex=0,i.test(A(e,t.computedFilterIgnored,t.computedFilterIncluded,t.computedFieldsObj))}}}},P=i("SGmW"),R=i("ST6S"),q={props:Object(p.c)({perPage:{type:[Number,String],default:0},currentPage:{type:[Number,String],default:1}},s.X),computed:{localPaging:function(){return!this.hasProvider||!!this.noProviderPaging},paginatedItems:function(){var e=this.sortedItems||this.filteredItems||this.localItems||[],t=Object(R.b)(Object(D.c)(this.currentPage,1),1),i=Object(R.b)(Object(D.c)(this.perPage,0),0);return this.localPaging&&i&&(e=e.slice((t-1)*i,t*i)),e}}},$={mixins:[i("qDIy").a],props:Object(p.c)({items:{type:[Array,Function],default:function(){return[]}},noProviderPaging:{type:Boolean,default:!1},noProviderSorting:{type:Boolean,default:!1},noProviderFiltering:{type:Boolean,default:!1},apiUrl:{type:String,default:""}},s.X),computed:{hasProvider:function(){return Object(c.e)(this.items)},providerTriggerContext:function(){var e={apiUrl:this.apiUrl,filter:null,sortBy:null,sortDesc:null,perPage:null,currentPage:null};return this.noProviderFiltering||(e.filter=this.localFilter),this.noProviderSorting||(e.sortBy=this.localSortBy,e.sortDesc=this.localSortDesc),this.noProviderPaging||(e.perPage=this.perPage,e.currentPage=this.currentPage),Object(I.b)(e)}},watch:{items:function(e){(this.hasProvider||Object(c.e)(e))&&this.$nextTick(this._providerUpdate)},providerTriggerContext:function(e,t){Object(S.a)(e,t)||this.$nextTick(this._providerUpdate)}},mounted:function(){var e=this;!this.hasProvider||this.localItems&&0!==this.localItems.length||this._providerUpdate(),this.listenOnRoot("bv::refresh::table",(function(t){t!==e.id&&t!==e||e.refresh()}))},methods:{refresh:function(){this.$off("refreshed",this.refresh),this.computedBusy?this.localBusy&&this.hasProvider&&this.$on("refreshed",this.refresh):(this.clearSelected(),this.hasProvider?this.$nextTick(this._providerUpdate):this.localItems=Object(c.a)(this.items)?this.items.slice():[])},_providerSetLocal:function(e){this.localItems=Object(c.a)(e)?e.slice():[],this.localBusy=!1,this.$emit("refreshed"),this.id&&this.emitOnRoot("bv::table::refreshed",this.id)},_providerUpdate:function(){var e=this;this.hasProvider&&(this.computedBusy?this.$nextTick(this.refresh):(this.localBusy=!0,this.$nextTick((function(){try{var t=e.items(e.context,e._providerSetLocal);Object(c.k)(t)?t.then((function(t){e._providerSetLocal(t)})):Object(c.a)(t)?e._providerSetLocal(t):2!==e.items.length&&(Object(C.a)("Provider function didn't request callback and did not return a promise or data.",s.X),e.localBusy=!1)}catch(t){Object(C.a)("Provider function error [".concat(t.name,"] ").concat(t.message,"."),s.X),e.localBusy=!1,e.$off("refreshed",e.refresh)}}))))}}},B=function(e){return Array.apply(null,{length:e})};function M(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var U=["range","multi","single"],V={props:Object(p.c)({selectable:{type:Boolean,default:!1},selectMode:{type:String,default:"multi",validator:function(e){return Object(E.a)(U,e)}},selectedVariant:{type:String,default:"active"},noSelectOnClick:{type:Boolean,default:!1}},s.X),data:function(){return{selectedRows:[],selectedLastRow:-1}},computed:{isSelectable:function(){return this.selectable&&this.selectMode},hasSelectableRowClick:function(){return this.isSelectable&&!this.noSelectOnClick},supportsSelectableRows:function(){return!0},selectableHasSelection:function(){return this.isSelectable&&this.selectedRows&&this.selectedRows.length>0&&this.selectedRows.some(_.a)},selectableIsMultiSelect:function(){return this.isSelectable&&Object(E.a)(["range","multi"],this.selectMode)},selectableTableClasses:function(){var e;return M(e={"b-table-selectable":this.isSelectable},"b-table-select-".concat(this.selectMode),this.isSelectable),M(e,"b-table-selecting",this.selectableHasSelection),M(e,"b-table-selectable-no-click",this.isSelectable&&!this.hasSelectableRowClick),e},selectableTableAttrs:function(){return{"aria-multiselectable":this.isSelectable?this.selectableIsMultiSelect?"true":"false":null}}},watch:{computedItems:function(e,t){var i=!1;if(this.isSelectable&&this.selectedRows.length>0){i=Object(c.a)(e)&&Object(c.a)(t)&&e.length===t.length;for(var n=0;i&&n<e.length;n++)i=Object(S.a)(x(e[n]),x(t[n]))}i||this.clearSelected()},selectable:function(e){this.clearSelected(),this.setSelectionHandlers(e)},selectMode:function(){this.clearSelected()},hasSelectableRowClick:function(e){this.clearSelected(),this.setSelectionHandlers(!e)},selectedRows:function(e,t){var i=this;if(this.isSelectable&&!Object(S.a)(e,t)){var n=[];e.forEach((function(e,t){e&&n.push(i.computedItems[t])})),this.$emit("row-selected",n)}}},beforeMount:function(){this.isSelectable&&this.setSelectionHandlers(!0)},methods:{selectRow:function(e){if(this.isSelectable&&Object(c.g)(e)&&e>=0&&e<this.computedItems.length&&!this.isRowSelected(e)){var t=this.selectableIsMultiSelect?this.selectedRows.slice():[];t[e]=!0,this.selectedLastClicked=-1,this.selectedRows=t}},unselectRow:function(e){if(this.isSelectable&&Object(c.g)(e)&&this.isRowSelected(e)){var t=this.selectedRows.slice();t[e]=!1,this.selectedLastClicked=-1,this.selectedRows=t}},selectAllRows:function(){var e=this.computedItems.length;this.isSelectable&&e>0&&(this.selectedLastClicked=-1,this.selectedRows=this.selectableIsMultiSelect?B(e).map((function(){return!0})):[!0])},isRowSelected:function(e){return!(!Object(c.g)(e)||!this.selectedRows[e])},clearSelected:function(){this.selectedLastClicked=-1,this.selectedRows=[]},selectableRowClasses:function(e){if(this.isSelectable&&this.isRowSelected(e)){var t=this.selectedVariant;return M({"b-table-row-selected":!0},"".concat(this.dark?"bg":"table","-").concat(t),t)}return{}},selectableRowAttrs:function(e){return{"aria-selected":this.isSelectable?this.isRowSelected(e)?"true":"false":null}},setSelectionHandlers:function(e){var t=e&&!this.noSelectOnClick?"$on":"$off";this[t]("row-clicked",this.selectionHandler),this[t]("filtered",this.clearSelected),this[t]("context-changed",this.clearSelected)},selectionHandler:function(e,t,i){if(this.isSelectable&&!this.noSelectOnClick){var n=this.selectMode,s=this.selectedRows.slice(),r=!s[t];if("single"===n)s=[];else if("range"===n)if(this.selectedLastRow>-1&&i.shiftKey){for(var a=Object(R.c)(this.selectedLastRow,t);a<=Object(R.b)(this.selectedLastRow,t);a++)s[a]=!0;r=!0}else i.ctrlKey||i.metaKey||(s=[],r=!0),this.selectedLastRow=r?t:-1;s[t]=r,this.selectedRows=s}else this.clearSelected()}}},z=i("1AFl"),W=i("7DqY"),H=function(e){return Object(c.o)(e)?"":Object(c.h)(e)?Object(D.b)(e,e):e},G=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.sortBy,s=void 0===n?null:n,r=i.formatter,a=void 0===r?null:r,o=i.locale,l=void 0===o?void 0:o,d=i.localeOptions,u=void 0===d?{}:d,p=i.nullLast,h=void 0!==p&&p,m=Object(W.a)(e,s,null),f=Object(W.a)(t,s,null);return Object(c.e)(a)&&(m=a(m,s,e),f=a(f,s,t)),m=H(m),f=H(f),Object(c.c)(m)&&Object(c.c)(f)||Object(c.g)(m)&&Object(c.g)(f)?m<f?-1:m>f?1:0:h&&""===m&&""!==f?1:h&&""!==m&&""===f?-1:O(m).localeCompare(O(f),l,u)};function K(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?K(Object(i),!0).forEach((function(t){Q(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):K(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Q(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var X=["asc","desc","last"],J={props:Object(p.c)({sortBy:{type:String,default:""},sortDesc:{type:Boolean,default:!1},sortDirection:{type:String,default:"asc",validator:function(e){return Object(E.a)(X,e)}},sortCompare:{type:Function},sortCompareOptions:{type:Object,default:function(){return{numeric:!0}}},sortCompareLocale:{type:[String,Array]},sortNullLast:{type:Boolean,default:!1},noSortReset:{type:Boolean,default:!1},labelSortAsc:{type:String,default:"Click to sort Ascending"},labelSortDesc:{type:String,default:"Click to sort Descending"},labelSortClear:{type:String,default:"Click to clear sorting"},noLocalSorting:{type:Boolean,default:!1},noFooterSorting:{type:Boolean,default:!1},sortIconLeft:{type:Boolean,default:!1}},s.X),data:function(){return{localSortBy:this.sortBy||"",localSortDesc:this.sortDesc||!1}},computed:{localSorting:function(){return this.hasProvider?!!this.noProviderSorting:!this.noLocalSorting},isSortable:function(){return this.computedFields.some((function(e){return e.sortable}))},sortedItems:function(){var e=this.localSortBy,t=this.localSortDesc,i=this.sortCompareLocale,n=this.sortNullLast,s=this.sortCompare,r=this.localSorting,a=(this.filteredItems||this.localItems||[]).slice(),o=Y(Y({},this.sortCompareOptions),{},{usage:"sort"});if(e&&r){var l=(this.computedFieldsObj[e]||{}).sortByFormatted,d=Object(c.e)(l)?l:l?this.getFieldFormatter(e):void 0;return Object(z.a)(a,(function(r,a){var l=null;return Object(c.e)(s)&&(l=s(r,a,e,t,d,o,i)),(Object(c.o)(l)||!1===l)&&(l=G(r,a,{sortBy:e,formatter:d,locale:i,localeOptions:o,nullLast:n})),(l||0)*(t?-1:1)}))}return a}},watch:{isSortable:function(e){e?this.isSortable&&this.$on("head-clicked",this.handleSort):this.$off("head-clicked",this.handleSort)},sortDesc:function(e){e!==this.localSortDesc&&(this.localSortDesc=e||!1)},sortBy:function(e){e!==this.localSortBy&&(this.localSortBy=e||"")},localSortDesc:function(e,t){e!==t&&this.$emit("update:sortDesc",e)},localSortBy:function(e,t){e!==t&&this.$emit("update:sortBy",e)}},created:function(){this.isSortable&&this.$on("head-clicked",this.handleSort)},methods:{handleSort:function(e,t,i,n){var s=this;if(this.isSortable&&(!n||!this.noFooterSorting)){var r=!1,a=function(){var e=t.sortDirection||s.sortDirection;"asc"===e?s.localSortDesc=!1:"desc"===e&&(s.localSortDesc=!0)};if(t.sortable){var o=!this.localSorting&&t.sortKey?t.sortKey:e;this.localSortBy===o?this.localSortDesc=!this.localSortDesc:(this.localSortBy=o,a()),r=!0}else this.localSortBy&&!this.noSortReset&&(this.localSortBy="",a(),r=!0);r&&this.$emit("sort-changed",this.context)}},sortTheadThClasses:function(e,t,i){return{"b-table-sort-icon-left":t.sortable&&this.sortIconLeft&&!(i&&this.noFooterSorting)}},sortTheadThAttrs:function(e,t,i){if(!this.isSortable||i&&this.noFooterSorting)return{};var n=t.sortable;return{"aria-sort":n&&this.localSortBy===e?this.localSortDesc?"descending":"ascending":n?"none":null}},sortTheadThLabel:function(e,t,i){if(!this.isSortable||i&&this.noFooterSorting)return null;var n="";if(t.sortable)if(this.localSortBy===e)n=this.localSortDesc?this.labelSortAsc:this.labelSortDesc;else{n=this.localSortDesc?this.labelSortDesc:this.labelSortAsc;var s=this.sortDirection||t.sortDirection;"asc"===s?n=this.labelSortAsc:"desc"===s&&(n=this.labelSortDesc)}else this.noSortReset||(n=this.localSortBy?this.labelSortClear:"");return Object(T.f)(n)||null}}},Z=i("s3Vi"),ee=i("A/xw"),te=i("cIDo"),ie=i("B/kB"),ne=i("s+sb"),se={methods:{renderTopRow:function(){var e=this.$createElement;if(!this.hasNormalizedSlot("top-row")||!0===this.stacked||""===this.stacked)return e();var t=this.computedFields;return e(d.a,{key:"b-top-row",staticClass:"b-table-top-row",class:[Object(c.e)(this.tbodyTrClass)?this.tbodyTrClass(null,"row-top"):this.tbodyTrClass],attrs:Object(c.e)(this.tbodyTrAttr)?this.tbodyTrAttr(null,"row-top"):this.tbodyTrAttr},[this.normalizeSlot("top-row",{columns:t.length,fields:t})])}}},re=n.a.extend({name:s.X,mixins:[r.a,a.a,o.a,l.a,P.a,ee.a,Z.a,ne.a,ie.a,te.a,Z.a,L,J,q,g.a,v.a,V,y,se,u,f,$]}),ae=i("gzws");const oe=["bottom-row","empty","emptyfiltered","table-busy","thead-top","top-row"],le=["api-url","busy","current-page","empty-filtered-html","empty-filtered-text","empty-html","empty-text","filter","filter-debounce","filter-function","filter-ignored-fields","filter-included-fields","label-sort-asc","label-sort-clear","label-sort-desc","no-footer-sorting","no-local-sorting","no-provider-filtering","no-provider-paging","no-provider-sorting","no-select-on-click","no-sort-reset","per-page","select-mode","selectable","selected-variant","show-empty","sort-by","sort-compare","sort-compare-locale","sort-compare-options","sort-desc","sort-direction","sort-icon-left","sort-null-last"];var ce=i("6IRw");const de={components:{BTable:re},inheritAttrs:!1,mounted(){Object(ae.e)()&&!(e=>{let{$attrs:t,$scopedSlots:i}=e;return le.some(e=>void 0!==t[e])||oe.some(e=>void 0!==i[e])})(this)&&Object(ae.f)("This GlTable could be a GlTableLite component, please consider using GlTableLite instead of GlTable to reduce the page bundlesize more about this here: https://gitlab-org.gitlab.io/gitlab-ui/?path=/docs/base-table-table-lite--default")}};const ue=i.n(ce)()({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-table",e._g(e._b({staticClass:"gl-table",scopedSlots:e._u([e._l(Object.keys(e.$scopedSlots),(function(t){return{key:t,fn:function(i){return[e._t(t,null,null,i)]}}}))],null,!0)},"b-table",e.$attrs,!1),e.$listeners))},staticRenderFns:[]},void 0,de,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=ue},Hoxe:function(e,t,i){var n=i("MfoV"),s=/[\\^$.*+?()[\]{}|]/g,r=RegExp(s.source);e.exports=function(e){return(e=n(e))&&r.test(e)?e.replace(s,"\\$&"):e}},ICNN:function(e,t,i){"use strict";var n=i("cuRJ"),s=i("H8gz"),r=i("ly/8"),a=i("ENs1"),o=i("teVv"),l=i("t9l/"),c=i("5ee2"),d=i("WiJj"),u=i("KLkI"),p=i("Zxcm");const h=i("mWeI").a.mixin();var m={components:{GlButton:n.a,GlIcon:s.a,TodoButton:u.a},directives:{GlTooltip:r.a},mixins:[Object(p.a)(),h],inject:{isClassicSidebar:{default:!1}},props:{issuableId:{type:String,required:!0},issuableIid:{type:String,required:!0},fullPath:{type:String,required:!0},issuableType:{required:!0,type:String}},data:()=>({loading:!1}),apollo:{todoId:{query(){return c.B[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:String(this.issuableIid)}},update(e){var t,i,n;return null===(t=e.workspace)||void 0===t||null===(i=t.issuable)||void 0===i||null===(n=i.currentUserTodos.nodes[0])||void 0===n?void 0:n.id},result(e){var t,i,n,s,r;let{data:a}=e;if(!a)return;const o=null!==(t=null===(i=a.workspace)||void 0===i||null===(n=i.issuable)||void 0===n||null===(s=n.currentUserTodos)||void 0===s?void 0:s.nodes)&&void 0!==t?t:[];this.todoId=null===(r=o[0])||void 0===r?void 0:r.id,this.$emit("todoUpdated",o.length>0)},error(){Object(o.createAlert)({message:Object(l.h)(Object(l.a)("Something went wrong while setting %{issuableType} to-do item."),{issuableType:this.issuableType})})}}},computed:{isMergeRequest(){return this.glFeatures.movedMrSidebar&&"merge_request"===this.issuableType},todoIdQuery(){return c.B[this.issuableType].query},todoIdQueryVariables(){return{fullPath:this.fullPath,iid:String(this.issuableIid)}},isLoading(){var e,t;return(null===(e=this.$apollo.queries)||void 0===e||null===(t=e.todoId)||void 0===t?void 0:t.loading)||this.loading},hasTodo(){return Boolean(this.todoId)},todoMutationType(){return this.hasTodo?c.f.MarkDone:c.f.Create},collapsedButtonIcon(){return this.hasTodo?"todo-done":"todo-add"},tootltipTitle(){return Object(d.a)(this.hasTodo)}},methods:{toggleTodo(){var e=this;this.loading=!0,this.$apollo.mutate({mutation:c.A[this.todoMutationType],variables:{input:{targetId:this.hasTodo?void 0:this.issuableId,id:this.hasTodo?this.todoId:void 0}},update:function(t,i){let{data:{todoMutation:{todo:n}}}=i;const s={query:e.todoIdQuery,variables:e.todoIdQueryVariables},r=t.readQuery(s),o=Object(a.b)(r,(function(t){t.workspace.issuable.currentUserTodos.nodes=e.hasTodo?[]:[n]}));t.writeQuery({data:o,...s})}}).then((function(t){let{data:{todoMutation:{errors:i}}}=t;i.length&&Object(o.createAlert)({message:i[0]}),e.track("click_todo",{label:"right_sidebar",property:e.hasTodo})})).catch((function(){Object(o.createAlert)({message:Object(l.h)(Object(l.a)("Something went wrong while setting %{issuableType} to-do item."),{issuableType:e.issuableType})})})).finally((function(){e.loading=!1}))}}},f=i("bPvS"),g=Object(f.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{"data-testid":"sidebar-todo"}},[i("todo-button",{staticClass:"hide-collapsed",attrs:{"issuable-type":e.issuableType,"issuable-id":e.issuableId,"is-todo":e.hasTodo,loading:e.isLoading,size:e.isMergeRequest?"medium":"small"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleTodo.apply(null,arguments)}}}),e._v(" "),e.isClassicSidebar&&!e.isMergeRequest?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon sidebar-collapsed-container gl-rounded-0! gl-shadow-none!",attrs:{title:e.tootltipTitle,category:"tertiary",type:"reset"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleTodo.apply(null,arguments)}}},[i("gl-icon",{class:{"todo-undone":e.hasTodo},attrs:{name:e.collapsedButtonIcon}})],1):e._e()],1)}),[],!1,null,null,null);t.a=g.exports},ILda:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"currentUser"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}}],loc:{start:0,end:100}};n.loc.source={body:'#import "../fragments/user.fragment.graphql"\n\nquery currentUser {\n  currentUser {\n    ...User\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("yXJ/").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var r={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.currentUser=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(n,"currentUser")},IPfS:function(e,t,i){"use strict";var n=i("lKw0"),s=i.n(n),r=(i("0no1"),i("3R5X"),i("gdbl"),i("uHfJ"),i("R0RX"),i("ylB9"),i("XexO"),i("ujLG"),i("HaUQ"),i("cuRJ")),a=i("H8gz"),o=i("ly/8"),l=i("9LGn"),c=i("9Wpt"),d=i("t9l/"),u=i("Zxcm"),p=i("8GQU");var h={components:{GlButton:r.a,GlIcon:a.a,EmojiPicker:c.default},directives:{GlTooltip:o.a,SafeHtml:l.a},mixins:[Object(u.a)()],props:{awards:{type:Array,required:!0},canAwardEmoji:{type:Boolean,required:!0},currentUserId:{type:Number,required:!1,default:-1},addButtonClass:{type:String,required:!1,default:""},defaultAwards:{type:Array,required:!1,default:function(){return[]}},selectedClass:{type:String,required:!1,default:"selected"}},data:()=>({isMenuOpen:!1}),computed:{groupedDefaultAwards(){return this.defaultAwards.reduce((function(e,t){return Object.assign(e,{[t]:[]})}),{})},groupedAwards(){var e=this;const{thumbsup:t,thumbsdown:i,...n}={...this.groupedDefaultAwards,...s()(this.awards,(function(e){return e.name}))};return[...t?[this.createAwardList("thumbsup",t)]:[],...i?[this.createAwardList("thumbsdown",i)]:[],...Object.entries(n).map((function(t){let[i,n]=t;return e.createAwardList(i,n)}))]},isAuthoredByMe(){return this.noteAuthorId===this.currentUserId}},mounted(){this.virtualScrollerItem=this.$el.closest(".vue-recycle-scroller__item-view")},methods:{getAwardClassBindings(e){return{[this.selectedClass]:this.hasReactionByCurrentUser(e),disabled:-1===this.currentUserId}},hasReactionByCurrentUser(e){var t=this;return-1!==this.currentUserId&&e.some((function(e){return e.user.id===t.currentUserId}))},createAwardList(e,t){const i=t.length?t[0].url:null;return{name:e,list:t,title:this.getAwardListTitle(t,e),classes:this.getAwardClassBindings(t),html:Object(p.glEmojiTag)(e,{url:i})}},getAwardListTitle(e,t){var i=this;if(!e.length)return"";const n=this.hasReactionByCurrentUser(e),s=n?9:10;let r=e;n&&(r=r.filter((function(e){return e.user.id!==i.currentUserId})));const a=r.slice(0,s).map((function(e){return e.user.name})),o=r.slice(s,r.length);n&&a.unshift(Object(d.a)("You"));let l="";return o.length?l=Object(d.h)(Object(d.a)("%{listToShow}, and %{awardsListLength} more"),{listToShow:a.join(", "),awardsListLength:o.length},!1):a.length>1?(l=a.slice(0,a.length-1).join(", "),l+=a.length>2?",":"",l+=Object(d.h)(Object(d.a)(" and %{sliced}"),{sliced:a.slice(-1)},!1)):l=a.join(Object(d.a)(" and ")),l+Object(d.h)(Object(d.a)(" reacted with :%{name}:"),{name:t})},handleAward(e){if(!this.canAwardEmoji)return;const t=/^[0-9]+$/.test(e)?Number(e):e;this.$emit("award",t),document.activeElement&&document.activeElement.blur()},setIsMenuOpen(e){this.isMenuOpen=e,this.virtualScrollerItem&&(this.virtualScrollerItem.style.zIndex=this.isMenuOpen?1:null)}},safeHtmlConfig:{ADD_TAGS:["gl-emoji"]}},m=i("bPvS"),f=Object(m.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"awards js-awards-block"},[e._l(e.groupedAwards,(function(t){return i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",modifiers:{viewport:!0}}],key:t.name,staticClass:"gl-mr-3 gl-my-2",class:t.classes,attrs:{title:t.title,"data-testid":"award-button"},on:{click:function(i){return e.handleAward(t.name)}},scopedSlots:e._u([{key:"emoji",fn:function(){return[i("span",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:t.html,expression:"awardList.html",arg:e.$options.safeHtmlConfig}],staticClass:"award-emoji-block",attrs:{"data-testid":"award-html"}})]},proxy:!0}],null,!0)},[e._v(" "),i("span",{staticClass:"js-counter"},[e._v(e._s(t.list.length))])])})),e._v(" "),e.canAwardEmoji?i("div",{staticClass:"award-menu-holder gl-my-2"},[i("emoji-picker",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",modifiers:{viewport:!0}}],attrs:{title:e.__("Add reaction"),"toggle-class":["add-reaction-button btn-icon gl-relative!",{"is-active":e.isMenuOpen}],"data-testid":"emoji-picker"},on:{click:e.handleAward,shown:function(t){return e.setIsMenuOpen(!0)},hidden:function(t){return e.setIsMenuOpen(!1)}},scopedSlots:e._u([{key:"button-content",fn:function(){return[i("span",{staticClass:"gl-sr-only"},[e._v(e._s(e.__("Add reaction")))]),e._v(" "),i("span",{staticClass:"reaction-control-icon reaction-control-icon-neutral"},[i("gl-icon",{attrs:{name:"slight-smile"}})],1),e._v(" "),i("span",{staticClass:"reaction-control-icon reaction-control-icon-positive"},[i("gl-icon",{attrs:{name:"smiley"}})],1),e._v(" "),i("span",{staticClass:"reaction-control-icon reaction-control-icon-super-positive"},[i("gl-icon",{attrs:{name:"smile"}})],1)]},proxy:!0}],null,!1,1225140488)})],1):e._e()],2)}),[],!1,null,null,null);t.a=f.exports},IcBX:function(e,t,i){"use strict";var n=i("ZPTr"),s=i.n(n),r=i("KZOo"),a=i.n(r),o=i("08uz"),l=i.n(o),c=(i("WmlO"),i("3R5X"),i("W9Nl"),i("JHu5"),i("XUYm"),i("h8Et"),i("6oy4")),d=i.n(c),u=i("teVv"),p=i("mphk"),h=i("t9l/");t.a={init(){let{form:e,issues:t,prefixId:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.prefixId=i||"issue_",this.form=e||this.getElement(".bulk-update"),this.$labelDropdown=this.form.find(".js-label-select"),this.issues=t||this.getElement(".issues-list .issue"),this.willUpdateLabels=!1,this.bindEvents()},bindEvents(){return this.form.off("submit").on("submit",this.onFormSubmit.bind(this))},onFormSubmit(e){return e.preventDefault(),this.submit()},submit(){var e=this;p.a[this.form.attr("method")](this.form.attr("action"),this.getFormDataAsObject()).then((function(){return window.location.reload()})).catch((function(){return e.onFormSubmitFailure()}))},onFormSubmitFailure(){return this.form.find('[type="submit"]').enable(),Object(u.default)({message:Object(h.a)("Issue update failed")})},getFormDataAsObject(){const e={update:{state_event:this.form.find('input[name="update[state_event]"]').val(),assignee_ids:[this.form.find('input[name="update[assignee_ids][]"]').val()],milestone_id:this.form.find('input[name="update[milestone_id]"]').val(),issuable_ids:this.form.find('input[name="update[issuable_ids]"]').val(),subscription_event:this.form.find('input[name="update[subscription_event]"]').val(),health_status:this.form.find('input[name="update[health_status]"]').val(),epic_id:this.form.find('input[name="update[epic_id]"]').val(),sprint_id:this.form.find('input[name="update[iteration_id]"]').val(),add_label_ids:[],remove_label_ids:[]}};return this.willUpdateLabels&&(e.update.add_label_ids=this.$labelDropdown.data("user-checked"),e.update.remove_label_ids=this.$labelDropdown.data("user-unchecked")),e},setOriginalDropdownData(){const e=d()(".bulk-update .js-label-select"),t=e.data("user-checked")||[],i=e.data("user-unchecked")||[],n=l()(s()(this.getOriginalCommonIds(),t),i),r=l()(this.getOriginalIndeterminateIds(),t,i);e.data("marked",n),e.data("indeterminate",r)},getOriginalCommonIds(){var e=this;const t=[];return this.getElement('.issuable-list input[type="checkbox"]:checked').each((function(i,n){t.push(e.getElement(`#${e.prefixId}${n.dataset.id}`).data("labels"))})),a.a.apply(this,t)},getOriginalIndeterminateIds(){var e=this;const t=[],i=[];let n=[];return this.getElement('.issuable-list input[type="checkbox"]:checked').each((function(s,r){n=e.getElement(`#${e.prefixId}${r.dataset.id}`).data("labels"),n.forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),i.push(n)})),i.unshift(t),t.filter((function(t){return!a.a.apply(e,i).includes(t)}))},getElement(e){return this.scopeEl=this.scopeEl||d()(".content"),this.scopeEl.find(e)}}},Ivjt:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return l}));var n=i("Z2pp"),s=i("DQ7i"),r=i("jyii"),a=i("gCUY"),o=Object(a.c)({id:{type:String},inline:{type:Boolean,default:!1},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}},r.r),l=n.a.extend({name:r.r,functional:!0,props:o,render:function(e,t){var i=t.props,n=t.data,r=t.children;return e("form",Object(s.a)(n,{class:{"form-inline":i.inline,"was-validated":i.validated},attrs:{id:i.id,novalidate:i.novalidate}}),r)}})},"J+RW":function(e,t,i){var n=i("G/Sk"),s=i("79w4");e.exports=function(e,t,i){(void 0!==i&&!s(e[t],i)||void 0===i&&!(t in e))&&n(e,t,i)}},J6KD:function(e,t,i){"use strict";i("h8Et"),i("WmlO"),i("3R5X"),i("W9Nl"),i("ylB9"),i("XexO");var n=i("CkNe"),s=i("6A8M"),r=i("teVv"),a=i("t9l/"),o=i("1jid"),l=(i("ujLG"),i("HaUQ"),i("uHfJ"),i("R0RX"),{functional:!0,render(e,t){const{slotKeys:i}=t.props,n=t.slots();return i.map((function(e){return n[e]})).filter((function(e){return e}))}}),c=i("bPvS"),d=Object(c.a)(l,void 0,void 0,!1,null,null,null).exports,u=i("Zxcm"),p=i("JzpF"),h=i("yYHy"),m=i("Gj7Q"),f=i("R8rx"),g={name:"SkeletonNote",components:{GlSkeletonLoader:i("Fj12").a,TimelineEntryItem:o.a}},v=Object(c.a)(g,(function(){var e=this.$createElement,t=this._self._c||e;return t("timeline-entry-item",{staticClass:"note note-wrapper",attrs:{"data-qa-selector":"skeleton_note_placeholder"}},[t("div",{staticClass:"timeline-icon"}),this._v(" "),t("div",{staticClass:"timeline-content"},[t("div",{staticClass:"note-header"}),this._v(" "),t("div",{staticClass:"note-body gl-mt-4"},[t("gl-skeleton-loader")],1)])])}),[],!1,null,null,null).exports,b=i("uvwG"),y=i("toOR"),k=i("RewC"),w=i("Q04j"),_=i("cuRJ"),S=i("H8gz"),E=i("OkA1"),D=i("ly/8"),T=i("XtuB"),C=i("6oy4"),I=i.n(C),O=i("s1DB"),j=i("Ehiv"),x=i("ZcYw"),A=i("oiT5"),N=i("vRHk"),F=i("WW8A"),L=i("A8Nj"),P=i("L+KC"),R=i("Z0Ze"),q=i("UGhW"),$=i("u1ru"),B={components:{GlIcon:S.a,GlLink:$.a},mixins:[P.a],props:{issuableType:{required:!0,type:String}},computed:{issuableDisplayName(){return this.issuableType.replace(/_/g," ")},projectArchivedWarning:()=>Object(a.a)("This project is archived and cannot be commented on."),lockedIssueWarning(){return Object(a.h)(Object(a.a)("This %{issuableDisplayName} is locked. Only project members can comment."),{issuableDisplayName:this.issuableDisplayName})}}},M=Object(c.a)(B,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"disabled-comment text-center"},[i("span",{staticClass:"issuable-note-warning inline"},[i("gl-icon",{staticClass:"icon",attrs:{size:16,name:"lock"}}),e._v(" "),e.isProjectArchived?i("span",[e._v("\n      "+e._s(e.projectArchivedWarning)+"\n      "),i("gl-link",{staticClass:"learn-more",attrs:{href:e.archivedProjectDocsPath,target:"_blank"}},[e._v("\n        "+e._s(e.__("Learn more"))+"\n      ")])],1):i("span",[e._v("\n      "+e._s(e.lockedIssueWarning)+"\n      "),i("gl-link",{staticClass:"learn-more",attrs:{href:e.lockedIssueDocsPath,target:"_blank"}},[e._v("\n        "+e._s(e.__("Learn more"))+"\n      ")])],1)],1)])}),[],!1,null,null,null).exports,U=i("9ema");const{UNPROCESSABLE_ENTITY:V}=A.a;var z={name:"CommentForm",i18n:L.a,components:{NoteSignedOutWidget:U.a,DiscussionLockedWidget:M,MarkdownField:F.a,GlAlert:w.a,GlButton:_.a,TimelineEntryItem:o.a,GlIcon:S.a,CommentFieldLayout:R.a,CommentTypeDropdown:q.a,GlFormCheckbox:E.a},directives:{GlTooltip:D.a},mixins:[Object(u.a)(),P.a],props:{noteableType:{type:String,required:!0}},data:()=>({note:"",noteType:y.COMMENT,errors:[],noteIsInternal:!1,isSubmitting:!1}),computed:{...Object(n.d)(["getCurrentUserLastNote","getUserData","getNoteableData","getNoteableDataByProp","getNotesData","openState","hasDrafts"]),...Object(n.f)(["isToggleStateButtonLoading"]),noteableDisplayName(){return{[y.ISSUE_NOTEABLE_TYPE]:this.$options.i18n.issue,[y.EPIC_NOTEABLE_TYPE]:this.$options.i18n.epic,[y.MERGE_REQUEST_NOTEABLE_TYPE]:this.$options.i18n.mergeRequest}[y.NOTEABLE_TYPE_MAPPING[this.noteableType]||y.ISSUE_NOTEABLE_TYPE]},isLoggedIn(){return this.getUserData.id},commentButtonTitle(){const{comment:e,internalComment:t,startThread:i,startInternalThread:n}=this.$options.i18n;return this.noteIsInternal?this.noteType===y.COMMENT?t:n:this.noteType===y.COMMENT?e:i},textareaPlaceholder(){return this.noteIsInternal?this.$options.i18n.bodyPlaceholderInternal:this.$options.i18n.bodyPlaceholder},discussionsRequireResolution(){return this.getNoteableData.noteableType===y.MERGE_REQUEST_NOTEABLE_TYPE},isOpen(){return this.openState===y.OPENED||this.openState===y.REOPENED},canCreateNote(){return this.getNoteableData.current_user.can_create_note},canSetInternalNote(){return this.getNoteableData.current_user.can_create_confidential_note&&(this.isIssue||this.isEpic)},issueActionButtonTitle(){const e=this.isOpen?"close":"reopen";return this.note.length?Object(a.h)(this.$options.i18n.actionButton.withNote[e],{actionText:this.commentButtonTitle,noteable:this.noteableDisplayName}):Object(a.h)(this.$options.i18n.actionButton.withoutNote[e],{noteable:this.noteableDisplayName})},actionButtonClassNames(){return{"btn-reopen":!this.isOpen,"btn-close":this.isOpen,"js-note-target-close":this.isOpen,"js-note-target-reopen":!this.isOpen}},markdownDocsPath(){return this.getNotesData.markdownDocsPath},quickActionsDocsPath(){return this.getNotesData.quickActionsDocsPath},markdownPreviewPath(){return this.getNoteableData.preview_note_path},author(){return this.getUserData},canToggleIssueState(){return this.getNoteableData.current_user.can_update&&this.openState!==y.MERGED&&!this.closedAndLocked},closedAndLocked(){return!this.isOpen&&this.isLocked(this.getNoteableData)},endpoint(){return this.getNoteableData.create_note_path},draftEndpoint(){return this.getNotesData.draftsPath},isIssue(){return y.NOTEABLE_TYPE_MAPPING[this.noteableType]===y.ISSUE_NOTEABLE_TYPE},isEpic(){return y.NOTEABLE_TYPE_MAPPING[this.noteableType]===y.EPIC_NOTEABLE_TYPE},trackingLabel(){return Object(N.v)(this.commentButtonTitle+" button")},disableSubmitButton(){return 0===this.note.length||this.isSubmitting}},mounted(){var e=this;I()(document).on("issuable:change",(function(t,i){e.toggleIssueLocalState(i?y.CLOSED:y.REOPENED)})),this.initAutoSave()},methods:{...Object(n.c)(["saveNote","stopPolling","restartPolling","removePlaceholderNotes","closeIssuable","reopenIssuable","toggleIssueLocalState"]),handleSaveError(e){var t,i;let{data:n,status:s}=e;s===V&&null!==(t=n.errors)&&void 0!==t&&null!==(i=t.commands_only)&&void 0!==i&&i.length?this.errors=n.errors.commands_only:this.errors=[this.$options.i18n.GENERIC_UNSUBMITTABLE_NETWORK]},handleSaveDraft(){this.handleSave({isDraft:!0})},handleSave(){var e=this;let{withIssueAction:t=!1,isDraft:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.errors=[],this.note.length){const n={endpoint:i?this.draftEndpoint:this.endpoint,data:{note:{noteable_type:this.noteableType,noteable_id:this.getNoteableData.id,internal:this.noteIsInternal,note:this.note},merge_request_diff_head_sha:this.getNoteableData.diff_head_sha},isDraft:i};this.noteType===y.DISCUSSION&&(n.data.note.type=y.DISCUSSION_NOTE),this.note="",this.resizeTextarea(),this.stopPolling(),this.isSubmitting=!0,this.saveNote(n).then((function(){e.restartPolling(),e.discard(),t&&e.toggleIssueState()})).catch((function(t){let{response:i}=t;e.handleSaveError(i),e.discard(!1),e.note=n.data.note.note,e.removePlaceholderNotes()})).finally((function(){e.isSubmitting=!1}))}else this.toggleIssueState()},handleEnter(){this.hasDrafts?this.handleSaveDraft():this.handleSave()},toggleIssueState(){var e=this;if(this.isIssue)return void k.a.$emit("toggle.issuable.state");(this.isOpen?this.closeIssuable:this.reopenIssuable)().then((function(){return x.a.updateStatus&&x.a.updateStatus()})).then(j.b).catch((function(){return Object(r.createAlert)({message:y.toggleStateErrorMessage[e.noteableType][e.openState]})}))},discard(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.textarea.blur(),this.$refs.textarea.focus(),e&&(this.note="",this.noteIsInternal=!1,this.resizeTextarea(),this.$refs.markdownField.previewMarkdown=!1),this.autosave.reset()},editCurrentUserLastNote(){if(""===this.note){const e=this.getCurrentUserLastNote;e&&k.a.$emit("enterEditMode",{noteId:e.id})}},initAutoSave(){if(this.isLoggedIn){const e=Object(N.f)(Object(N.g)(this.noteableType));this.autosave=new O.a(I()(this.$refs.textarea),[this.$options.i18n.note,e,this.getNoteableData.id])}},resizeTextarea(){var e=this;this.$nextTick((function(){T.a.update(e.$refs.textarea)}))},hasEmailParticipants(){var e;return null===(e=this.getNoteableData.issue_email_participants)||void 0===e?void 0:e.length},dismissError(e){this.errors.splice(e,1)}}},W=Object(c.a)(z,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isLoggedIn?e.canCreateNote?e.canCreateNote?i("ul",{staticClass:"notes notes-form timeline"},[i("timeline-entry-item",{staticClass:"note-form"},[e._l(e.errors,(function(t,n){return i("gl-alert",{key:n,staticClass:"gl-mb-2",attrs:{variant:"danger"},on:{dismiss:function(){return e.dismissError(n)}}},[e._v("\n        "+e._s(t)+"\n      ")])})),e._v(" "),i("div",{staticClass:"timeline-content timeline-content-form"},[i("form",{ref:"commentForm",staticClass:"new-note common-note-form gfm-form js-main-target-form"},[i("comment-field-layout",{attrs:{"with-alert-container":!0,"noteable-data":e.getNoteableData,"is-internal-note":e.noteIsInternal,"noteable-type":e.noteableType}},[i("markdown-field",{ref:"markdownField",attrs:{"is-submitting":e.isSubmitting,"markdown-preview-path":e.markdownPreviewPath,"markdown-docs-path":e.markdownDocsPath,"quick-actions-docs-path":e.quickActionsDocsPath,"add-spacing-classes":!1,"textarea-value":e.note},scopedSlots:e._u([{key:"textarea",fn:function(){return[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.note,expression:"note"}],ref:"textarea",staticClass:"note-textarea js-vue-comment-form js-note-text js-gfm-input js-autosize markdown-area",attrs:{id:"note-body",dir:"auto",disabled:e.isSubmitting,name:"note[note]","data-qa-selector":"comment_field","data-testid":"comment-field","data-supports-quick-actions":"true","aria-label":e.$options.i18n.comment,placeholder:e.textareaPlaceholder},domProps:{value:e.note},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.editCurrentUserLastNote()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.handleEnter():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.handleEnter():null}],input:function(t){t.target.composing||(e.note=t.target.value)}}})]},proxy:!0}])})],1),e._v(" "),i("div",{staticClass:"note-form-actions"},[e.hasDrafts?[i("gl-button",{attrs:{disabled:e.disableSubmitButton,"data-testid":"add-to-review-button",type:"submit",category:"primary",variant:"confirm"},on:{click:function(t){return t.preventDefault(),e.handleSaveDraft()}}},[e._v(e._s(e.__("Add to review")))]),e._v(" "),i("gl-button",{attrs:{disabled:e.disableSubmitButton,"data-testid":"add-comment-now-button",category:"secondary"},on:{click:function(t){return t.preventDefault(),e.handleSave()}}},[e._v(e._s(e.__("Add comment now")))])]:[e.canSetInternalNote?i("gl-form-checkbox",{staticClass:"gl-mb-2",attrs:{"data-testid":"internal-note-checkbox"},model:{value:e.noteIsInternal,callback:function(t){e.noteIsInternal=t},expression:"noteIsInternal"}},[e._v("\n                "+e._s(e.$options.i18n.internal)+"\n                "),i("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip:tooltipcontainer.bottom",arg:"tooltipcontainer",modifiers:{bottom:!0}}],staticClass:"gl-text-gray-500",attrs:{name:"question",size:16,title:e.$options.i18n.internalVisibility}})],1):e._e(),e._v(" "),i("comment-type-dropdown",{staticClass:"gl-mr-3",attrs:{disabled:e.disableSubmitButton,"tracking-label":e.trackingLabel,"is-internal-note":e.noteIsInternal,"noteable-display-name":e.noteableDisplayName,"discussions-require-resolution":e.discussionsRequireResolution},on:{click:e.handleSave},model:{value:e.noteType,callback:function(t){e.noteType=t},expression:"noteType"}})],e._v(" "),e.canToggleIssueState?i("gl-button",{class:[e.actionButtonClassNames,"btn-comment btn-comment-and-close"],attrs:{loading:e.isToggleStateButtonLoading,disabled:e.isSubmitting,"data-testid":"close-reopen-button"},on:{click:function(t){return e.handleSave({withIssueAction:!0})}}},[e._v(e._s(e.issueActionButtonTitle))]):e._e()],2)],1)])],2)],1):e._e():i("discussion-locked-widget",{attrs:{"issuable-type":e.noteableDisplayName}}):i("note-signed-out-widget")],1)}),[],!1,null,null,null).exports,H=i("nPFI"),G={i18n:{information:Object(a.g)("Notes|You're only seeing %{boldStart}other activity%{boldEnd} in the feed. To add a comment, switch to one of the following options.")},components:{GlButton:_.a,GlIcon:S.a,GlSprintf:H.a},methods:{selectFilter(e){k.a.$emit("dropdownSelect",e)}}},K=Object(c.a)(G,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"timeline-entry note note-wrapper discussion-filter-note js-discussion-filter-note",attrs:{"data-qa-selector":"discussion_filter_container"}},[i("div",{staticClass:"timeline-icon d-none d-lg-flex"},[i("gl-icon",{attrs:{name:"comment"}})],1),e._v(" "),i("div",{staticClass:"timeline-content gl-pl-8"},[i("div",{attrs:{"data-testid":"discussion-filter-timeline-content"}},[i("gl-sprintf",{attrs:{message:e.$options.i18n.information},scopedSlots:e._u([{key:"bold",fn:function(t){var n=t.content;return[i("b",[e._v(e._s(n))])]}}])})],1),e._v(" "),i("div",{staticClass:"discussion-filter-actions gl-mt-3 gl-display-flex"},[i("gl-button",{staticClass:"gl-mr-3",attrs:{variant:"default"},on:{click:function(t){return e.selectFilter(0)}}},[e._v("\n        "+e._s(e.__("Show all activity"))+"\n      ")]),e._v(" "),i("gl-button",{attrs:{variant:"default"},on:{click:function(t){return e.selectFilter(1)}}},[e._v("\n        "+e._s(e.__("Show comments only"))+"\n      ")])],1)])])}),[],!1,null,null,null).exports,Y=i("jodE"),Q=i("5ggI"),X=i("mpzd"),J=i("voi4"),Z=i("5ee2"),ee=i("ZfsP"),te={props:{noteableData:{type:Object,required:!0},iid:{type:Number,required:!0}},computed:{fullPath(){return this.noteableData.web_url?this.noteableData.web_url.split("/-/")[0].substring(1).replace("groups/",""):null},issuableType(){return this.noteableData.noteableType.toLowerCase()}},created(){var e=this;this.issuableType!==X.c.Issue&&this.issuableType!==X.c.Epic||ee.b.watchQuery({query:Z.i[this.issuableType].query,variables:{iid:String(this.iid),fullPath:this.fullPath},fetchPolicy:J.b.CACHE_ONLY}).subscribe((function(t){var i,n;const s=null===(i=t.data)||void 0===i||null===(n=i.workspace)||void 0===n?void 0:n.issuable;s&&e.setConfidentiality(s.confidential)}))},methods:{...Object(n.c)(["setConfidentiality"])},render:()=>null},ie=Object(c.a)(te,void 0,void 0,!1,null,null,null).exports,ne=i("OkMp"),se=i("0X+3"),re=i("OqKX"),ae=i("mWeI"),oe=i("j8Yr");const le=[{key:y.DESC,text:Object(a.a)("Newest first"),cls:"js-newest-first"},{key:y.ASC,text:Object(a.a)("Oldest first"),cls:"js-oldest-first"}];var ce={SORT_OPTIONS:le,components:{GlDropdown:ne.a,GlDropdownItem:se.a,GlDropdownDivider:re.a,LocalStorageSync:oe.a},mixins:[ae.a.mixin()],props:{filters:{type:Array,required:!0},selectedValue:{type:Number,default:y.DISCUSSION_FILTERS_DEFAULT_VALUE,required:!1}},data(){return{currentValue:Object(h.f)(y.NOTE_UNDERSCORE)?y.DISCUSSION_FILTERS_DEFAULT_VALUE:this.selectedValue,defaultValue:y.DISCUSSION_FILTERS_DEFAULT_VALUE,displayFilters:!0}},computed:{...Object(n.d)(["getNotesDataByProp","timelineEnabled","isLoading","sortDirection","persistSortOrder","noteableType"]),currentFilter(){var e=this;return this.currentValue?this.filters.find((function(t){return t.value===e.currentValue})):this.filters[0]},selectedSortOption(){var e=this;return le.find((function(t){let{key:i}=t;return e.sortDirection===i}))},sortStorageKey(){return"sort_direction_"+this.noteableType.toLowerCase()}},created(){if(window.mrTabs){const{eventHub:e,currentTab:t}=window.mrTabs;e.$on("MergeRequestTabChange",this.toggleFilters),this.toggleFilters(t)}k.a.$on("dropdownSelect",this.selectFilter),window.addEventListener("hashchange",this.handleLocationHash)},mounted(){this.toggleCommentsForm()},destroyed(){k.a.$off("dropdownSelect",this.selectFilter),window.removeEventListener("hashchange",this.handleLocationHash)},methods:{...Object(n.c)(["filterDiscussion","setCommentsDisabled","setTargetNoteHash","setTimelineView","setDiscussionSortDirection"]),selectFilter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=parseInt(e,10);i!==this.currentValue&&(this.timelineEnabled&&i!==y.COMMENTS_ONLY_FILTER_VALUE&&this.setTimelineView(!1),this.currentValue=i,this.filterDiscussion({path:this.getNotesDataByProp("discussionsPath"),filter:i,persistFilter:t}),this.toggleCommentsForm())},toggleCommentsForm(){this.setCommentsDisabled(this.currentValue===y.HISTORY_ONLY_FILTER_VALUE)},toggleFilters(e){this.displayFilters=e===y.DISCUSSION_TAB_LABEL},handleLocationHash(){const e=Object(h.k)();/^note_/.test(e)&&this.currentValue!==y.DISCUSSION_FILTERS_DEFAULT_VALUE&&(this.selectFilter(this.defaultValue,!1),this.setTargetNoteHash(e))},filterType:e=>0===e?y.DISCUSSION_FILTER_TYPES.ALL:1===e?y.DISCUSSION_FILTER_TYPES.COMMENTS:y.DISCUSSION_FILTER_TYPES.HISTORY,fetchSortedDiscussions(e){this.isSortDropdownItemActive(e)||(this.setDiscussionSortDirection({direction:e}),this.track("change_discussion_sort_direction",{property:e}))},isSortDropdownItemActive(e){return e===this.sortDirection}}},de={components:{TimelineToggle:function(){return i.e(740).then(i.bind(null,"/jog"))},DiscussionFilter:Object(c.a)(ce,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.displayFilters?i("div",{staticClass:"gl-display-inline-block gl-vertical-align-bottom full-width-mobile",attrs:{id:"discussion-preferences","data-testid":"discussion-preferences"}},[i("local-storage-sync",{attrs:{value:e.sortDirection,"storage-key":e.sortStorageKey,persist:e.persistSortOrder,"as-string":""},on:{input:function(t){return e.setDiscussionSortDirection({direction:t})}}}),e._v(" "),i("gl-dropdown",{staticClass:"full-width-mobile",attrs:{id:"discussion-preferences-dropdown","data-qa-selector":"discussion_preferences_dropdown",text:e.__("Sort or filter"),disabled:e.isLoading,right:""}},[i("div",{attrs:{id:"discussion-sort"}},e._l(e.$options.SORT_OPTIONS,(function(t){var n=t.text,s=t.key,r=t.cls;return i("gl-dropdown-item",{key:n,class:r,attrs:{"is-check-item":"","is-checked":e.isSortDropdownItemActive(s)},on:{click:function(t){return e.fetchSortedDiscussions(s)}}},[e._v("\n        "+e._s(n)+"\n      ")])})),1),e._v(" "),i("gl-dropdown-divider"),e._v(" "),i("div",{staticClass:"discussion-filter-container js-discussion-filter-container",attrs:{id:"discussion-filter"}},e._l(e.filters,(function(t){return i("gl-dropdown-item",{key:t.value,class:{"is-active":t.value===e.currentValue},attrs:{"is-check-item":"","is-checked":t.value===e.currentValue,"data-filter-type":e.filterType(t.value),"data-qa-selector":"filter_menu_item"},on:{click:function(i){return i.preventDefault(),e.selectFilter(t.value)}}},[e._v("\n        "+e._s(t.title)+"\n      ")])})),1)],1)],1):e._e()}),[],!1,null,null,null).exports},inject:{showTimelineViewToggle:{default:!1}},props:{notesFilters:{type:Array,required:!0},notesFilterValue:{type:Number,default:void 0,required:!1}}},ue={name:"NotesApp",components:{NotesActivityHeader:Object(c.a)(de,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-display-flex gl-sm-align-items-center gl-flex-direction-column gl-sm-flex-direction-row gl-justify-content-space-between gl-pt-5"},[i("h2",{staticClass:"gl-font-size-h1 gl-m-0"},[e._v(e._s(e.__("Activity")))]),e._v(" "),i("div",{staticClass:"gl-display-flex gl-gap-3 gl-w-full gl-sm-w-auto gl-mt-3 gl-sm-mt-0"},[e.showTimelineViewToggle?i("timeline-toggle"):e._e(),e._v(" "),i("discussion-filter",{attrs:{filters:e.notesFilters,"selected-value":e.notesFilterValue}})],1)])}),[],!1,null,null,null).exports,NoteableNote:Q.a,NoteableDiscussion:Y.a,SystemNote:b.a,CommentForm:W,PlaceholderNote:m.a,PlaceholderSystemNote:f.a,SkeletonLoadingContainer:v,DiscussionFilterNote:K,OrderedLayout:d,SidebarSubscription:ie,DraftNote:p.a,TimelineEntryItem:o.a},mixins:[Object(u.a)()],props:{noteableData:{type:Object,required:!0},notesData:{type:Object,required:!0},notesFilters:{type:Array,required:!0},notesFilterValue:{type:Number,default:void 0,required:!1},userData:{type:Object,required:!1,default:function(){return{}}},shouldShow:{type:Boolean,required:!1,default:!0},helpPagePath:{type:String,required:!1,default:""}},data(){return{currentFilter:null,renderSkeleton:!this.shouldShow}},computed:{...Object(n.d)(["isNotesFetched","discussions","convertedDisscussionIds","getNotesDataByProp","isLoading","isFetching","commentsDisabled","getNoteableData","userCanReply","discussionTabCounter","sortDirection","timelineEnabled"]),sortDirDesc(){return this.sortDirection===y.DESC},discussionTabCounterText(){return this.isLoading?"":this.discussionTabCounter},noteableType(){return this.noteableData.noteableType},allDiscussions(){let e=[];if(this.renderSkeleton||this.isLoading){const t=parseInt(this.notesData.prerenderedNotesCount,10)||0;e=new Array(t).fill({isSkeletonNote:!0})}return this.sortDirDesc?e.concat(this.discussions):this.discussions.concat(e)},canReply(){return this.userCanReply&&!this.commentsDisabled&&!this.timelineEnabled},slotKeys(){return this.sortDirDesc?["form","comments"]:["comments","form"]},isAppReady(){return!this.isLoading&&!this.renderSkeleton&&this.shouldShow}},watch:{async isFetching(){this.isFetching||(await this.$nextTick(),await this.startTaskList(),await this.checkLocationHash())},shouldShow(){var e=this;this.isNotesFetched||this.fetchNotes(),setTimeout((function(){e.renderSkeleton=!e.shouldShow}))},discussionTabCounterText(e){this.discussionsCount&&(this.discussionsCount.textContent=e)},isAppReady:{handler(e){e&&this.$nextTick((function(){var e;null===(e=window.mrTabs)||void 0===e||e.eventHub.$emit("NotesAppReady")}))},immediate:!0}},created(){this.discussionsCount=document.querySelector(".js-discussions-count"),this.setNotesData(this.notesData),this.setNoteableData(this.noteableData),this.setUserData(this.userData),this.setTargetNoteHash(Object(h.k)()),k.a.$once("fetchNotesData",this.fetchNotes)},mounted(){var e=this;this.shouldShow&&this.fetchNotes();const{parentElement:t}=this.$el;t&&t.classList.contains("js-vue-notes-event")&&t.addEventListener("toggleAward",(function(t){const{awardName:i,noteId:n}=t.detail;e.toggleAward({awardName:i,noteId:n})})),window.addEventListener("hashchange",this.handleHashChanged),k.a.$on("notesApp.updateIssuableConfidentiality",this.setConfidentiality)},updated(){var e=this;this.$nextTick((function(){Object(s.a)(e.$el.querySelectorAll(".gfm-project_member"))}))},beforeDestroy(){this.stopPolling(),window.removeEventListener("hashchange",this.handleHashChanged),k.a.$off("notesApp.updateIssuableConfidentiality",this.setConfidentiality)},methods:{...Object(n.c)(["setFetchingState","setLoadingState","fetchDiscussions","poll","toggleAward","setNotesData","setNoteableData","setUserData","setLastFetchedAt","setTargetNoteHash","toggleDiscussion","setNotesFetchedState","expandDiscussion","startTaskList","convertToDiscussion","stopPolling","setConfidentiality"]),discussionIsIndividualNoteAndNotConverted(e){return e.individual_note&&!this.convertedDisscussionIds.includes(e.id)},handleHashChanged(){this.checkLocationHash()&&this.setTargetNoteHash(Object(h.k)())},fetchNotes(){var e=this;return this.isFetching?null:(this.setFetchingState(!0),this.fetchDiscussions(this.getFetchDiscussionsConfig()).then(this.initPolling).then((function(){e.setLoadingState(!1),e.setNotesFetchedState(!0),k.a.$emit("fetchedNotesData"),e.setFetchingState(!1)})).catch((function(){e.setLoadingState(!1),e.setNotesFetchedState(!0),Object(r.createAlert)({message:Object(a.a)("Something went wrong while fetching comments. Please try again.")})})))},initPolling(){this.isPollingInitialized||(this.setLastFetchedAt(this.getNotesDataByProp("lastFetchedAt")),this.poll(),this.isPollingInitialized=!0)},checkLocationHash(){const e=Object(h.k)(),t=e&&e.replace(/^note_/,"");if(t){const e=this.discussions.find((function(e){return e.notes.some((function(e){let{id:i}=e;return i===t}))}));e&&this.expandDiscussion({discussionId:e.id})}return t},startReplying(e){return this.convertToDiscussion(e).then(this.$nextTick).then((function(){return k.a.$emit("startReplying",e)}))},getFetchDiscussionsConfig(){const e={path:this.getNotesDataByProp("discussionsPath")},t=this.getNotesDataByProp("notesFilter")||y.DISCUSSION_FILTERS_DEFAULT_VALUE;return Object(h.f)(y.NOTE_UNDERSCORE)&&t!==y.DISCUSSION_FILTERS_DEFAULT_VALUE?{...e,filter:y.DISCUSSION_FILTERS_DEFAULT_VALUE,persistFilter:!1}:e}},systemNote:y.SYSTEM_NOTE},pe=Object(c.a)(ue,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShow,expression:"shouldShow"}],attrs:{id:"notes"}},[i("sidebar-subscription",{attrs:{iid:e.noteableData.iid,"noteable-data":e.noteableData}}),e._v(" "),i("notes-activity-header",{attrs:{"notes-filters":e.notesFilters,"notes-filter-value":e.notesFilterValue}}),e._v(" "),i("ordered-layout",{attrs:{"slot-keys":e.slotKeys},scopedSlots:e._u([{key:"form",fn:function(){return[e.commentsDisabled||e.timelineEnabled?e._e():i("comment-form",{staticClass:"js-comment-form",attrs:{"noteable-type":e.noteableType}})]},proxy:!0},{key:"comments",fn:function(){return[i("ul",{staticClass:"notes main-notes-list timeline",attrs:{id:"notes-list"}},[e._l(e.allDiscussions,(function(t){return[t.isSkeletonNote?i("skeleton-loading-container",{key:t.id,staticClass:"note-skeleton"}):t.isDraft?i("timeline-entry-item",{key:t.id},[i("draft-note",{attrs:{draft:t}})],1):t.isPlaceholderNote?[t.placeholderType===e.$options.systemNote?i("placeholder-system-note",{key:t.id,attrs:{note:t.notes[0]}}):i("placeholder-note",{key:t.id,attrs:{note:t.notes[0]}})]:e.discussionIsIndividualNoteAndNotConverted(t)?[t.notes[0].system?i("system-note",{key:t.id,attrs:{note:t.notes[0]}}):i("noteable-note",{key:t.id,attrs:{note:t.notes[0],"show-reply-button":e.canReply},on:{startReplying:function(i){return e.startReplying(t.id)}}})]:i("noteable-discussion",{key:t.id,attrs:{discussion:t,"render-diff-file":!0,"is-overview-tab":"","help-page-path":e.helpPagePath}})]})),e._v(" "),e.commentsDisabled?i("discussion-filter-note"):e._e()],2)]},proxy:!0}])})],1)}),[],!1,null,null,null);t.a=pe.exports},JBkr:function(e,t,i){"use strict";var n=i("odYa"),s=i.n(n),r=i("6IRw"),a=i.n(r);const o=s()(e=>new IntersectionObserver(e=>{e.forEach(e=>{e.target.$_gl_intersectionHandler(e)})},e||{}));const l={name:"GlIntersectionObserver",props:{options:{type:Object,required:!1,default:null}},mounted(){const e=o(this.options);this.$el.$_gl_intersectionHandler=e=>{this.$emit("update",e),e.isIntersecting?this.$emit("appear"):this.$emit("disappear")},this.$el.$_gl_intersectionObserver=e,e.observe(this.$el)},destroyed(){this.$el.$_gl_intersectionObserver.unobserve(this.$el),delete this.$el.$_gl_intersectionHandler,delete this.$el.$_gl_intersectionObserver},getObserver:o};const c=a()({render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._t("default")],2)},staticRenderFns:[]},void 0,l,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=c},Jrby:function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"c",(function(){return r})),i.d(t,"b",(function(){return a})),i.d(t,"f",(function(){return o})),i.d(t,"a",(function(){return l})),i.d(t,"e",(function(){return c}));var n=i("t9l/");const s=Object(n.a)("Something went wrong on our end. Please try again!"),r={optionsDropdownTitle:Object(n.a)("Options"),fileReviewLabel:Object(n.a)("Viewed"),fileReviewTooltip:Object(n.a)("Collapses this file (only for you) until its changed again.")},a={tooLarge:Object(n.g)("MRDiffFile|Changes are too large to be shown."),blobView:Object(n.g)("MRDiffFile|View file @ %{commitSha}"),editInFork:Object(n.a)("You're not allowed to %{tag_start}edit%{tag_end} files in this project directly. Please fork this project, make your changes there, and submit a merge request."),fork:Object(n.a)("Fork"),cancel:Object(n.a)("Cancel"),autoCollapsed:Object(n.a)("Files with large changes are collapsed by default."),expand:Object(n.a)("Expand file")},o={whitespace:Object(n.a)("Show whitespace changes"),fileByFile:Object(n.a)("Show one file at a time"),preferences:Object(n.a)("Preferences")},l={both_modified:Object(n.a)("Conflict: This file was modified in both the source and target branches."),modified_source_removed_target:Object(n.a)("Conflict: This file was modified in the source branch, but removed in the target branch."),modified_target_removed_source:Object(n.a)("Conflict: This file was removed in the source branch, but modified in the target branch."),renamed_same_file:Object(n.a)("Conflict: This file was renamed differently in the source and target branches."),removed_source_renamed_target:Object(n.a)("Conflict: This file was removed in the source branch, but renamed in the target branch."),removed_target_renamed_source:Object(n.a)("Conflict: This file was renamed in the source branch, but removed in the target branch."),both_added:Object(n.a)("Conflict: This file was added both in the source and target branches, but with different contents.")},c=Object(n.a)("Hide comments")},JzpF:function(e,t,i){"use strict";var n=i("cuRJ"),s=i("F+K/"),r=i("9LGn"),a=i("CkNe"),o=i("Zxcm"),l=i("5ggI"),c=i("sFNI"),d={components:{NoteableNote:l.a,PublishButton:c.a,GlButton:n.a,GlBadge:s.a},directives:{SafeHtml:r.a},mixins:[Object(o.a)()],props:{draft:{type:Object,required:!0},line:{type:Object,required:!1,default:null}},data:()=>({isEditingDraft:!1}),computed:{...Object(a.f)("batchComments",["isPublishing"]),...Object(a.d)("batchComments",["isPublishingDraft"]),draftCommands(){return this.draft.references.commands}},mounted(){window.location.hash&&window.location.hash==="#note_"+this.draft.id&&this.scrollToDraft(this.draft)},methods:{...Object(a.c)("batchComments",["deleteDraft","updateDraft","publishSingleDraft","scrollToDraft","toggleResolveDiscussion"]),...Object(a.c)(["setSelectedCommentPositionHover"]),update(e){this.updateDraft(e)},publishNow(){this.publishSingleDraft(this.draft.id)},handleEditing(){this.isEditingDraft=!0},handleNotEditing(){this.isEditingDraft=!1},handleMouseEnter(e){e.position&&this.setSelectedCommentPositionHover(e.position.line_range)},handleMouseLeave(e){e.position&&this.setSelectedCommentPositionHover()}},safeHtmlConfig:{ADD_TAGS:["use","gl-emoji","copy-code"]}},u=i("bPvS"),p=Object(u.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("article",{staticClass:"draft-note-component note-wrapper",on:{mouseenter:function(t){return e.handleMouseEnter(e.draft)},mouseleave:function(t){return e.handleMouseLeave(e.draft)}}},[i("ul",{staticClass:"notes draft-notes"},[i("noteable-note",{staticClass:"draft-note",class:{"gl-mb-0!":e.glFeatures.mrReviewSubmitComment},attrs:{note:e.draft,line:e.line,"discussion-root":!0},on:{handleEdit:e.handleEditing,cancelForm:e.handleNotEditing,updateSuccess:e.handleNotEditing,handleDeleteNote:e.deleteDraft,handleUpdateNote:e.update,toggleResolveStatus:function(t){return e.toggleResolveDiscussion(e.draft.id)}},scopedSlots:e._u([{key:"note-header-info",fn:function(){return[i("gl-badge",{staticClass:"gl-mr-2",attrs:{variant:"warning"}},[e._v(e._s(e.__("Pending")))])]},proxy:!0}])})],1),e._v(" "),e.isEditingDraft?e._e():[e.draftCommands?i("div",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.draftCommands,expression:"draftCommands",arg:e.$options.safeHtmlConfig}],staticClass:"referenced-commands draft-note-commands"}):e._e(),e._v(" "),e.glFeatures.mrReviewSubmitComment?e._e():i("p",{staticClass:"draft-note-actions d-flex"},[i("publish-button",{attrs:{"show-count":!0,"should-publish":!1,category:"secondary",disabled:e.isPublishingDraft(e.draft.id)}}),e._v(" "),i("gl-button",{staticClass:"gl-ml-3",attrs:{disabled:e.isPublishing,loading:e.isPublishingDraft(e.draft.id)},on:{click:e.publishNow}},[e._v("\n        "+e._s(e.__("Add comment now"))+"\n      ")])],1)]],2)}),[],!1,null,null,null);t.a=p.exports},K0NN:function(e,t,i){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WorkItemWidgets"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidget"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetDescription"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"descriptionHtml"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastEditedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastEditedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webPath"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetAssignees"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allowsMultipleAssignees"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canInviteMembers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetLabels"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Label"},directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetStartAndDueDate"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startDate"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetHierarchy"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"children"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetMilestone"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MilestoneFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:986}};n.loc.source={body:'#import "~/graphql_shared/fragments/label.fragment.graphql"\n#import "~/graphql_shared/fragments/user.fragment.graphql"\n#import "~/work_items/graphql/milestone.fragment.graphql"\n\nfragment WorkItemWidgets on WorkItemWidget {\n  ... on WorkItemWidgetDescription {\n    type\n    description\n    descriptionHtml\n    lastEditedAt\n    lastEditedBy {\n      name\n      webPath\n    }\n  }\n  ... on WorkItemWidgetAssignees {\n    type\n    allowsMultipleAssignees\n    canInviteMembers\n    assignees {\n      nodes {\n        ...User\n      }\n    }\n  }\n  ... on WorkItemWidgetLabels {\n    type\n    labels {\n      nodes {\n        ...Label\n      }\n    }\n  }\n  ... on WorkItemWidgetStartAndDueDate {\n    type\n    dueDate\n    startDate\n  }\n  ... on WorkItemWidgetHierarchy {\n    type\n    parent {\n      id\n      iid\n      title\n      confidential\n    }\n    children {\n      nodes {\n        id\n      }\n    }\n  }\n  ... on WorkItemWidgetMilestone {\n    type\n    milestone {\n      ...MilestoneFragment\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}n.definitions=n.definitions.concat(r(i("NwwH").definitions)),n.definitions=n.definitions.concat(r(i("yXJ/").definitions)),n.definitions=n.definitions.concat(r(i("fFSh").definitions));var a={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.WorkItemWidgets=function(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}(n,"WorkItemWidgets")},K4Wm:function(e,t,i){"use strict";var n=i("teVv"),s=i("t9l/");t.a={computed:{discussionResolved(){return this.discussion?Boolean(this.discussion.resolved):this.note.resolved},resolveButtonTitle(){return this.updatedNoteBody?this.discussionResolved?Object(s.a)("Comment & unresolve thread"):Object(s.a)("Comment & resolve thread"):this.discussionResolved?Object(s.a)("Unresolve thread"):Object(s.a)("Resolve thread")}},methods:{resolveHandler(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.note&&this.note.isDraft)return this.$emit("toggleResolveStatus");this.isResolving=!0;const i=this.discussionResolved||t,r=this.resolveAsThread;let a=r&&this.discussion?this.discussion.resolve_path:this.note.path+"/resolve";return this.discussionResolvePath&&(a=this.discussionResolvePath),this.toggleResolveNote({endpoint:a,isResolved:i,discussion:r}).then((function(){e.isResolving=!1})).catch((function(){e.isResolving=!1;const t=Object(s.a)("Something went wrong while resolving this discussion. Please try again.");Object(n.createAlert)({message:t,parent:e.$el})}))}}}},KLkI:function(e,t,i){"use strict";var n=i("cuRJ"),s=i("WiJj"),r={components:{GlButton:n.a},props:{isTodo:{type:Boolean,required:!1,default:!0}},computed:{buttonLabel(){return Object(s.a)(this.isTodo)}},methods:{incrementGlobalTodoCount(){Object(s.b)(1)},decrementGlobalTodoCount(){Object(s.b)(-1)},onToggle(e){this.isTodo?this.decrementGlobalTodoCount():this.incrementGlobalTodoCount(),this.$emit("click",e)}}},a=i("bPvS"),o=Object(a.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("gl-button",e._b({attrs:{"aria-label":e.buttonLabel},on:{click:function(t){return e.onToggle(t)}}},"gl-button",e.$attrs,!1),[e._v("\n  "+e._s(e.buttonLabel)+"\n")])}),[],!1,null,null,null);t.a=o.exports},KZOo:function(e,t,i){var n=i("qGI4"),s=i("YK+j"),r=i("T5M9"),a=i("WkmZ"),o=r((function(e){var t=n(e,a);return t.length&&t[0]===e[0]?s(t):[]}));e.exports=o},KZmS:function(e,t,i){"use strict";i("WmlO"),i("3R5X"),i("W9Nl"),i("ujLG"),i("HaUQ");var n=i("teVv"),s=i("+lve"),r=i("t9l/"),a=i("6/mp"),o=i("mphk");var l=class{constructor(e){this.endpoint=e}fetchRelatedIssues(){return o.a.get(this.endpoint)}addRelatedIssues(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.o.RELATES_TO;return o.a.post(this.endpoint,{issuable_references:e,link_type:t})}static saveOrder(e){let{endpoint:t,move_before_id:i,move_after_id:n}=e;return o.a.put(t,{epic:{move_before_id:i,move_after_id:n}})}static remove(e){return o.a.delete(e)}},c=i("oj/M");var d=class{constructor(){this.state={relatedIssues:[],pendingReferences:[]}}setRelatedIssues(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.state.relatedIssues=Object(c.i)(e,{deep:!0})}addRelatedIssues(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setRelatedIssues(this.state.relatedIssues.concat(e))}removeRelatedIssue(e){this.state.relatedIssues=this.state.relatedIssues.filter((function(t){return t.id!==e.id}))}updateIssueOrder(e,t){if(this.state.relatedIssues.length>0){const i=this.state.relatedIssues.splice(e,1)[0];this.state.relatedIssues.splice(t,0,i)}}setPendingReferences(e){this.state.pendingReferences=e.filter((function(t,i){return e.indexOf(t)===i}))}addPendingReferences(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=this.state.pendingReferences.concat(e);this.setPendingReferences(t)}removePendingRelatedIssue(e){this.state.pendingReferences=this.state.pendingReferences.filter((function(t,i){return i!==e}))}},u=(i("uHfJ"),i("R0RX"),i("u1ru")),p=i("cuRJ"),h=i("H8gz"),m=i("tXCq"),f=i("cqb2"),g=i("yYHy"),v=i("6oy4"),b=i.n(v),y=i("xhFg"),k=i("ly/8"),w=i("U2+R"),_={name:"IssueToken",components:{GlIcon:h.a},directives:{GlTooltip:k.a},mixins:[w.a],props:{isCondensed:{type:Boolean,required:!1,default:!1}},computed:{removeButtonLabel(){const{displayReference:e}=this;return Object(r.h)(Object(r.a)("Remove %{displayReference}"),{displayReference:e},!1)},stateTitle(){return this.isCondensed?"":this.isOpen?Object(r.a)("Open"):Object(r.a)("Closed")},innerComponentType(){return this.isCondensed?"span":"div"},issueTitle(){return this.isCondensed?this.title:""}}},S=i("bPvS"),E=Object(S.a)(_,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{"issue-token gl-display-inline-flex gl-align-items-stretch gl-max-w-full gl-line-height-24 gl-white-space-nowrap":e.isCondensed,"flex-row issuable-info-container":!e.isCondensed}},[i(e.computedLinkElementType,{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"link",tag:"component",class:{"issue-token-link gl-display-inline-flex gl-min-w-0 gl-text-gray-500":e.isCondensed,"issuable-main-info":!e.isCondensed},attrs:{href:e.computedPath,title:e.issueTitle,"data-placement":"top"}},[e.hasTitle?i(e.innerComponentType,{ref:"title",tag:"component",staticClass:"js-issue-token-title",class:{"issue-token-title issue-token-end gl-overflow-hidden gl-display-flex gl-align-items-baseline gl-text-gray-500 gl-pl-3":e.isCondensed,"issue-title block-truncated":!e.isCondensed,"gl-rounded-top-right-small gl-rounded-bottom-right-small gl-pr-3":!e.canRemove}},[i("span",{staticClass:"gl-text-truncate"},[e._v(e._s(e.title))])]):e._e(),e._v(" "),i(e.innerComponentType,{ref:"reference",tag:"component",class:{"issue-token-reference gl-display-flex gl-align-items-center gl-rounded-top-left-small gl-rounded-bottom-left-small gl-px-3":e.isCondensed,"issuable-info":!e.isCondensed}},[e.hasState?i("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],class:e.iconClass,attrs:{name:e.iconName,size:12,title:e.stateTitle,"aria-label":e.state,"data-testid":"referenceIcon"}}):e._e(),e._v("\n      "+e._s(e.displayReference)+"\n    ")],1)],1),e._v(" "),e.canRemove?i("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"removeButton",class:{"issue-token-remove-button gl-display-flex gl-align-items-center gl-px-3 gl-border-0 gl-rounded-top-right-small gl-rounded-bottom-right-small gl-text-gray-500":e.isCondensed,"btn btn-default":!e.isCondensed},attrs:{title:e.removeButtonLabel,"aria-label":e.removeButtonLabel,disabled:e.removeDisabled,"data-testid":"removeBtn",type:"button"},on:{click:e.onRemoveRequest}},[i("gl-icon",{attrs:{name:"close"}})],1):e._e()],1)}),[],!1,null,null,null).exports;var D={name:"RelatedIssuableInput",components:{IssueToken:E},props:{inputId:{type:String,required:!1,default:""},references:{type:Array,required:!1,default:function(){return[]}},pathIdSeparator:{type:String,required:!0},inputValue:{type:String,required:!1,default:""},focusOnMount:{type:Boolean,required:!1,default:!1},autoCompleteSources:{type:Object,required:!1,default:function(){return{}}},autoCompleteOptions:{type:Object,required:!1,default:function(){return{}}},issuableType:{type:String,required:!1,default:a.h.ISSUE},confidential:{type:Boolean,required:!1,default:!1}},data:()=>({isInputFocused:!1,isAutoCompleteOpen:!1,areEventsAssigned:!1}),computed:{inputPlaceholder(){const{issuableType:e,allowAutoComplete:t,confidential:i}=this,n=i?a.e:a.f,s=a.d[t][e];return`${n[e]}${s}`},allowAutoComplete(){return Object.keys(this.autoCompleteSources).length>0}},mounted(){var e=this;this.setupAutoComplete(),this.focusOnMount&&this.$nextTick().then((function(){e.$refs.input.focus()})).catch((function(){}))},beforeUpdate(){this.setupAutoComplete()},beforeDestroy(){const e=b()(this.$refs.input);e.off("shown-issues.atwho"),e.off("hidden-issues.atwho"),e.off("inserted-issues.atwho",this.onInput)},methods:{onAutoCompleteToggled(e){this.isAutoCompleteOpen=e},onInput(){const{value:e}=this.$refs.input,t=this.$refs.input.selectionStart,i=e.split(/\s/);let n,s=0;const r=i.filter((function(e){let i=!1;return t>=s&&t<=s+e.length&&(n=e,i=!0),s=s+e.length+1,!i})).filter((function(e){return e.trim().length>0}));this.$emit("addIssuableFormInput",{newValue:e,untouchedRawReferences:r,touchedReference:n,caretPos:t})},onBlur(e){const t=this.$root.$el.querySelector(".js-button-container");if(!(t&&t.contains(e.relatedTarget)||(this.isInputFocused=!1,this.isAutoCompleteOpen))){const{value:e}=this.$refs.input;e!==this.pathIdSeparator&&this.$emit("addIssuableFormBlur",e)}},onFocus(){this.isInputFocused=!0},setupAutoComplete(){const e=b()(this.$refs.input);this.allowAutoComplete&&(this.gfmAutoComplete=new y.a(this.autoCompleteSources),this.gfmAutoComplete.setup(e,this.autoCompleteOptions)),this.areEventsAssigned||(e.on("shown-issues.atwho",this.onAutoCompleteToggled.bind(this,!0)),e.on("hidden-issues.atwho",this.onAutoCompleteToggled.bind(this,!0))),this.areEventsAssigned=!0},onIssuableFormWrapperClick(){this.$refs.input.focus()}}},T=Object(S.a)(D,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"issuableFormWrapper",staticClass:"add-issuable-form-input-wrapper form-control gl-field-error-outline gl-h-auto gl-p-3 gl-pb-2",class:{focus:e.isInputFocused},attrs:{role:"button"},on:{click:e.onIssuableFormWrapperClick}},[i("ul",{staticClass:"gl-display-flex gl-flex-wrap gl-align-items-baseline gl-list-style-none gl-m-0 gl-p-0"},[e._l(e.references,(function(t,n){return i("li",{key:t,staticClass:"gl-max-w-full gl-mb-2 gl-mr-2"},[i("issue-token",{attrs:{"id-key":n,"display-reference":t.text||t,"can-remove":"","is-condensed":"","path-id-separator":e.pathIdSeparator,"event-namespace":"pendingIssuable"},on:{pendingIssuableRemoveRequest:function(t){e.$emit("pendingIssuableRemoveRequest",t)}}})],1)})),e._v(" "),i("li",{staticClass:"gl-mb-2 gl-flex-grow-1"},[i("input",{ref:"input",staticClass:"gl-w-full gl-border-none gl-outline-0",attrs:{id:e.inputId,placeholder:e.inputPlaceholder,"aria-label":e.inputPlaceholder,type:"text","data-qa-selector":"add_issue_field",autocomplete:"off"},domProps:{value:e.inputValue},on:{input:e.onInput,focus:e.onFocus,blur:e.onBlur,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"escape",void 0,t.key,void 0)||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.$emit("addIssuableFormCancel")}}})])],2)])}),[],!1,null,null,null).exports,C={name:"AddIssuableForm",components:{GlFormGroup:m.a,GlFormRadioGroup:f.a,RelatedIssuableInput:T,GlButton:p.a},props:{inputValue:{type:String,required:!0},pendingReferences:{type:Array,required:!1,default:function(){return[]}},autoCompleteSources:{type:Object,required:!1,default:function(){return{}}},showCategorizedIssues:{type:Boolean,required:!1,default:!1},isSubmitting:{type:Boolean,required:!1,default:!1},pathIdSeparator:{type:String,required:!0},issuableType:{type:String,required:!1,default:a.h.ISSUE},hasError:{type:Boolean,required:!1,default:!1},itemAddFailureType:{type:String,required:!1,default:a.n.NOT_FOUND},itemAddFailureMessage:{type:String,required:!1,default:""},confidential:{type:Boolean,required:!1,default:!1},autoCompleteEpics:{type:Boolean,required:!1,default:!0},autoCompleteIssues:{type:Boolean,required:!1,default:!0}},data:()=>({linkedIssueType:a.o.RELATES_TO,linkedIssueTypes:[{text:Object(r.a)("relates to"),value:a.o.RELATES_TO},{text:Object(r.a)("blocks"),value:a.o.BLOCKS},{text:Object(r.a)("is blocked by"),value:a.o.IS_BLOCKED_BY}]}),computed:{isSubmitButtonDisabled(){return 0===this.inputValue.length&&0===this.pendingReferences.length||this.isSubmitting},addRelatedErrorMessage(){return this.itemAddFailureMessage?this.itemAddFailureMessage:this.itemAddFailureType===a.n.NOT_FOUND?a.b[this.issuableType]:a.c[this.itemAddFailureType]},transformedAutocompleteSources(){var e,t;return this.confidential&&null!==(e=this.autoCompleteSources)&&void 0!==e&&e.issues&&null!==(t=this.autoCompleteSources)&&void 0!==t&&t.epics?{...this.autoCompleteSources,issues:Object(g.y)({confidential_only:!0},this.autoCompleteSources.issues),epics:Object(g.y)({confidential_only:!0},this.autoCompleteSources.epics)}:this.autoCompleteSources},issuableCategoryHeaderText(){return a.l[this.issuableType]},issuableInputText(){return a.m[this.issuableType]}},methods:{onPendingIssuableRemoveRequest(e){this.$emit("pendingIssuableRemoveRequest",e)},onFormSubmit(){this.$emit("addIssuableFormSubmit",{pendingReferences:this.$refs.relatedIssuableInput.$refs.input.value,linkedIssueType:this.linkedIssueType})},onFormCancel(){this.$emit("addIssuableFormCancel")},onAddIssuableFormInput(e){this.$emit("addIssuableFormInput",e)},onAddIssuableFormBlur(e){this.$emit("addIssuableFormBlur",e)}}},I=Object(S.a)(C,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{on:{submit:function(t){return t.preventDefault(),e.onFormSubmit.apply(null,arguments)}}},[e.showCategorizedIssues?[i("gl-form-group",{staticClass:"gl-mb-3",attrs:{label:e.issuableCategoryHeaderText,"label-for":"linked-issue-type-radio","label-class":"label-bold"}},[i("gl-form-radio-group",{attrs:{id:"linked-issue-type-radio",options:e.linkedIssueTypes,checked:e.linkedIssueType},model:{value:e.linkedIssueType,callback:function(t){e.linkedIssueType=t},expression:"linkedIssueType"}})],1),e._v(" "),i("p",{staticClass:"bold"},[e._v("\n      "+e._s(e.issuableInputText)+"\n    ")])]:e._e(),e._v(" "),i("related-issuable-input",{ref:"relatedIssuableInput",attrs:{"input-id":"add-related-issues-form-input",confidential:e.confidential,"focus-on-mount":!0,references:e.pendingReferences,"path-id-separator":e.pathIdSeparator,"input-value":e.inputValue,"auto-complete-sources":e.transformedAutocompleteSources,"auto-complete-options":{issues:e.autoCompleteIssues,epics:e.autoCompleteEpics},"issuable-type":e.issuableType},on:{pendingIssuableRemoveRequest:e.onPendingIssuableRemoveRequest,formCancel:e.onFormCancel,addIssuableFormBlur:e.onAddIssuableFormBlur,addIssuableFormInput:e.onAddIssuableFormInput}}),e._v(" "),e.hasError?i("p",{staticClass:"gl-field-error"},[e._v("\n    "+e._s(e.addRelatedErrorMessage)+"\n  ")]):e._e(),e._v(" "),i("div",{staticClass:"gl-mt-5"},[i("gl-button",{ref:"addButton",staticClass:"gl-mr-2",attrs:{category:"primary",variant:"confirm",disabled:e.isSubmitButtonDisabled,loading:e.isSubmitting,type:"submit",size:"small","data-qa-selector":"add_issue_button"}},[e._v("\n      "+e._s(e.__("Add"))+"\n    ")]),e._v(" "),i("gl-button",{attrs:{size:"small"},on:{click:e.onFormCancel}},[e._v("\n      "+e._s(e.__("Cancel"))+"\n    ")])],1)],2)}),[],!1,null,null,null).exports,O=i("zLBL"),j=i("d80H"),x=i("xV1n"),A=i("vSQ9"),N={components:{GlLoadingIcon:O.a,RelatedIssuableItem:x.a},props:{canAdmin:{type:Boolean,required:!1,default:!1},canReorder:{type:Boolean,required:!1,default:!1},listLinkType:{type:String,required:!1,default:""},heading:{type:String,required:!1,default:""},isFetching:{type:Boolean,required:!1,default:!1},issuableType:{type:String,required:!0},pathIdSeparator:{type:String,required:!0},relatedIssues:{type:Array,required:!1,default:function(){return[]}}},mounted(){this.canReorder&&(this.sortable=j.default.create(this.$refs.list,{...A.b,onStart:this.addDraggingCursor,onEnd:this.reordered}))},methods:{getBeforeAfterId(e){const t=e.previousElementSibling,i=e.nextElementSibling;return{beforeId:t&&parseInt(t.dataset.orderingId,10),afterId:i&&parseInt(i.dataset.orderingId,10)}},reordered(e){this.removeDraggingCursor();const{beforeId:t,afterId:i}=this.getBeforeAfterId(e.item),{oldIndex:n,newIndex:s}=e;this.$emit("saveReorder",{issueId:parseInt(e.item.dataset.key,10),oldIndex:n,newIndex:s,afterId:i,beforeId:t})},addDraggingCursor(){document.body.classList.add("is-dragging")},removeDraggingCursor(){document.body.classList.remove("is-dragging")},issuableOrderingId(e){let{epicIssueId:t,id:i}=e;return"issue"===this.issuableType?t:i}}},F=Object(S.a)(N,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{"data-link-type":e.listLinkType}},[e.heading?i("h4",{staticClass:"gl-font-base mt-0"},[e._v(e._s(e.heading))]):e._e(),e._v(" "),i("div",{staticClass:"related-issues-token-body bordered-box bg-white",class:{"sortable-container":e.canReorder}},[e.isFetching?i("div",{staticClass:"gl-mb-2",attrs:{"data-qa-selector":"related_issues_loading_placeholder"}},[i("gl-loading-icon",{ref:"loadingIcon",staticClass:"gl-mt-2",attrs:{size:"sm",label:"Fetching linked issues"}})],1):e._e(),e._v(" "),i("ul",{ref:"list",staticClass:"related-items-list",class:{"content-list":!e.canReorder}},e._l(e.relatedIssues,(function(t){return i("li",{key:t.id,staticClass:"js-related-issues-token-list-item list-item pt-0 pb-0",class:{"gl-cursor-grab":e.canReorder,"sortable-row":e.canReorder,"card card-slim":e.canReorder},attrs:{"data-key":t.id,"data-ordering-id":e.issuableOrderingId(t)}},[i("related-issuable-item",{attrs:{"id-key":t.id,"display-reference":t.reference,confidential:t.confidential,title:t.title,path:t.path,state:t.state,milestone:t.milestone,assignees:t.assignees,"created-at":t.createdAt,"closed-at":t.closedAt,weight:t.weight,"due-date":t.dueDate,"can-remove":e.canAdmin,"can-reorder":e.canReorder,"path-id-separator":e.pathIdSeparator,"is-locked":t.lockIssueRemoval,"locked-message":t.lockedMessage,"work-item-type":t.type,"event-namespace":"relatedIssue","data-qa-selector":"related_issuable_content"},on:{relatedIssueRemoveRequest:function(t){return e.$emit("relatedIssueRemoveRequest",t)}}})],1)})),0)])])}),[],!1,null,null,null).exports,L={name:"RelatedIssuesBlock",components:{GlLink:u.a,GlButton:p.a,GlIcon:h.a,AddIssuableForm:I,RelatedIssuesList:F},props:{isFetching:{type:Boolean,required:!1,default:!1},isSubmitting:{type:Boolean,required:!1,default:!1},relatedIssues:{type:Array,required:!1,default:function(){return[]}},canAdmin:{type:Boolean,required:!1,default:!1},canReorder:{type:Boolean,required:!1,default:!1},isFormVisible:{type:Boolean,required:!1,default:!1},pendingReferences:{type:Array,required:!1,default:function(){return[]}},inputValue:{type:String,required:!1,default:""},pathIdSeparator:{type:String,required:!0},helpPath:{type:String,required:!1,default:""},autoCompleteSources:{type:Object,required:!1,default:function(){return{}}},issuableType:{type:String,required:!0},showCategorizedIssues:{type:Boolean,required:!1,default:!0},autoCompleteEpics:{type:Boolean,required:!1,default:!0},autoCompleteIssues:{type:Boolean,required:!1,default:!0},hasError:{type:Boolean,required:!1,default:!1},itemAddFailureMessage:{type:String,required:!1,default:""}},data:()=>({isOpen:!0}),computed:{hasRelatedIssues(){return this.relatedIssues.length>0},categorisedIssues(){var e=this;return this.showCategorizedIssues?Object.values(a.o).map((function(t){return{linkType:t,issues:e.relatedIssues.filter((function(e){return e.linkType===t}))}})).filter((function(e){return e.issues.length>0})):[{issues:this.relatedIssues}]},shouldShowTokenBody(){return this.hasRelatedIssues||this.isFetching},headerText(){return a.j[this.issuableType]},helpLinkText(){return a.k[this.issuableType]},addIssuableButtonText(){return a.i[this.issuableType]},badgeLabel(){return this.isFetching&&0===this.relatedIssues.length?"...":this.relatedIssues.length},hasHelpPath(){return this.helpPath.length>0},issuableTypeIcon(){return a.g[this.issuableType]},toggleIcon(){return this.isOpen?"chevron-lg-up":"chevron-lg-down"},toggleLabel(){return this.isOpen?Object(r.a)("Collapse"):Object(r.a)("Expand")},emptyStateMessage(){return this.showCategorizedIssues?Object(r.h)(this.$options.i18n.emptyItemsPremium,{issuableType:this.issuableType}):Object(r.h)(this.$options.i18n.emptyItemsFree,{issuableType:this.issuableType})}},methods:{handleToggle(){this.isOpen=!this.isOpen},addButtonClick(e){this.isOpen=!0,this.$emit("toggleAddRelatedIssuesForm",e)}},linkedIssueTypesTextMap:a.p,i18n:{emptyItemsFree:Object(r.a)("Link %{issuableType}s together to show that they're related."),emptyItemsPremium:Object(r.a)("Link %{issuableType}s together to show that they're related or that one is blocking others.")}},P={name:"RelatedIssuesRoot",components:{RelatedIssuesBlock:Object(S.a)(L,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"related-issues-block",attrs:{id:"related-issues"}},[i("div",{staticClass:"card card-slim gl-overflow-hidden gl-mt-5 gl-mb-0"},[i("div",{staticClass:"gl-display-flex gl-justify-content-space-between gl-line-height-24 gl-py-3 gl-px-5 gl-bg-gray-10 gl-border-b-solid gl-border-b-gray-100",class:{"gl-border-b-1":e.isOpen,"gl-border-b-0":!e.isOpen}},[i("h3",{staticClass:"card-title h5 gl-my-0 gl-display-flex gl-align-items-center gl-flex-grow-1"},[i("gl-link",{staticClass:"anchor position-absolute gl-text-decoration-none",attrs:{id:"user-content-related-issues",href:"#related-issues","aria-hidden":"true"}}),e._v(" "),e._t("header-text",(function(){return[e._v(e._s(e.headerText))]})),e._v(" "),i("div",{staticClass:"js-related-issues-header-issue-count gl-display-inline-flex gl-mx-3"},[i("span",{staticClass:"gl-display-inline-flex gl-align-items-center"},[i("gl-icon",{staticClass:"gl-mr-2 gl-text-gray-500",attrs:{name:e.issuableTypeIcon}}),e._v("\n            "+e._s(e.badgeLabel)+"\n          ")],1)])],2),e._v(" "),e._t("header-actions"),e._v(" "),e.canAdmin?i("gl-button",{staticClass:"gl-ml-3",attrs:{size:"small","data-qa-selector":"related_issues_plus_button","data-testid":"related-issues-plus-button","aria-label":e.addIssuableButtonText},on:{click:e.addButtonClick}},[e._t("add-button-text",(function(){return[e._v(e._s(e.__("Add")))]}))],2):e._e(),e._v(" "),i("div",{staticClass:"gl-pl-3 gl-ml-3 gl-border-l-1 gl-border-l-solid gl-border-l-gray-100"},[i("gl-button",{attrs:{category:"tertiary",size:"small",icon:e.toggleIcon,"aria-label":e.toggleLabel,"data-testid":"toggle-links"},on:{click:e.handleToggle}})],1)],2),e._v(" "),e.isOpen?i("div",{staticClass:"linked-issues-card-body gl-bg-gray-10",class:{"gl-p-5":e.isFormVisible||e.shouldShowTokenBody},attrs:{"data-testid":"related-issues-body"}},[e.isFormVisible?i("div",{staticClass:"js-add-related-issues-form-area card-body bordered-box bg-white",class:{"gl-mb-5":e.shouldShowTokenBody,"gl-show-field-errors":e.hasError}},[i("add-issuable-form",{attrs:{"show-categorized-issues":e.showCategorizedIssues,"is-submitting":e.isSubmitting,"issuable-type":e.issuableType,"input-value":e.inputValue,"pending-references":e.pendingReferences,"auto-complete-sources":e.autoCompleteSources,"auto-complete-epics":e.autoCompleteEpics,"auto-complete-issues":e.autoCompleteIssues,"path-id-separator":e.pathIdSeparator,"has-error":e.hasError,"item-add-failure-message":e.itemAddFailureMessage},on:{pendingIssuableRemoveRequest:function(t){return e.$emit("pendingIssuableRemoveRequest",t)},addIssuableFormInput:function(t){return e.$emit("addIssuableFormInput",t)},addIssuableFormBlur:function(t){return e.$emit("addIssuableFormBlur",t)},addIssuableFormSubmit:function(t){return e.$emit("addIssuableFormSubmit",t)},addIssuableFormCancel:function(t){return e.$emit("addIssuableFormCancel",t)}}})],1):e._e(),e._v(" "),e.shouldShowTokenBody?e._l(e.categorisedIssues,(function(t,n){return i("related-issues-list",{key:t.linkType,class:{"gl-mt-5":n>0},attrs:{"list-link-type":t.linkType,heading:e.$options.linkedIssueTypesTextMap[t.linkType],"can-admin":e.canAdmin,"can-reorder":e.canReorder,"is-fetching":e.isFetching,"issuable-type":e.issuableType,"path-id-separator":e.pathIdSeparator,"related-issues":t.issues},on:{relatedIssueRemoveRequest:function(t){return e.$emit("relatedIssueRemoveRequest",t)},saveReorder:function(t){return e.$emit("saveReorder",t)}}})})):e._e(),e._v(" "),e.shouldShowTokenBody||e.isFormVisible?e._e():i("div",{attrs:{"data-testid":"related-items-empty"}},[i("p",{staticClass:"gl-my-5 gl-px-5"},[e._v("\n          "+e._s(e.emptyStateMessage)+"\n          "),e.hasHelpPath?i("gl-link",{attrs:{href:e.helpPath,target:"_blank","data-testid":"help-link","aria-label":e.helpLinkText}},[e._v("\n            "+e._s(e.__("Learn more."))+"\n          ")]):e._e()],1)])],2):e._e()])])}),[],!1,null,null,null).exports},props:{endpoint:{type:String,required:!0},canAdmin:{type:Boolean,required:!1,default:!1},canReorder:{type:Boolean,required:!1,default:!1},helpPath:{type:String,required:!1,default:""},issuableType:{type:String,required:!1,default:a.h.ISSUE},allowAutoComplete:{type:Boolean,required:!1,default:!0},autoCompleteEpics:{type:Boolean,required:!1,default:!0},autoCompleteIssues:{type:Boolean,required:!1,default:!0},pathIdSeparator:{type:String,required:!1,default:a.a.Issue},cssClass:{type:String,required:!1,default:""},showCategorizedIssues:{type:Boolean,required:!1,default:!0}},data(){return this.store=new d,{state:this.store.state,isFetching:!1,isSubmitting:!1,isFormVisible:!1,inputValue:"",hasError:!1,errorMessage:null}},computed:{autoCompleteSources(){return this.allowAutoComplete?gl.GfmAutoComplete&&gl.GfmAutoComplete.dataSources:{}}},created(){this.service=new l(this.endpoint),this.fetchRelatedIssues()},methods:{findRelatedIssueById(e){return this.state.relatedIssues.find((function(t){return t.id===e}))},onRelatedIssueRemoveRequest(e){var t=this;if(Object(s.e)(e)){const t=Object(s.d)(e);return void(this.state.relatedIssues=this.state.relatedIssues.filter((function(e){return e.id!==t})))}const i=this.findRelatedIssueById(e);i?l.remove(i.relationPath).then((function(e){let{data:i}=e;t.store.setRelatedIssues(i.issuables)})).catch((function(e){e&&404!==e.status&&Object(n.createAlert)({message:a.r[t.issuableType]})})):Object(n.createAlert)({message:a.q[this.issuableType]})},onToggleAddRelatedIssuesForm(){this.isFormVisible=!this.isFormVisible},onPendingIssueRemoveRequest(e){this.store.removePendingRelatedIssue(e)},onPendingFormSubmit(e){var t=this;this.processAllReferences(e.pendingReferences),this.state.pendingReferences.length>0&&(this.isSubmitting=!0,this.service.addRelatedIssues(this.state.pendingReferences,e.linkedIssueType).then((function(e){let{data:i}=e;t.store.setPendingReferences([]),t.store.setRelatedIssues(i.issuables),t.isFormVisible=!1})).catch((function(e){let{response:i}=e;t.hasError=!0,t.errorMessage=a.b[t.issuableType],i&&i.data&&i.data.message&&(t.errorMessage=i.data.message)})).finally((function(){t.isSubmitting=!1})))},onPendingFormCancel(){this.isFormVisible=!1,this.store.setPendingReferences([]),this.inputValue=""},fetchRelatedIssues(){var e=this;this.isFetching=!0,this.service.fetchRelatedIssues().then((function(t){let{data:i}=t;e.store.setRelatedIssues(i)})).catch((function(){e.store.setRelatedIssues([]),Object(n.createAlert)({message:Object(r.a)("An error occurred while fetching issues.")})})).finally((function(){e.isFetching=!1}))},saveIssueOrder(e){var t=this;let{issueId:i,beforeId:s,afterId:a,oldIndex:o,newIndex:c}=e;const d=this.findRelatedIssueById(i);d&&l.saveOrder({endpoint:d.relationPath,move_before_id:s,move_after_id:a}).then((function(e){let{data:i}=e;i.message||t.store.updateIssueOrder(o,c)})).catch((function(){Object(n.createAlert)({message:Object(r.a)("An error occurred while reordering issues.")})}))},onInput(e){let{untouchedRawReferences:t,touchedReference:i}=e;this.store.addPendingReferences(t),this.formatInput(i)},formatInput(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(null!==String(e).match(/^[0-9]/)){const{pathIdSeparator:t}=this;this.inputValue=`${t}${e}`}else this.inputValue=""+e},onBlur(e){this.processAllReferences(e)},processAllReferences(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(/\s+/).filter((function(e){return e.trim().length>0}));this.store.addPendingReferences(e),this.inputValue=""}}},R=Object(S.a)(P,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("related-issues-block",{class:e.cssClass,attrs:{"help-path":e.helpPath,"is-fetching":e.isFetching,"is-submitting":e.isSubmitting,"related-issues":e.state.relatedIssues,"can-admin":e.canAdmin,"can-reorder":e.canReorder,"pending-references":e.state.pendingReferences,"is-form-visible":e.isFormVisible,"input-value":e.inputValue,"auto-complete-sources":e.autoCompleteSources,"auto-complete-epics":e.autoCompleteEpics,"auto-complete-issues":e.autoCompleteIssues,"issuable-type":e.issuableType,"path-id-separator":e.pathIdSeparator,"show-categorized-issues":e.showCategorizedIssues,"has-error":e.hasError,"item-add-failure-message":e.errorMessage},on:{saveReorder:e.saveIssueOrder,toggleAddRelatedIssuesForm:e.onToggleAddRelatedIssuesForm,addIssuableFormInput:e.onInput,addIssuableFormBlur:e.onBlur,addIssuableFormSubmit:e.onPendingFormSubmit,addIssuableFormCancel:e.onPendingFormCancel,pendingIssuableRemoveRequest:e.onPendingIssueRemoveRequest,relatedIssueRemoveRequest:e.onRelatedIssueRemoveRequest}})}),[],!1,null,null,null);t.a=R.exports},Kfky:function(e,t,i){"use strict";var n=i("q+nE");t.a=function({idProp:e=(e=>e.item.id)}={}){const t={},i=new n.default({data:()=>({store:t})});return{data:()=>({idState:null}),created(){this.$_id=null,this.$_getId="function"==typeof e?()=>e.call(this,this):()=>this[e],this.$watch(this.$_getId,{handler(e){this.$nextTick(()=>{this.$_id=e})},immediate:!0}),this.$_updateIdState()},beforeUpdate(){this.$_updateIdState()},methods:{$_idStateInit(e){const n=this.$options.idState;if("function"==typeof n){const s=n.call(this,this);return i.$set(t,e,s),this.$_id=e,s}throw new Error("[mixin IdState] Missing `idState` function on component definition.")},$_updateIdState(){const i=this.$_getId();null==i&&console.warn(`No id found for IdState with idProp: '${e}'.`),i!==this.$_id&&(t[i]||this.$_idStateInit(i),this.idState=t[i])}}}}},Ks8L:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return r})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return o}));var n=i("tY3p");const s=function(e){return{endpoint:e.notesData.draftsPath,data:e}},r=function(e){return{endpoint:e.notesData.draftsPath,data:Object(n.h)(e)}},a=function(e,t){return e[t]?e[t].line_code:""},o=function(e,t){if(null===t)return!0;if("left"===t||"right"===t){const i="left"===t?"right":"left",n=e[t]&&e[t].line_code||"",s=e[i]&&e[i].line_code||"";if(n!==s||"left"===t&&n===s)return!0}return!1}},KunK:function(e,t,i){"use strict";(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i.d(t,"a",(function(){return c}));var a=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.observer=null,this.frozen=!1,this.createObserver(i,n)}var t,i,n;return t=e,(i=[{key:"createObserver",value:function(e,t){var i=this;if(this.observer&&this.destroyObserver(),!this.frozen){var n;if(this.options="function"==typeof(n=e)?{callback:n}:n,this.callback=function(e,t){i.options.callback(e,t),e&&i.options.once&&(i.frozen=!0,i.destroyObserver())},this.callback&&this.options.throttle){var s=(this.options.throttleOptions||{}).leading;this.callback=function(e,t){var i,n,s,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=function(o){for(var l=arguments.length,c=new Array(l>1?l-1:0),d=1;d<l;d++)c[d-1]=arguments[d];if(s=c,!i||o!==n){var u=a.leading;"function"==typeof u&&(u=u(o,n)),i&&o===n||!u||e.apply(void 0,[o].concat(r(s))),n=o,clearTimeout(i),i=setTimeout((function(){e.apply(void 0,[o].concat(r(s))),i=0}),t)}};return o._clear=function(){clearTimeout(i),i=null},o}(this.callback,this.options.throttle,{leading:function(e){return"both"===s||"visible"===s&&e||"hidden"===s&&!e}})}this.oldResult=void 0,this.observer=new IntersectionObserver((function(e){var t=e[0];if(e.length>1){var n=e.find((function(e){return e.isIntersecting}));n&&(t=n)}if(i.callback){var s=t.isIntersecting&&t.intersectionRatio>=i.threshold;if(s===i.oldResult)return;i.oldResult=s,i.callback(s,t)}}),this.options.intersection),t.context.$nextTick((function(){i.observer&&i.observer.observe(i.el)}))}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&"number"==typeof this.options.intersection.threshold?this.options.intersection.threshold:0}}])&&s(t.prototype,i),n&&s(t,n),e}();function o(e,t,i){var n=t.value;if(n)if("undefined"==typeof IntersectionObserver)console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var s=new a(e,n,i);e._vue_visibilityState=s}}function l(e){var t=e._vue_visibilityState;t&&(t.destroyObserver(),delete e._vue_visibilityState)}var c={bind:o,update:function(e,t,i){var s=t.value;if(!function e(t,i){if(t===i)return!0;if("object"===n(t)){for(var s in t)if(!e(t[s],i[s]))return!1;return!0}return!1}(s,t.oldValue)){var r=e._vue_visibilityState;s?r?r.createObserver(s,i):o(e,{value:s},i):l(e)}},unbind:l};var d={version:"1.0.0",install:function(e){e.directive("observe-visibility",c)}},u=null;"undefined"!=typeof window?u=window.Vue:void 0!==e&&(u=e.Vue),u&&u.use(d)}).call(this,i("uE4I"))},"L+KC":function(e,t,i){"use strict";var n=i("CkNe");t.a={computed:{...Object(n.d)(["getNoteableDataByProp"]),isProjectArchived(){return this.getNoteableDataByProp("is_project_archived")},archivedProjectDocsPath(){return this.getNoteableDataByProp("archived_project_docs_path")},lockedIssueDocsPath(){return this.getNoteableDataByProp("locked_discussion_docs_path")}},methods:{isLocked:e=>Boolean(e.discussion_locked)}}},L2Ca:function(e,t,i){"use strict";i("h8Et"),i("uHfJ"),i("R0RX");var n=i("0X+3"),s=i("q+nE"),r=i("teVv"),a=i("mpzd"),o=i("t9l/"),l=i("P9vb"),c=i("cuRJ"),d=i("QWlh"),u={components:{GlButton:c.a,UncollapsedAssigneeList:d.a},props:{users:{type:Array,required:!0},issuableType:{type:String,required:!1,default:"issue"},signedIn:{type:Boolean,required:!1,default:!1},editable:{type:Boolean,required:!0}},computed:{assigneesText(){return Object(o.f)("Assignee","%d Assignees",this.users.length)},emptyUsers(){return 0===this.users.length}}},p=i("bPvS"),h=Object(p.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-display-flex gl-flex-direction-column issuable-assignees"},[e.emptyUsers?i("div",{staticClass:"gl-display-flex gl-align-items-center gl-text-gray-500 hide-collapsed",attrs:{"data-testid":"none"}},[i("span",[e._v(" "+e._s(e.__("None")))]),e._v(" "),e.signedIn&&e.editable?[i("span",{staticClass:"gl-ml-2"},[e._v("-")]),e._v(" "),i("gl-button",{staticClass:"gl-ml-2",attrs:{"data-testid":"assign-yourself",category:"tertiary",variant:"link"},on:{click:function(t){return e.$emit("assign-self")}}},[i("span",{staticClass:"gl-text-gray-500 gl-hover-text-blue-800"},[e._v(e._s(e.__("assign yourself")))])])]:e._e()],2):i("uncollapsed-assignee-list",{staticClass:"gl-text-gray-800 hide-collapsed",attrs:{users:e.users,"issuable-type":e.issuableType}})],1)}),[],!1,null,null,null).exports,m=i("dYBJ"),f=i("5ee2"),g=i("4pZC"),v=i.n(g),b=(i("ujLG"),i("3R5X"),i("HaUQ"),i("0no1"),i("gdbl"),i("ylB9"),i("XexO"),i("WmlO"),i("W9Nl"),i("m6pR")),y=i("OkMp"),k=i("OqKX"),w=i("6HTq"),_=i("zLBL"),S=i("ly/8"),E=i("0Nu7"),D=i("/LsX"),T=i("+lve"),C={i18n:{unassigned:Object(o.a)("Unassigned")},components:{GlDropdownForm:b.a,GlDropdown:y.a,GlDropdownDivider:k.a,GlDropdownItem:n.a,GlSearchBoxByType:w.a,SidebarParticipant:E.a,GlLoadingIcon:_.a},directives:{GlTooltip:S.a},props:{headerText:{type:String,required:!0},text:{type:String,required:!0},fullPath:{type:String,required:!0},iid:{type:String,required:!0},value:{type:Array,required:!0},allowMultipleAssignees:{type:Boolean,required:!1,default:!1},currentUser:{type:Object,required:!0},issuableType:{type:String,required:!1,default:a.c.Issue},isEditing:{type:Boolean,required:!1,default:!0},issuableId:{type:Number,required:!1,default:null},issuableAuthor:{type:Object,required:!1,default:null}},data:()=>({search:"",participants:[],searchUsers:[],isSearching:!1}),apollo:{participants:{query(){return f.u[this.issuableType].query},skip(){return Boolean(f.u[this.issuableType].skipQuery)||!this.isEditing},variables(){return{iid:this.iid,fullPath:this.fullPath,getStatus:!0}},update(e){var t,i;return null===(t=e.workspace)||void 0===t||null===(i=t.issuable)||void 0===i?void 0:i.participants.nodes.map((function(e){return{...e,canMerge:!1}}))},error(){this.$emit("error")}},searchUsers:{query(){return f.C[this.issuableType].query},variables(){return this.searchUsersVariables},skip(){return!this.isEditing},update(e){var t,i;return(null===(t=e.workspace)||void 0===t||null===(i=t.users)||void 0===i?void 0:i.nodes.filter((function(e){return null==e?void 0:e.user})).map((function(e){var t;return{...e.user,canMerge:(null===(t=e.mergeRequestInteraction)||void 0===t?void 0:t.canMerge)||!1}})))||[]},error(){this.$emit("error"),this.isSearching=!1},result(){this.isSearching=!1}}},computed:{isMergeRequest(){return this.issuableType===a.c.MergeRequest},searchUsersVariables(){const e={fullPath:this.fullPath,search:this.search,first:20};return this.isMergeRequest?{...e,mergeRequestId:Object(T.c)("MergeRequest",this.issuableId)}:e},isLoading(){return this.$apollo.queries.searchUsers.loading||this.$apollo.queries.participants.loading},users(){var e=this;if(!this.participants)return[];const t=this.participants.filter((function(t){return t.name.includes(e.search)||t.username.includes(e.search)})),i=this.searchUsers.concat(t).reduce((function(e,t){return e.some((function(e){return t.id===e.id}))?e:[...e,t]}),[]);return this.moveCurrentUserAndAuthorToStart(i)},isSearchEmpty(){return""===this.search},shouldShowParticipants(){return this.isSearchEmpty||this.isSearching},isCurrentUserInList(){var e=this;return this.users.some((function(t){return t.username===e.currentUser.username}))},noUsersFound(){return!this.isSearchEmpty&&0===this.users.length},showCurrentUser(){return this.currentUser.username&&!this.isCurrentUserInList&&this.isSearchEmpty},showAuthor(){var e=this;return this.issuableAuthor&&!this.users.some((function(t){return t.id===e.issuableAuthor.id}))&&this.isSearchEmpty},selectedFiltered(){if(this.shouldShowParticipants)return this.moveCurrentUserAndAuthorToStart(this.value);const e=this.users.map((function(e){let{username:t}=e;return t})),t=this.value.filter((function(t){let{username:i}=t;return e.includes(i)}));return this.moveCurrentUserAndAuthorToStart(t)},selectedUserNames(){return this.value.map((function(e){let{username:t}=e;return t}))},unselectedFiltered(){var e,t=this;return(null===(e=this.users)||void 0===e?void 0:e.filter((function(e){let{username:i}=e;return!t.selectedUserNames.includes(i)})))||[]},selectedIsEmpty(){return 0===this.selectedFiltered.length}},watch:{search(e){e&&(this.isSearching=!0)}},created(){this.debouncedSearchKeyUpdate=v()(this.setSearchKey,D.h)},methods:{selectAssignee(e){let t=[...this.value];this.allowMultipleAssignees?(t.push(e),this.$emit("input",t)):(t=[e],this.$emit("input",t),this.$refs.dropdown.hide(),this.$emit("toggle"))},unselect(e){const t=this.value.filter((function(t){return t.username!==e}));this.$emit("input",t)},focusSearch(){this.$refs.search.focusInput()},showDropdown(){this.$refs.dropdown.show()},showDivider(e){return e.length>0&&this.isSearchEmpty},moveCurrentUserAndAuthorToStart(){var e=this;let t=[...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]];const i=t.find((function(t){var i;return t.id===(null===(i=e.issuableAuthor)||void 0===i?void 0:i.id)}));i&&(t=[i,...t.filter((function(e){return e.id!==i.id}))]);const n=t.find((function(t){return t.username===e.currentUser.username}));return n&&(n.canMerge=this.currentUser.canMerge,t=[n,...t.filter((function(e){return e.id!==n.id}))]),t},setSearchKey(e){this.search=e.trim()},tooltipText(e){return this.isMergeRequest?e.canMerge?"":Object(o.a)("Cannot merge"):""}}},I=Object(p.a)(C,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-dropdown",{ref:"dropdown",attrs:{text:e.text},on:{toggle:function(t){return e.$emit("toggle")},shown:e.focusSearch},scopedSlots:e._u([{key:"header",fn:function(){return[i("p",{staticClass:"gl-font-weight-bold gl-text-center gl-mt-2 gl-mb-4"},[e._v(e._s(e.headerText))]),e._v(" "),i("gl-dropdown-divider"),e._v(" "),i("gl-search-box-by-type",{ref:"search",staticClass:"js-dropdown-input-field",attrs:{value:e.search},on:{input:e.debouncedSearchKeyUpdate}})]},proxy:!0},{key:"footer",fn:function(){return[e._t("footer")]},proxy:!0}],null,!0)},[e._v(" "),i("gl-dropdown-form",{staticClass:"gl-relative gl-min-h-7"},[e.isLoading?i("gl-loading-icon",{staticClass:"gl-absolute gl-left-0 gl-top-0 gl-right-0",attrs:{"data-testid":"loading-participants",size:"md"}}):[e.shouldShowParticipants?[e.isSearchEmpty?i("gl-dropdown-item",{attrs:{"is-checked":e.selectedIsEmpty,"is-check-centered":"","data-testid":"unassign"},nativeOn:{"!click":function(t){return t.stopPropagation(),e.$emit("input",[])}}},[i("span",{staticClass:"gl-font-weight-bold",class:e.selectedIsEmpty?"gl-pl-0":"gl-pl-6"},[e._v(e._s(e.$options.i18n.unassigned))])]):e._e()]:e._e(),e._v(" "),e.showDivider(e.selectedFiltered)?i("gl-dropdown-divider"):e._e(),e._v(" "),e._l(e.selectedFiltered,(function(t){return i("gl-dropdown-item",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],key:t.id,attrs:{title:e.tooltipText(t),boundary:"viewport","is-checked":"","is-check-centered":"","data-testid":"selected-participant"},nativeOn:{"!click":function(i){return i.stopPropagation(),e.unselect(t.username)}}},[i("sidebar-participant",{attrs:{user:t,"issuable-type":e.issuableType}})],1)})),e._v(" "),e.showCurrentUser?[i("gl-dropdown-divider"),e._v(" "),i("gl-dropdown-item",{attrs:{"data-testid":"current-user"},nativeOn:{"!click":function(t){return t.stopPropagation(),e.selectAssignee(e.currentUser)}}},[i("sidebar-participant",{staticClass:"gl-pl-6!",attrs:{user:e.currentUser,"issuable-type":e.issuableType}})],1)]:e._e(),e._v(" "),e.showAuthor?i("gl-dropdown-item",{attrs:{"data-testid":"issuable-author"},nativeOn:{"!click":function(t){return t.stopPropagation(),e.selectAssignee(e.issuableAuthor)}}},[i("sidebar-participant",{staticClass:"gl-pl-6!",attrs:{user:e.issuableAuthor,"issuable-type":e.issuableType}})],1):e._e(),e._v(" "),e._l(e.unselectedFiltered,(function(t){return i("gl-dropdown-item",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],key:t.id,attrs:{title:e.tooltipText(t),boundary:"viewport","data-testid":"unselected-participant"},nativeOn:{"!click":function(i){return i.stopPropagation(),e.selectAssignee(t)}}},[i("sidebar-participant",{staticClass:"gl-pl-6!",attrs:{user:t,"issuable-type":e.issuableType}})],1)})),e._v(" "),e.noUsersFound?i("gl-dropdown-item",{staticClass:"gl-pl-6!",attrs:{"data-testid":"empty-results"}},[e._v("\n        "+e._s(e.__("No matching results"))+"\n      ")]):e._e()]],2)],1)}),[],!1,null,null,null).exports,O=i("Zxcm"),j=i("rBzE"),x={displayText:Object(o.a)("Invite members"),dataTrackLabel:"edit_assignee",dataTrackEvent:"click_invite_members",components:{InviteMembersTrigger:j.a},props:{issuableType:{type:String,required:!0}},computed:{triggerSource(){return this.issuableType+"-assignee-dropdown"}}},A=Object(p.a)(x,(function(){var e=this.$createElement;return(this._self._c||e)("invite-members-trigger",{attrs:{"trigger-element":"anchor","display-text":this.$options.displayText,event:this.$options.dataTrackEvent,label:this.$options.dataTrackLabel,"trigger-source":this.triggerSource,classes:"gl-display-block gl-pl-0 gl-hover-text-decoration-none gl-hover-text-blue-800!"}})}),[],!1,null,null,null).exports;const N=s.default.observable({updateAssignees:null}),F=new CustomEvent("hiddenGlDropdown",{bubbles:!0});var L={i18n:{unassigned:Object(o.a)("Unassigned"),assignee:Object(o.a)("Assignee"),assignees:Object(o.a)("Assignees"),assignTo:Object(o.a)("Assign to")},components:{SidebarEditableItem:m.a,IssuableAssignees:h,GlDropdownItem:n.a,SidebarInviteMembers:A,SidebarAssigneesRealtime:l.a,UserSelect:I},mixins:[Object(O.a)()],inject:{directlyInviteMembers:{default:!1}},props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},initialAssignees:{type:Array,required:!1,default:null},issuableType:{type:String,required:!1,default:a.c.Issue,validator:e=>[a.c.Issue,a.c.MergeRequest,a.c.Alert].includes(e)},issuableId:{type:Number,required:!1,default:null},allowMultipleAssignees:{type:Boolean,required:!0},editable:{type:Boolean,required:!0}},data:()=>({issuable:{},selected:[],isSettingAssignees:!1,isDirty:!1,oldIid:null,oldSelected:null}),apollo:{issuable:{query(){return f.h[this.issuableType].query},variables(){return this.queryVariables},update(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.issuable},result(e){var t;let{data:i}=e;if(!i)return;const n=null===(t=i.workspace)||void 0===t?void 0:t.issuable;n&&(this.selected=n.assignees.nodes.map((function(e){var t;return{...e,canMerge:(null===(t=e.mergeRequestInteraction)||void 0===t?void 0:t.canMerge)||!1}})))},error(){Object(r.createAlert)({message:Object(o.a)("An error occurred while fetching participants.")})}}},computed:{shouldEnableRealtime(){return this.issuableType===a.c.Issue},queryVariables(){return{iid:this.iid,fullPath:this.fullPath}},assignees(){var e,t;return(this.$apollo.queries.issuable.loading?this.initialAssignees:null===(e=this.issuable)||void 0===e||null===(t=e.assignees)||void 0===t?void 0:t.nodes)||[]},assigneeText(){const e=this.$apollo.queries.issuable.loading?this.initialAssignees:this.selected;return e?Object(o.f)("Assignee","%d Assignees",e.length):Object(o.a)("Assignee")},isAssigneesLoading(){return!this.initialAssignees&&this.$apollo.queries.issuable.loading},currentUser(){var e,t,i,n,s;return{username:null===(e=gon)||void 0===e?void 0:e.current_username,name:null===(t=gon)||void 0===t?void 0:t.current_user_fullname,avatarUrl:null===(i=gon)||void 0===i?void 0:i.current_user_avatar_url,canMerge:(null===(n=this.issuable)||void 0===n||null===(s=n.userPermissions)||void 0===s?void 0:s.canMerge)||!1}},signedIn(){return void 0!==this.currentUser.username},issuableAuthor(){var e;return null===(e=this.issuable)||void 0===e?void 0:e.author}},watch:{iid(e,t){this.isDirty&&(this.oldIid=t,this.oldSelected=this.selected)}},created(){N.updateAssignees=this.updateAssignees},destroyed(){N.updateAssignees=null},methods:{updateAssignees(e){var t=this;return this.isSettingAssignees=!0,this.$apollo.mutate({mutation:f.h[this.issuableType].mutation,variables:{...this.queryVariables,assigneeUsernames:e,iid:this.oldIid||this.iid}}).then((function(e){let{data:i}=e;return t.$emit("assignees-updated",{id:i.issuableSetAssignees.issuable.id,assignees:i.issuableSetAssignees.issuable.assignees.nodes}),i})).catch((function(){Object(r.createAlert)({message:Object(o.a)("An error occurred while updating assignees.")})})).finally((function(){t.isSettingAssignees=!1}))},assignSelf(){this.updateAssignees([this.currentUser.username])},saveAssignees(){if(this.isDirty){this.isDirty=!1;const e=this.oldSelected||this.selected;this.updateAssignees(e.map((function(e){let{username:t}=e;return t}))),this.oldIid=null,this.oldSelected=null}this.$el.dispatchEvent(F)},collapseWidget(){this.$refs.toggle.collapse()},expandWidget(){this.$refs.toggle.expand()},showDropdown(){this.$refs.userSelect.showDropdown()},showError(){Object(r.createAlert)({message:Object(o.a)("An error occurred while fetching participants.")})},setDirtyState(){this.isDirty=!0,this.allowMultipleAssignees||this.collapseWidget()}}},P=Object(p.a)(L,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{"data-testid":"assignees-widget"}},[e.shouldEnableRealtime?i("sidebar-assignees-realtime",{attrs:{"issuable-type":e.issuableType,"issuable-id":e.issuableId,"query-variables":e.queryVariables},on:{assigneesUpdated:function(t){return e.$emit("assignees-updated",t)}}}):e._e(),e._v(" "),i("sidebar-editable-item",{ref:"toggle",attrs:{loading:e.isSettingAssignees,"initial-loading":e.isAssigneesLoading,title:e.assigneeText,"is-dirty":e.isDirty},on:{open:e.showDropdown,close:e.saveAssignees},scopedSlots:e._u([{key:"collapsed",fn:function(){return[e._t("collapsed",null,{users:e.assignees}),e._v(" "),i("issuable-assignees",{attrs:{users:e.assignees,"issuable-type":e.issuableType,"signed-in":e.signedIn,editable:e.editable},on:{"assign-self":e.assignSelf,"expand-widget":e.expandWidget}})]},proxy:!0},{key:"default",fn:function(t){var n=t.edit;return[i("user-select",{ref:"userSelect",staticClass:"gl-w-full dropdown-menu-user gl-mt-n3",attrs:{text:e.$options.i18n.assignees,"header-text":e.$options.i18n.assignTo,iid:e.iid,"issuable-id":e.issuableId,"full-path":e.fullPath,"allow-multiple-assignees":e.allowMultipleAssignees,"current-user":e.currentUser,"issuable-type":e.issuableType,"is-editing":n,"issuable-author":e.issuableAuthor},on:{toggle:e.collapseWidget,error:e.showError,input:e.setDirtyState},scopedSlots:e._u([{key:"footer",fn:function(){return[e.directlyInviteMembers?i("gl-dropdown-item",[i("sidebar-invite-members",{attrs:{"issuable-type":e.issuableType}})],1):e._e()]},proxy:!0}],null,!0),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})]}}],null,!0)})],1)}),[],!1,null,null,null);t.a=P.exports},LP9P:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"issuableDescription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"issuableId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssuableID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issuableDescriptionUpdated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"issuableId"},value:{kind:"Variable",name:{kind:"Name",value:"issuableId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItem"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"widgets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetDescription"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"descriptionHtml"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastEditedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastEditedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webPath"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:412}};i.loc.source={body:"subscription issuableDescription($issuableId: IssuableID!) {\n  issuableDescriptionUpdated(issuableId: $issuableId) {\n    ... on WorkItem {\n      id\n      widgets {\n        ... on WorkItemWidgetDescription {\n          type\n          description\n          descriptionHtml\n          lastEditedAt\n          lastEditedBy {\n            id\n            name\n            webPath\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.issuableDescription=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"issuableDescription")},LW8g:function(e,t,i){var n=i("qHIR");e.exports=function(e){return(null==e?0:e.length)?n(e,1/0):[]}},LcVr:function(e,t,i){"use strict";var n=i("ly/8"),s=i("BLrG"),r=(i("U1Ws"),{directives:{GlTooltip:n.a},mixins:[s.a],props:{time:{type:[String,Number],required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},cssClass:{type:String,required:!1,default:""}},computed:{timeAgo(){return this.timeFormatted(this.time)}}}),a=i("bPvS"),o=Object(a.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",value:{placement:e.tooltipPlacement},expression:"{ placement: tooltipPlacement }",modifiers:{viewport:!0}}],class:e.cssClass,attrs:{title:e.tooltipTitle(e.time),datetime:e.time}},[e._t("default",(function(){return[e._v(e._s(e.timeAgo))]}),{timeAgo:e.timeAgo})],2)}),[],!1,null,null,null);t.a=o.exports},LuMo:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("r8JS"),s=i("q+nE");s.default.use(n.a);const r=new s.default;function a(){return r.$toast.show(...arguments)}},M50o:function(e,t,i){"use strict";var n=i("xqp2"),s=(i("g+EE"),i("t9l/"));class r extends Error{constructor(e){super(e||Object(s.a)("Recent Searches Service is unavailable")),this.name="RecentSearchesServiceError"}}var a=r;class o{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"issuable-recent-searches";this.localStorageKey=e}fetch(){if(!o.isAvailable()){const e=new a;return Promise.reject(e)}const e=window.localStorage.getItem(this.localStorageKey);let t=[];if(e&&e.length>0)try{t=JSON.parse(e)}catch(e){return Promise.reject(e)}return Promise.resolve(t)}save(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o.isAvailable()&&window.localStorage.setItem(this.localStorageKey,JSON.stringify(e))}static isAvailable(){return n.a.canUseLocalStorage()}}t.a=o},MW7a:function(e,t,i){"use strict";var n=i("CkNe");t.a={methods:{...Object(n.c)(["toggleDiscussion"]),clickedToggle(e){this.toggleDiscussion({discussionId:e.id})},toggleText:(e,t)=>t+1}}},Musk:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"workItemByIid"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItem"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:224}};n.loc.source={body:'#import "./work_item.fragment.graphql"\n\nquery workItemByIid($fullPath: ID!, $iid: String) {\n  workspace: project(fullPath: $fullPath) {\n    id\n    workItems(iid: $iid) {\n      nodes {\n        ...WorkItem\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("nLMr").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var r={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.workItemByIid=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(n,"workItemByIid")},MyrM:function(e,t,i){"use strict";var n=i("H8gz"),s=i("5DNK"),r=i("U1Ws"),a=i("t9l/"),o=i("BLrG"),l={components:{GlIcon:n.a,GlTooltip:s.a},mixins:[o.a],props:{milestone:{type:Object,required:!0}},computed:{milestoneDue(){const e=this.milestone.due_date||this.milestone.dueDate;return e?Object(r.z)(e):null},milestoneStart(){const e=this.milestone.start_date||this.milestone.startDate;return e?Object(r.z)(e):null},isMilestoneStarted(){return!!this.milestoneStart&&Date.now()>this.milestoneStart},isMilestonePastDue(){return!!this.milestoneDue&&Date.now()>this.milestoneDue},milestoneDatesAbsolute(){return this.milestoneDue?`(${Object(r.c)(this.milestoneDue)})`:this.milestoneStart?`(${Object(r.c)(this.milestoneStart)})`:""},milestoneDatesHuman(){return this.milestoneStart||this.milestoneDue?this.milestoneDue?Object(r.E)(this.milestoneDue,Object(a.h)(Object(a.a)("Expired %{expiredOn}"),{expiredOn:this.timeFormatted(this.milestoneDue)})):Object(a.h)(this.isMilestoneStarted?Object(a.a)("Started %{startsIn}"):Object(a.a)("Starts %{startsIn}"),{startsIn:this.timeFormatted(this.milestoneStart)}):""}}},c=i("bPvS"),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"milestoneDetails",staticClass:"issue-milestone-details"},[i("gl-icon",{staticClass:"gl-mr-2 flex-shrink-0",attrs:{size:16,name:"clock"}}),e._v(" "),i("span",{staticClass:"milestone-title gl-display-inline-block gl-text-truncate"},[e._v(e._s(e.milestone.title))]),e._v(" "),i("gl-tooltip",{staticClass:"js-item-milestone",attrs:{target:function(){return e.$refs.milestoneDetails},placement:"bottom"}},[i("span",{staticClass:"bold"},[e._v(e._s(e.__("Milestone")))]),e._v(" "),i("br"),e._v(" "),i("span",[e._v(e._s(e.milestone.title))]),e._v(" "),i("br"),e._v(" "),e.milestoneStart||e.milestoneDue?i("span",{class:{"text-danger-muted":e.isMilestonePastDue,"text-tertiary":!e.isMilestonePastDue}},[i("span",[e._v(e._s(e.milestoneDatesHuman))]),i("br"),i("span",[e._v(e._s(e.milestoneDatesAbsolute))])]):e._e()])],1)}),[],!1,null,null,null);t.a=d.exports},"N4/z":function(e,t,i){var n=i("wJCR"),s=i("miPr");e.exports=function(e,t){var i=-1,r=s(e)?Array(e.length):[];return n(e,(function(e,n,s){r[++i]=t(e,n,s)})),r}},NApX:function(e,t,i){var n,s;n=[i("6oy4")],void 0===(s=function(e){return function(e){var t,i,n;i={ESC:27,TAB:9,ENTER:13,CTRL:17,A:65,P:80,N:78,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8,SPACE:32},t={beforeSave:function(e){return s.arrayToDefaultHash(e)},matcher:function(e,t,i,n){var s,r,a;return e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),i&&(e="(?:^|\\s)"+e),s=decodeURI("%C3%80"),r=decodeURI("%C3%BF"),(a=new RegExp(e+"([A-Za-z"+s+"-"+r+"0-9_"+(n?" ":"")+"'.+-]*)$|"+e+"([^\\x00-\\xff]*)$","gi").exec(t))?a[2]||a[1]:null},filter:function(e,t,i){var n,s,r,a;for(n=[],s=0,a=t.length;s<a;s++)r=t[s],~new String(r[i]).toLowerCase().indexOf(e.toLowerCase())&&n.push(r);return n},remoteFilter:null,sorter:function(e,t,i){var n,s,r,a;if(!e)return t;for(n=[],s=0,a=t.length;s<a;s++)(r=t[s]).atwho_order=new String(r[i]).toLowerCase().indexOf(e.toLowerCase()),r.atwho_order>-1&&n.push(r);return n.sort((function(e,t){return e.atwho_order-t.atwho_order}))},tplEval:function(e,t){var i;i=e;try{return"string"!=typeof e&&(i=e(t)),i.replace(/\$\{([^\}]*)\}/g,(function(e,i,n){return t[i]}))}catch(e){return""}},highlighter:function(e,t){var i;return t?(i=new RegExp(">\\s*([^<]*?)("+t.replace("+","\\+")+")([^<]*)\\s*<","ig"),e.replace(i,(function(e,t,i,n){return"> "+t+"<strong>"+i+"</strong>"+n+" <"}))):e},beforeInsert:function(e,t,i){return e},beforeReposition:function(e){return e},afterMatchFailed:function(e,t){}},n=function(){function t(t){this.currentFlag=null,this.controllers={},this.aliasMaps={},this.$inputor=e(t),this.setupRootElement(),this.listen()}return t.prototype.createContainer=function(t){var i;return null!=(i=this.$el)&&i.remove(),e(t.body).append(this.$el=e("<div class='atwho-container'></div>"))},t.prototype.setupRootElement=function(t,i){var n;if(null==i&&(i=!1),t)this.window=t.contentWindow,this.document=t.contentDocument||this.window.document,this.iframe=t;else{this.document=this.$inputor[0].ownerDocument,this.window=this.document.defaultView||this.document.parentWindow;try{this.iframe=this.window.frameElement}catch(t){if(n=t,this.iframe=null,e.fn.atwho.debug)throw new Error("iframe auto-discovery is failed.\nPlease use `setIframe` to set the target iframe manually.\n"+n)}}return this.createContainer((this.iframeAsRoot=i)?this.document:document)},t.prototype.controller=function(e){var t,i,n,s;if(this.aliasMaps[e])i=this.controllers[this.aliasMaps[e]];else for(n in s=this.controllers)if(t=s[n],n===e){i=t;break}return i||this.controllers[this.currentFlag]},t.prototype.setContextFor=function(e){return this.currentFlag=e,this},t.prototype.reg=function(e,t){var i,n;return n=(i=this.controllers)[e]||(i[e]=this.$inputor.is("[contentEditable]")?new o(this,e):new a(this,e)),t.alias&&(this.aliasMaps[t.alias]=e),n.init(t),this},t.prototype.listen=function(){return this.$inputor.on("compositionstart",(e=this,function(t){var i;return null!=(i=e.controller())&&i.view.hide(),e.isComposing=!0,null})).on("compositionend",function(e){return function(t){return e.isComposing=!1,setTimeout((function(t){return e.dispatch(t)})),null}}(this)).on("keyup.atwhoInner",function(e){return function(t){return e.onKeyup(t)}}(this)).on("keydown.atwhoInner",function(e){return function(t){return e.onKeydown(t)}}(this)).on("blur.atwhoInner",function(e){return function(t){var i;if(i=e.controller())return i.expectedQueryCBId=null,i.view.hide(t,i.getOpt("displayTimeout"))}}(this)).on("click.atwhoInner",function(e){return function(t){return e.dispatch(t)}}(this)).on("scroll.atwhoInner",function(e){return function(){var t;return t=e.$inputor.scrollTop(),function(i){var n,s;return n=i.target.scrollTop,t!==n&&null!=(s=e.controller())&&s.view.hide(i),t=n,!0}}}(this)());var e},t.prototype.shutdown=function(){var e,t;for(e in t=this.controllers)t[e].destroy(),delete this.controllers[e];return this.$inputor.off(".atwhoInner"),this.$el.remove()},t.prototype.dispatch=function(e){var t,i,n,s;if(void 0!==e){for(t in s=[],n=this.controllers)i=n[t],s.push(i.lookUp(e));return s}},t.prototype.onKeyup=function(t){var n;switch(t.keyCode){case i.ESC:t.preventDefault(),null!=(n=this.controller())&&n.view.hide();break;case i.DOWN:case i.UP:case i.CTRL:case i.ENTER:e.noop();break;case i.P:case i.N:t.ctrlKey||this.dispatch(t);break;default:this.dispatch(t)}},t.prototype.onKeydown=function(t){var n,s;if((s=null!=(n=this.controller())?n.view:void 0)&&s.visible())switch(t.keyCode){case i.ESC:t.preventDefault(),s.hide(t);break;case i.UP:t.preventDefault(),s.prev();break;case i.DOWN:t.preventDefault(),s.next();break;case i.P:if(!t.ctrlKey)return;t.preventDefault(),s.prev();break;case i.N:if(!t.ctrlKey)return;t.preventDefault(),s.next();break;case i.TAB:case i.ENTER:case i.SPACE:if(!s.visible())return;if(!this.controller().getOpt("spaceSelectsMatch")&&t.keyCode===i.SPACE)return;if(!this.controller().getOpt("tabSelectsMatch")&&t.keyCode===i.TAB)return;s.highlighted()?(t.preventDefault(),s.choose(t)):s.hide(t);break;default:e.noop()}},t}();var s,r=[].slice;s=function(){function i(t,i){this.app=t,this.at=i,this.$inputor=this.app.$inputor,this.id=this.$inputor[0].id||this.uid(),this.expectedQueryCBId=null,this.setting=null,this.query=null,this.pos=0,this.range=null,0===(this.$el=e("#atwho-ground-"+this.id,this.app.$el)).length&&this.app.$el.append(this.$el=e("<div id='atwho-ground-"+this.id+"'></div>")),this.model=new l(this),this.view=new c(this)}return i.prototype.uid=function(){return(Math.random().toString(16)+"000000000").substr(2,8)+(new Date).getTime()},i.prototype.init=function(t){return this.setting=e.extend({},this.setting||e.fn.atwho.default,t),this.view.init(),this.model.reload(this.setting.data)},i.prototype.destroy=function(){return this.trigger("beforeDestroy"),this.model.destroy(),this.view.destroy(),this.$el.remove()},i.prototype.callDefault=function(){var i,n,s;s=arguments[0],i=2<=arguments.length?r.call(arguments,1):[];try{return t[s].apply(this,i)}catch(t){return n=t,e.error(n+" Or maybe At.js doesn't have function "+s)}},i.prototype.trigger=function(e,t){var i,n;return null==t&&(t=[]),t.push(this),n=(i=this.getOpt("alias"))?e+"-"+i+".atwho":e+".atwho",this.$inputor.trigger(n,t)},i.prototype.callbacks=function(e){return this.getOpt("callbacks")[e]||t[e]},i.prototype.getOpt=function(e,t){try{return this.setting[e]}catch(e){return null}},i.prototype.insertContentFor=function(t){var i,n;return n=this.getOpt("insertTpl"),i=e.extend({},t.data("item-data"),{"atwho-at":this.at}),this.callbacks("tplEval").call(this,n,i,"onInsert")},i.prototype.renderView=function(e){var t;return t=this.getOpt("searchKey"),e=this.callbacks("sorter").call(this,this.query.text,e,t),this.view.render(e.slice(0,this.getOpt("limit")))},i.arrayToDefaultHash=function(t){var i,n,s,r;if(!e.isArray(t))return t;for(r=[],i=0,s=t.length;i<s;i++)n=t[i],e.isPlainObject(n)?r.push(n):r.push({name:n});return r},i.prototype.lookUp=function(e){var t,i;if((!e||"click"!==e.type||this.getOpt("lookUpOnClick"))&&(!this.getOpt("suspendOnComposing")||!this.app.isComposing))return(t=this.catchQuery(e))?(this.app.setContextFor(this.at),(i=this.getOpt("delay"))?this._delayLookUp(t,i):this._lookUp(t),t):(this.expectedQueryCBId=null,t)},i.prototype._delayLookUp=function(e,t){var i,n,s;return i=Date.now?Date.now():(new Date).getTime(),this.previousCallTime||(this.previousCallTime=i),0<(n=t-(i-this.previousCallTime))&&n<t?(this.previousCallTime=i,this._stopDelayedCall(),this.delayedCallTimeout=setTimeout((s=this,function(){return s.previousCallTime=0,s.delayedCallTimeout=null,s._lookUp(e)}),t)):(this._stopDelayedCall(),this.previousCallTime!==i&&(this.previousCallTime=0),this._lookUp(e))},i.prototype._stopDelayedCall=function(){if(this.delayedCallTimeout)return clearTimeout(this.delayedCallTimeout),this.delayedCallTimeout=null},i.prototype._generateQueryCBId=function(){return{}},i.prototype._lookUp=function(t){var i;return i=function(e,t){if(e===this.expectedQueryCBId)return t&&t.length>0?this.renderView(this.constructor.arrayToDefaultHash(t)):this.view.hide()},this.expectedQueryCBId=this._generateQueryCBId(),this.model.query(t.text,e.proxy(i,this,this.expectedQueryCBId))},i}();var a,o,l,c,d,u=function(e,t){for(var i in t)p.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},p={}.hasOwnProperty;a=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return u(i,t),i.prototype.catchQuery=function(){var e,t,i,n,s,r,a;if(t=this.$inputor.val(),e=this.$inputor.caret("pos",{iframe:this.app.iframe}),a=t.slice(0,e),!((n="string"==typeof(s=this.callbacks("matcher").call(this,this.at,a,this.getOpt("startWithSpace"),this.getOpt("acceptSpaceBar"))))&&s.length<this.getOpt("minLen",0)))return n&&s.length<=this.getOpt("maxLen",20)?(i=(r=e-s.length)+s.length,this.pos=r,s={text:s,headPos:r,endPos:i},this.trigger("matched",[this.at,s.text])):(s=null,this.view.hide()),this.query=s},i.prototype.rect=function(){var t,i,n;if(t=this.$inputor.caret("offset",this.pos-1,{iframe:this.app.iframe}))return this.app.iframe&&!this.app.iframeAsRoot&&(i=e(this.app.iframe).offset(),t.left+=i.left,t.top+=i.top),n=this.app.document.selection?0:2,{left:t.left,top:t.top,bottom:t.top+t.height+n}},i.prototype.insert=function(e,t){var i,n,s,r,a;return a=""+(s=(n=(i=this.$inputor).val()).slice(0,Math.max(this.query.headPos-this.at.length,0)))+(e+=r=""===(r=this.getOpt("suffix"))?r:r||" ")+n.slice(this.query.endPos||0),i.val(a),i.caret("pos",s.length+e.length,{iframe:this.app.iframe}),i.is(":focus")||i.focus(),i.change()},i}(s),u=function(e,t){for(var i in t)p.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},p={}.hasOwnProperty,o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return u(n,t),n.prototype._getRange=function(){var e;if((e=this.app.window.getSelection()).rangeCount>0)return e.getRangeAt(0)},n.prototype._setRange=function(t,i,n){if(null==n&&(n=this._getRange()),n&&i)return i=e(i)[0],"after"===t?(n.setEndAfter(i),n.setStartAfter(i)):(n.setEndBefore(i),n.setStartBefore(i)),n.collapse(!1),this._clearRange(n)},n.prototype._clearRange=function(e){var t;if(null==e&&(e=this._getRange()),t=this.app.window.getSelection(),null==this.ctrl_a_pressed)return t.removeAllRanges(),t.addRange(e)},n.prototype._movingEvent=function(e){var t;return"click"===e.type||(t=e.which)===i.RIGHT||t===i.LEFT||t===i.UP||t===i.DOWN},n.prototype._unwrap=function(t){var i;return(i=(t=e(t).unwrap().get(0)).nextSibling)&&i.nodeValue&&(t.nodeValue+=i.nodeValue,e(i).remove()),t},n.prototype.catchQuery=function(t){var n,s,r,a,o,l,c,d,u,p,h,m;if((m=this._getRange())&&m.collapsed){if(t.which===i.ENTER)return(s=e(m.startContainer).closest(".atwho-query")).contents().unwrap(),s.is(":empty")&&s.remove(),(s=e(".atwho-query",this.app.document)).text(s.text()).contents().last().unwrap(),void this._clearRange();if(/firefox/i.test(navigator.userAgent)){if(e(m.startContainer).is(this.$inputor))return void this._clearRange();t.which===i.BACKSPACE&&m.startContainer.nodeType===document.ELEMENT_NODE&&(u=m.startOffset-1)>=0?((r=m.cloneRange()).setStart(m.startContainer,u),e(r.cloneContents()).contents().last().is(".atwho-inserted")&&(o=e(m.startContainer).contents().get(u),this._setRange("after",e(o).contents().last()))):t.which===i.LEFT&&m.startContainer.nodeType===document.TEXT_NODE&&(n=e(m.startContainer.previousSibling)).is(".atwho-inserted")&&0===m.startOffset&&this._setRange("after",n.contents().last())}if(e(m.startContainer).closest(".atwho-inserted").addClass("atwho-query").siblings().removeClass("atwho-query"),(s=e(".atwho-query",this.app.document)).length>0&&s.is(":empty")&&0===s.text().length&&s.remove(),this._movingEvent(t)||s.removeClass("atwho-inserted"),s.length>0)switch(t.which){case i.LEFT:return this._setRange("before",s.get(0),m),void s.removeClass("atwho-query");case i.RIGHT:return this._setRange("after",s.get(0).nextSibling,m),void s.removeClass("atwho-query")}if(s.length>0&&(h=s.attr("data-atwho-at-query"))&&(s.empty().html(h).attr("data-atwho-at-query",null),this._setRange("after",s.get(0),m)),(r=m.cloneRange()).setStart(m.startContainer,0),l="string"==typeof(d=this.callbacks("matcher").call(this,this.at,r.toString(),this.getOpt("startWithSpace"),this.getOpt("acceptSpaceBar"))),0===s.length&&l&&(a=m.startOffset-this.at.length-d.length)>=0&&(m.setStart(m.startContainer,a),s=e("<span/>",this.app.document).attr(this.getOpt("editableAtwhoQueryAttrs")).addClass("atwho-query"),m.surroundContents(s.get(0)),(c=s.contents().last().get(0))&&(/firefox/i.test(navigator.userAgent)?(m.setStart(c,c.length),m.setEnd(c,c.length),this._clearRange(m)):this._setRange("after",c,m))),!(l&&d.length<this.getOpt("minLen",0)))return l&&d.length<=this.getOpt("maxLen",20)?(p={text:d,el:s},this.trigger("matched",[this.at,p.text]),this.query=p):(this.view.hide(),this.query={el:s},s.text().indexOf(this.at)>=0&&(this._movingEvent(t)&&s.hasClass("atwho-inserted")?s.removeClass("atwho-query"):!1!==this.callbacks("afterMatchFailed").call(this,this.at,s)&&this._setRange("after",this._unwrap(s.text(s.text()).contents().first()))),null)}},n.prototype.rect=function(){var t,i;if((i=this.query.el.offset())&&this.query.el[0].getClientRects().length)return this.app.iframe&&!this.app.iframeAsRoot&&(t=e(this.app.iframe).offset(),i.left+=t.left-this.$inputor.scrollLeft(),i.top+=t.top-this.$inputor.scrollTop()),i.bottom=i.top+this.query.el.height(),i},n.prototype.insert=function(e,t){var i,n,s,r,a;return this.$inputor.is(":focus")||this.$inputor.focus(),(n=this.getOpt("functionOverrides")).insert?n.insert.call(this,e,t):(r=""===(r=this.getOpt("suffix"))?r:r||"",i=t.data("item-data"),this.query.el.removeClass("atwho-query").addClass("atwho-inserted").html(e).attr("data-atwho-at-query",""+i["atwho-at"]+this.query.text).attr("contenteditable","false"),(s=this._getRange())&&(this.query.el.length&&s.setEndAfter(this.query.el[0]),s.collapse(!1),s.insertNode(a=this.app.document.createTextNode(""+r)),this._setRange("after",a,s)),this.$inputor.is(":focus")||this.$inputor.focus(),this.$inputor.change())},n}(s),l=function(){function e(e){this.context=e,this.at=this.context.at,this.storage=this.context.$inputor}return e.prototype.destroy=function(){return this.storage.data(this.at,null)},e.prototype.saved=function(){return this.fetch()>0},e.prototype.query=function(e,t){var i,n,s;return n=this.fetch(),s=this.context.getOpt("searchKey"),n=this.context.callbacks("filter").call(this.context,e,n,s)||[],i=this.context.callbacks("remoteFilter"),n.length>0||!i&&0===n.length?t(n):i.call(this.context,e,t)},e.prototype.fetch=function(){return this.storage.data(this.at)||[]},e.prototype.save=function(e){return this.storage.data(this.at,this.context.callbacks("beforeSave").call(this.context,e||[]))},e.prototype.load=function(e){if(!this.saved()&&e)return this._load(e)},e.prototype.reload=function(e){return this._load(e)},e.prototype._load=function(e){if("string"==typeof e)throw new Error("@gitlab/at.js removed support for $.ajax");return this.save(e)},e}(),c=function(){function t(t){this.context=t,this.$el=e("<div class='atwho-view'><ul class='atwho-view-ul'></ul></div>"),this.$elUl=this.$el.children(),this.timeoutID=null,this.context.$el.append(this.$el),this.bindEvent()}return t.prototype.init=function(){var e,t;return t=this.context.getOpt("alias")||this.context.at.charCodeAt(0),(e=this.context.getOpt("headerTpl"))&&1===this.$el.children().length&&this.$el.prepend(e),this.$el.attr({id:"at-view-"+t})},t.prototype.destroy=function(){return this.$el.remove()},t.prototype.bindEvent=function(){var t,i,n,s;return t=this.$el.find("ul"),i=0,n=0,t.on("mousemove.atwho-view","li",(function(s){var r;if((i!==s.clientX||n!==s.clientY)&&(i=s.clientX,n=s.clientY,!(r=e(s.currentTarget)).hasClass("cur")))return t.find(".cur").removeClass("cur"),r.addClass("cur")})).on("click.atwho-view","li",(s=this,function(i){return t.find(".cur").removeClass("cur"),e(i.currentTarget).addClass("cur"),s.choose(i),i.preventDefault()}))},t.prototype.visible=function(){return e.expr.filters.visible(this.$el[0])},t.prototype.highlighted=function(){return this.$el.find(".cur").length>0},t.prototype.choose=function(e){var t,i;if((t=this.$el.find(".cur")).length&&(i=this.context.insertContentFor(t),this.context._stopDelayedCall(),this.context.insert(this.context.callbacks("beforeInsert").call(this.context,i,t,e),t),this.context.trigger("inserted",[t,e]),this.hide(e)),this.context.getOpt("hideWithoutSuffix"))return this.stopShowing=!0},t.prototype.reposition=function(t){var i,n,s,r;return i=this.context.app.iframeAsRoot?this.context.app.window:window,t.bottom+this.$el.height()-e(i).scrollTop()>e(i).height()&&(t.bottom=t.top-this.$el.height()),t.left>(s=e(i).width()-this.$el.width()-5)&&(t.left=s),n={left:t.left,top:t.bottom},null!=(r=this.context.callbacks("beforeReposition"))&&r.call(this.context,n),this.$el.offset(n),this.context.trigger("reposition",[n])},t.prototype.next=function(){var e,t,i;return(e=this.$el.find(".cur").removeClass("cur").next()).length||(e=this.$el.find("li:first")),e.addClass("cur"),i=(t=e[0]).offsetTop+t.offsetHeight+(t.nextSibling?t.nextSibling.offsetHeight:0),this.scrollTop(Math.max(0,i-this.$el.height()))},t.prototype.prev=function(){var e,t,i;return(t=this.$el.find(".cur").removeClass("cur").prev()).length||(t=this.$el.find("li:last")),t.addClass("cur"),e=(i=t[0]).offsetTop+i.offsetHeight+(i.nextSibling?i.nextSibling.offsetHeight:0),this.scrollTop(Math.max(0,e-this.$el.height()))},t.prototype.scrollTop=function(e){return this.$elUl.scrollTop(e)},t.prototype.show=function(){var e;if(!this.stopShowing)return this.visible()||(this.$el.show(),this.$el.scrollTop(0),this.context.trigger("shown")),(e=this.context.rect())?this.reposition(e):void 0;this.stopShowing=!1},t.prototype.hide=function(e,t){var i,n;if(this.visible())return isNaN(t)?(this.$el.hide(),this.context.trigger("hidden",[e])):(n=this,i=function(){return n.hide()},clearTimeout(this.timeoutID),this.timeoutID=setTimeout(i,t))},t.prototype.render=function(t){var i,n,s,r,a,o,l;if(e.isArray(t)&&t.length>0){for(this.$el.find("ul").empty(),n=this.$el.find("ul"),l=this.context.getOpt("displayTpl"),s=0,a=t.length;s<a;s++)r=t[s],r=e.extend({},r,{"atwho-at":this.context.at}),o=this.context.callbacks("tplEval").call(this.context,l,r,"onDisplay"),(i=e(this.context.callbacks("highlighter").call(this.context,o,this.context.query.text))).data("item-data",r),n.append(i);return this.show(),this.context.getOpt("highlightFirst")?n.find("li:first").addClass("cur"):void 0}this.hide()},t}(),d={load:function(e,t){var i;if(i=this.controller(e))return i.model.load(t)},isSelecting:function(){var e;return!!(null!=(e=this.controller())?e.view.visible():void 0)},hide:function(){var e;return null!=(e=this.controller())?e.view.hide():void 0},reposition:function(){var e;if(e=this.controller())return e.view.reposition(e.rect())},setIframe:function(e,t){return this.setupRootElement(e,t),null},run:function(){return this.dispatch()},destroy:function(){return this.shutdown(),this.$inputor.data("atwho",null)}},e.fn.atwho=function(t){var i,s;return i=arguments,s=null,this.filter('textarea, input, [contenteditable=""], [contenteditable=true]').each((function(){var r,a;return(a=(r=e(this)).data("atwho"))||r.data("atwho",a=new n(this)),"object"!=typeof t&&t?d[t]&&a?s=d[t].apply(a,Array.prototype.slice.call(i,1)):e.error("Method "+t+" does not exist on jQuery.atwho"):a.reg(t.at,t)})),null!=s?s:this},e.fn.atwho.default={at:void 0,alias:void 0,data:null,displayTpl:"<li>${name}</li>",insertTpl:"${atwho-at}${name}",headerTpl:null,callbacks:t,functionOverrides:{},searchKey:"name",suffix:void 0,hideWithoutSuffix:!1,startWithSpace:!0,acceptSpaceBar:!1,highlightFirst:!0,limit:5,maxLen:20,minLen:0,displayTimeout:300,delay:null,spaceSelectsMatch:!1,tabSelectsMatch:!0,editableAtwhoQueryAttrs:{},scrollDuration:150,suspendOnComposing:!0,lookUpOnClick:!0},e.fn.atwho.debug=!1}(e)}.apply(t,n))||(e.exports=s)},Ng9o:function(e,t,i){"use strict";i("h8Et");var n=i("H8gz");const s=[8,12,14,16,24,32,48,72];var r={components:{GlIcon:n.a},props:{status:{type:Object,required:!0},size:{type:Number,required:!1,default:16,validator:e=>s.includes(e)},isActive:{type:Boolean,required:!1,default:!1},isBorderless:{type:Boolean,required:!1,default:!1},isInteractive:{type:Boolean,required:!1,default:!1},cssClasses:{type:String,required:!1,default:""}},computed:{wrapperStyleClasses(){const e=this.status.group;return`ci-status-icon ci-status-icon-${e} js-ci-status-icon-${e} gl-rounded-full gl-justify-content-center`},icon(){return this.isBorderless?this.status.icon+"_borderless":this.status.icon}}},a=i("bPvS"),o=Object(a.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{class:[e.wrapperStyleClasses,{interactive:e.isInteractive,active:e.isActive,borderless:e.isBorderless}],style:{height:e.size+"px",width:e.size+"px"},attrs:{"data-testid":"ci-icon-wrapper"}},[i("gl-icon",{class:e.cssClasses,attrs:{name:e.icon,size:e.size,"aria-label":e.status.icon}})],1)}),[],!1,null,null,null);t.a=o.exports},NlHF:function(e,t,i){var n=i("ueyC");e.exports=function(e,t,i){var s=e.length;return i=void 0===i?s:i,!t&&i>=s?e:n(e,t,i)}},NwYK:function(e,t,i){var n=i("NYR+"),s=i("vAG4"),r=i("eV0l"),a=RegExp("[']","g");e.exports=function(e){return function(t){return n(r(s(t).replace(a,"")),e,"")}}},NxF4:function(e,t,i){(e.exports=i("ZSrL")(!1)).push([e.i,".resize-observer[data-v-8859cc6c]{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;border:none;background-color:transparent;pointer-events:none;display:block;overflow:hidden;opacity:0}.resize-observer[data-v-8859cc6c] object{display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1}",""])},Oj7w:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"workItemUpdateTask"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WorkItemUpdateTaskInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workItemUpdate"},name:{kind:"Name",value:"workItemUpdateTask"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItem"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"descriptionHtml"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"task"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItem"},directives:[]}]}}]}}]}}],loc:{start:0,end:251}};n.loc.source={body:'#import "./work_item.fragment.graphql"\n\nmutation workItemUpdateTask($input: WorkItemUpdateTaskInput!) {\n  workItemUpdate: workItemUpdateTask(input: $input) {\n    workItem {\n      id\n      descriptionHtml\n    }\n    task {\n      ...WorkItem\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("nLMr").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var r={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.workItemUpdateTask=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(n,"workItemUpdateTask")},OkA1:function(e,t,i){"use strict";var n=i("RlQ7"),s=i.n(n),r=i("SaQl"),a=i("6IRw"),o=i.n(a);const l={name:"GlFormCheckbox",components:{BFormCheckbox:r.a},inheritAttrs:!1,model:{prop:"checked",event:"input"},props:{id:{type:String,required:!1,default:()=>s()()}},methods:{change(e){this.$emit("change",e)},input(e){this.$emit("input",e)}}};const c=o()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-form-checkbox",e._b({staticClass:"gl-form-checkbox",attrs:{id:e.id},on:{change:e.change,input:e.input}},"b-form-checkbox",e.$attrs,!1),[e._t("default"),e._v(" "),Boolean(e.$scopedSlots.help)?i("p",{staticClass:"help-text"},[e._t("help")],2):e._e()],2)},staticRenderFns:[]},void 0,l,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=c},OkMp:function(e,t,i){"use strict";var n=i("774z"),s=i.n(n),r=i("q+nE"),a=i("+iVy"),o=i("qx9o"),l=i("Fcvx");const c={computed:{buttonSize(){return l.n[this.size]}}};var d=i("cuRJ"),u=i("H8gz"),p=i("zLBL"),h=i("OqKX"),m=i("6IRw"),f=i.n(m);const g=".dropdown-item:not(.disabled):not([disabled]),.form-control:not(.disabled):not([disabled])",v=r.default.extend(a.a,{methods:{getItems(){return(Object(o.D)(g,this.$refs.menu)||[]).filter(o.u)}}}),b={modifiers:{flip:{flipVariationsByContent:!0,padding:28}}};const y={components:{BDropdown:v,GlButton:d.a,GlDropdownDivider:h.a,GlIcon:u.a,GlLoadingIcon:p.a},mixins:[c],props:{headerText:{type:String,required:!1,default:""},hideHeaderBorder:{type:Boolean,required:!1,default:!0},showClearAll:{type:Boolean,required:!1,default:!1},clearAllText:{type:String,required:!1,default:"Clear all"},clearAllTextClass:{type:String,required:!1,default:"gl-px-5"},text:{type:String,required:!1,default:""},showHighlightedItemsTitle:{type:Boolean,required:!1,default:!1},highlightedItemsTitle:{type:String,required:!1,default:"Selected"},highlightedItemsTitleClass:{type:String,required:!1,default:"gl-px-5"},textSrOnly:{type:Boolean,required:!1,default:!1},split:{type:Boolean,required:!1,default:!1},category:{type:String,required:!1,default:l.m.primary,validator:e=>Object.keys(l.m).includes(e)},variant:{type:String,required:!1,default:l.t.default,validator:e=>Object.keys(l.t).includes(e)},size:{type:String,required:!1,default:"medium",validator:e=>Object.keys(l.n).includes(e)},icon:{type:String,required:!1,default:null},block:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},toggleClass:{type:[String,Array,Object],required:!1,default:null},right:{type:Boolean,required:!1,default:!1},popperOpts:{type:Object,required:!1,default:null}},computed:{renderCaret(){return!this.split},isIconOnly(){var e;return Boolean(this.icon&&(!(null!==(e=this.text)&&void 0!==e&&e.length)||this.textSrOnly)&&!this.hasSlotContents("button-text"))},isIconWithText(){var e;return Boolean(this.icon&&(null===(e=this.text)||void 0===e?void 0:e.length)&&!this.textSrOnly)},toggleButtonClasses(){return[this.toggleClass,{"gl-button":!0,"gl-dropdown-toggle":!0,[`btn-${this.variant}-secondary`]:this.category===l.m.secondary||this.category===l.m.tertiary&&this.split,[`btn-${this.variant}-tertiary`]:this.category===l.m.tertiary&&!this.split,"dropdown-icon-only":this.isIconOnly,"dropdown-icon-text":this.isIconWithText}]},splitButtonClasses(){return[this.toggleClass,{"gl-button":!0,"split-content-button":Boolean(this.text),"icon-split-content-button":Boolean(this.icon),[`btn-${this.variant}-secondary`]:this.category===l.m.secondary||this.category===l.m.tertiary}]},buttonText(){return this.split&&this.icon?null:this.text},hasHighlightedItemsContent(){return this.hasSlotContents("highlighted-items")},hasHighlightedItemsOrClearAll(){return this.hasHighlightedItemsContent&&this.showHighlightedItemsTitle||this.showClearAll},popperOptions(){return s()({},b,this.popperOpts)}},methods:{hasSlotContents(e){return Boolean(this.$slots[e])},show(){this.$refs.dropdown.show(...arguments)},hide(){this.$refs.dropdown.hide(...arguments)}}};const k=f()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-dropdown",e._g(e._b({ref:"dropdown",staticClass:"gl-new-dropdown",attrs:{split:e.split,variant:e.variant,size:e.buttonSize,"toggle-class":[e.toggleButtonClasses],"split-class":e.splitButtonClasses,block:e.block,disabled:e.disabled||e.loading,right:e.right,"popper-opts":e.popperOptions},scopedSlots:e._u([{key:"button-content",fn:function(){return[e._t("button-content",(function(){return[e.loading?i("gl-loading-icon",{class:{"gl-mr-2":!e.isIconOnly}}):e._e(),e._v(" "),!e.icon||e.isIconOnly&&e.loading?e._e():i("gl-icon",{staticClass:"dropdown-icon",attrs:{name:e.icon}}),e._v(" "),i("span",{staticClass:"gl-new-dropdown-button-text",class:{"gl-sr-only":e.textSrOnly}},[e._t("button-text",(function(){return[e._v(e._s(e.buttonText))]}))],2),e._v(" "),e.renderCaret?i("gl-icon",{staticClass:"gl-button-icon dropdown-chevron",attrs:{name:"chevron-down"}}):e._e()]}))]},proxy:!0}],null,!0)},"b-dropdown",e.$attrs,!1),e.$listeners),[i("div",{staticClass:"gl-new-dropdown-inner"},[e.hasSlotContents("header")||e.headerText?i("div",{staticClass:"gl-new-dropdown-header",class:{"gl-border-b-0!":e.hideHeaderBorder}},[e.headerText?i("p",{staticClass:"gl-new-dropdown-header-top"},[e._v("\n        "+e._s(e.headerText)+"\n      ")]):e._e(),e._v(" "),e._t("header")],2):e._e(),e._v(" "),e.hasHighlightedItemsOrClearAll?i("div",{staticClass:"gl-display-flex gl-flex-direction-row gl-justify-content-space-between gl-align-items-center"},[e.hasHighlightedItemsContent&&e.showHighlightedItemsTitle?i("div",{staticClass:"gl-display-flex gl-flex-grow-1 gl-justify-content-flex-start",class:e.highlightedItemsTitleClass},[i("span",{staticClass:"gl-font-weight-bold",attrs:{"data-testid":"highlighted-items-title"}},[e._v(e._s(e.highlightedItemsTitle))])]):e._e(),e._v(" "),e.showClearAll?i("div",{staticClass:"gl-display-flex gl-flex-grow-1 gl-justify-content-end",class:e.clearAllTextClass},[i("gl-button",{attrs:{size:"small",category:"tertiary",variant:"link","data-testid":"clear-all-button"},on:{click:function(t){return e.$emit("clear-all",t)}}},[e._v(e._s(e.clearAllText))])],1):e._e()]):e._e(),e._v(" "),i("div",{staticClass:"gl-new-dropdown-contents"},[e.hasHighlightedItemsContent?i("div",{staticClass:"gl-overflow-visible",attrs:{"data-testid":"highlighted-items"}},[e._t("highlighted-items"),e._v(" "),i("gl-dropdown-divider")],2):e._e(),e._v(" "),e._t("default")],2),e._v(" "),e.hasSlotContents("footer")?i("div",{staticClass:"gl-new-dropdown-footer"},[e._t("footer")],2):e._e()])])},staticRenderFns:[]},void 0,y,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=k},OqKX:function(e,t,i){"use strict";var n=i("Z2pp"),s=i("DQ7i"),r=i("jyii"),a=i("gCUY");function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){c(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var d=Object(a.c)({tag:{type:String,default:"hr"}},r.l),u=n.a.extend({name:r.l,functional:!0,props:d,render:function(e,t){var i=t.props,n=t.data,r=n.attrs||{};return n.attrs={},e("li",Object(s.a)(n,{attrs:{role:"presentation"}}),[e(i.tag,{staticClass:"dropdown-divider",attrs:l(l({},r),{},{role:"separator","aria-orientation":"horizontal"}),ref:"divider"})])}}),p=i("6IRw");const h={components:{BDropdownDivider:u},inheritAttrs:!1};const m=i.n(p)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-dropdown-divider",this._g(this._b({staticClass:"gl-new-dropdown-divider"},"b-dropdown-divider",this.$attrs,!1),this.$listeners))},staticRenderFns:[]},void 0,h,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=m},"Ox/j":function(e,t,i){"use strict";var n=i("Z2pp"),s=i("DQ7i"),r=i("jyii"),a=i("gCUY");var o=n.a.extend({name:r.q,functional:!0,props:Object(a.c)({tag:{type:String,default:"p"},textClass:{type:[String,Array,Object]},variant:{type:String}},r.q),render:function(e,t){var i,n,r,a=t.props,o=t.data,l=t.children,c=a.tag,d=a.textClass,u=a.variant,p=o.attrs||{};return o.attrs={},e("li",Object(s.a)(o,{attrs:{role:"presentation"}}),[e(c,{staticClass:"b-dropdown-text",class:[d,(i={},n="text-".concat(u),r=u,n in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,i)],props:a,attrs:p,ref:"text"},l)])}}),l=i("6IRw");const c={components:{BDropdownText:o},inheritAttrs:!1};const d=i.n(l)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-dropdown-text",this._g(this._b({staticClass:"gl-new-dropdown-text"},"b-dropdown-text",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,c,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=d},P9vb:function(e,t,i){"use strict";i("WmlO"),i("3R5X"),i("W9Nl"),i("uHfJ"),i("R0RX");var n=i("+lve"),s=i("mpzd"),r=i("5ee2"),a={subscription:null,name:"AssigneesRealtime",props:{mediator:{type:Object,required:!1,default:null},issuableType:{type:String,required:!0},queryVariables:{type:Object,required:!0}},computed:{issuableClass(){var e=this;return Object.keys(s.c).find((function(t){return s.c[t]===e.issuableType}))},issuableId(){var e;return null===(e=this.issuable)||void 0===e?void 0:e.id}},apollo:{issuable:{query(){return r.h[this.issuableType].query},variables(){return this.queryVariables},update(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.issuable},subscribeToMore:{document(){return r.h[this.issuableType].subscription},variables(){return{issuableId:this.issuableId}},skip(){return!this.issuableId},updateQuery(e,t){let{subscriptionData:{data:{issuableAssigneesUpdated:i}}}=t;if(i){const{id:e,assignees:{nodes:t}}=i;this.mediator&&this.handleFetchResult(t),this.$emit("assigneesUpdated",{id:e,assignees:t})}}}}},methods:{handleFetchResult(e){const t=e.map((function(e){return{...e,avatar_url:e.avatarUrl,id:Object(n.d)(e.id)}}));this.mediator.store.setAssigneesFromRealtime(t)}},render:()=>null},o=i("bPvS"),l=Object(o.a)(a,void 0,void 0,!1,null,null,null);t.a=l.exports},PVkw:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"workItemDeleteTask"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WorkItemDeleteTaskInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItemDeleteTask"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItem"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"descriptionHtml"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:171}};i.loc.source={body:"mutation workItemDeleteTask($input: WorkItemDeleteTaskInput!) {\n  workItemDeleteTask(input: $input) {\n    workItem {\n      id\n      descriptionHtml\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.workItemDeleteTask=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"workItemDeleteTask")},Q1Ax:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateIssuableSeverity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"severity"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssuableSeverity"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueSetSeverity"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}},{kind:"ObjectField",name:{kind:"Name",value:"severity"},value:{kind:"Variable",name:{kind:"Name",value:"severity"}}},{kind:"ObjectField",name:{kind:"Name",value:"projectPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"severity"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:258}};i.loc.source={body:"mutation updateIssuableSeverity($projectPath: ID!, $severity: IssuableSeverity!, $iid: String!) {\n  issueSetSeverity(input: { iid: $iid, severity: $severity, projectPath: $projectPath }) {\n    errors\n    issue {\n      iid\n      id\n      severity\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateIssuableSeverity=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"updateIssuableSeverity")},QJim:function(e,t,i){"use strict";i.r(t),function(e){var n=i("zdec"),s=i("j/k3");i.d(t,"RecycleScroller",(function(){return s.a}));var r=i("hK9k");i.d(t,"DynamicScroller",(function(){return r.a}));var a=i("lYqH");i.d(t,"DynamicScrollerItem",(function(){return a.a}));var o=i("Kfky");i.d(t,"IdState",(function(){return o.a}));const l={install(e,t){const i=Object.assign({},{installComponents:!0,componentsPrefix:""},t);for(const e in i)void 0!==i[e]&&(n.a[e]=i[e]);i.installComponents&&function(e,t){e.component(t+"recycle-scroller",s.a),e.component(t+"RecycleScroller",s.a),e.component(t+"dynamic-scroller",r.a),e.component(t+"DynamicScroller",r.a),e.component(t+"dynamic-scroller-item",a.a),e.component(t+"DynamicScrollerItem",a.a)}(e,i.componentsPrefix)}};t.default=l;let c=null;"undefined"!=typeof window?c=window.Vue:void 0!==e&&(c=e.Vue),c&&c.use(l)}.call(this,i("uE4I"))},QN0Q:function(e,t,i){var n=i("miPr"),s=i("cgqb");e.exports=function(e){return s(e)&&n(e)}},QWlh:function(e,t,i){"use strict";var n=i("Zxcm"),s=i("mpzd"),r=i("t9l/"),a=i("u1ru"),o=i("ly/8"),l=i("+lve"),c=i("Daar"),d=i("ZIpG");const u={BUSY:Object(r.a)("Busy"),CANNOT_MERGE:Object(r.a)("Cannot merge"),LC_CANNOT_MERGE:Object(r.a)("cannot merge")},p=function(e){return`(${e})`};var h={components:{AssigneeAvatar:d.a,GlLink:a.a},directives:{GlTooltip:o.a},props:{user:{type:Object,required:!0},tooltipPlacement:{type:String,default:"bottom",required:!1},tooltipHasName:{type:Boolean,default:!0,required:!1},issuableType:{type:String,default:"issue",required:!1}},computed:{isMergeRequest(){return this.issuableType===s.c.MergeRequest},cannotMerge(){var e;const t=(null===(e=this.user.mergeRequestInteraction)||void 0===e?void 0:e.canMerge)||this.user.can_merge;return this.isMergeRequest&&!t},tooltipTitle(){const{name:e="",availability:t=""}=this.user;return function(e){let{name:t,availability:i,cannotMerge:n=!0,tooltipHasName:s=!1}=e;if(!s)return n?u.CANNOT_MERGE:"";const r=[];if(i&&Object(c.a)(i)&&r.push(u.BUSY),n&&r.push(u.LC_CANNOT_MERGE),s&&r.length){return`${t} ${r.map(p).join(" ")}`}return t}({name:e,availability:t,cannotMerge:this.cannotMerge,tooltipHasName:this.tooltipHasName})},tooltipOption(){return this.isMergeRequest?null:{container:"body",placement:this.tooltipPlacement,boundary:"viewport"}},assigneeUrl(){return this.user.web_url||this.user.webUrl},assigneeId(){return this.isMergeRequest?null:Object(l.e)(this.user.id)?Object(l.d)(this.user.id):this.user.id}}},m=i("bPvS"),f=Object(m.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipOption,expression:"tooltipOption"}],staticClass:"gl-display-inline-block js-user-link",attrs:{href:e.assigneeUrl,title:e.tooltipTitle,"data-user-id":e.assigneeId,"data-placement":"left"}},[i("span",{staticClass:"gl-display-flex"},[i("assignee-avatar",{attrs:{user:e.user,"img-size":24,"issuable-type":e.issuableType}}),e._v(" "),e._t("default")],2)])}),[],!1,null,null,null).exports,g=i("Ad8m");var v={components:{AssigneeAvatarLink:f,UserNameWithStatus:g.a},mixins:[Object(n.a)()],props:{users:{type:Array,required:!0},issuableType:{type:String,required:!1,default:"issue"}},data:()=>({showLess:!0}),computed:{firstUser(){return this.users[0]},hiddenAssigneesLabel(){const{numberOfHiddenAssignees:e}=this;return Object(r.h)(Object(r.a)("+ %{numberOfHiddenAssignees} more"),{numberOfHiddenAssignees:e})},renderShowMoreSection(){return this.users.length>5},numberOfHiddenAssignees(){return this.users.length-5},uncollapsedUsers(){const e=this.showLess?Math.min(this.users.length,5):this.users.length;return this.showLess?this.users.slice(0,e):this.users},username(){return"@"+this.firstUser.username},isMergeRequest(){return this.issuableType===s.c.MergeRequest}},methods:{toggleShowLess(){this.showLess=!this.showLess},userAvailability(e){var t;return this.issuableType===s.c.MergeRequest?(null==e?void 0:e.availability)||"":(null==e||null===(t=e.status)||void 0===t?void 0:t.availability)||""}}},b=Object(m.a)(v,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"gl-display-flex gl-flex-wrap"},e._l(e.uncollapsedUsers,(function(t,n){return i("div",{key:t.id,staticClass:"assignee-grid gl-display-grid gl-align-items-center gl-w-full",class:{"gl-mb-3":n!==e.users.length-1}},[i("assignee-avatar-link",{staticClass:"gl-word-break-word",attrs:{user:t,"issuable-type":e.issuableType,"tooltip-has-name":!e.isMergeRequest,"data-css-area":"user"}},[i("div",{staticClass:"gl-ml-3 gl-line-height-normal gl-display-grid gl-align-items-center",attrs:{"data-testid":"username","data-qa-selector":"username"}},[i("user-name-with-status",{attrs:{name:t.name,availability:e.userAvailability(t)}})],1)])],1)})),0),e._v(" "),e.renderShowMoreSection?i("div",{staticClass:"user-list-more gl-hover-text-blue-800"},[i("button",{staticClass:"btn-link gl-button gl-reset-color!",attrs:{type:"button","data-qa-selector":"more_assignees_link"},on:{click:e.toggleShowLess}},[e.showLess?[e._v("\n        "+e._s(e.hiddenAssigneesLabel)+"\n      ")]:[e._v(e._s(e.__("- show less")))]],2)]):e._e()])}),[],!1,null,null,null);t.a=b.exports},QdQS:function(e,t,i){"use strict";t.a={issues:"issue-recent-searches",merge_requests:"merge-request-recent-searches",group_members:"group-members-recent-searches",group_invited_members:"group-invited-members-recent-searches",project_members:"project-members-recent-searches",project_group_links:"project-group-links-recent-searches"}},Qrj3:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"issuableDatesUpdated"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"issuableId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssuableID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issuableDatesUpdated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"issuableId"},value:{kind:"Variable",name:{kind:"Name",value:"issuableId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItem"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"widgets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetStartAndDueDate"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startDate"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:289}};i.loc.source={body:"subscription issuableDatesUpdated($issuableId: IssuableID!) {\n  issuableDatesUpdated(issuableId: $issuableId) {\n    ... on WorkItem {\n      id\n      widgets {\n        ... on WorkItemWidgetStartAndDueDate {\n          type\n          dueDate\n          startDate\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.issuableDatesUpdated=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"issuableDatesUpdated")},QslC:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("vZRN"),s=i.n(n);let r=null;const a=(e,t)=>{if(!s()(t))throw TypeError("directive value must be a function");r||(r=new ResizeObserver(e=>{e.forEach(e=>{e.target.glResizeHandler(e)})})),e.glResizeHandler=t,r.observe(e)},o=e=>{var t;e.glResizeHandler&&(delete e.glResizeHandler,null===(t=r)||void 0===t||t.unobserve(e))},l={bind(e,t){let{value:i,arg:n=!0}=t;n&&a(e,i)},update(e,t){let{value:i,arg:n=!0}=t;n?a(e,i):o(e)},unbind:o}},R8rx:function(e,t,i){"use strict";var n={name:"PlaceholderSystemNote",components:{TimelineEntryItem:i("1jid").a},props:{note:{type:Object,required:!0}}},s=i("bPvS"),r=Object(s.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("timeline-entry-item",{staticClass:"note system-note being-posted fade-in-half"},[t("div",{staticClass:"timeline-content"},[t("em",[this._v(this._s(this.note.body))])])])}),[],!1,null,null,null);t.a=r.exports},RGzp:function(e,t){var i=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(i)||[]}},"Rd/K":function(e,t,i){"use strict";i.d(t,"b",(function(){return c}));var n=i("gCUY"),s=i("qx9o"),r=i("BhOj"),a=i("ST6S"),o=i("8Vyw"),l=i("ySPH"),c=Object(n.c)({value:{type:[String,Number],default:""},ariaInvalid:{type:[Boolean,String],default:!1},readonly:{type:Boolean,default:!1},plaintext:{type:Boolean,default:!1},autocomplete:{type:String},placeholder:{type:String},formatter:{type:Function},lazyFormatter:{type:Boolean,default:!1},trim:{type:Boolean,default:!1},number:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},debounce:{type:[Number,String],default:0}},"formTextControls");t.a={model:{prop:"value",event:"update"},props:c,data:function(){var e=this.value;return{localValue:Object(l.e)(e),vModelValue:this.modifyValue(e)}},computed:{computedClass:function(){return[{"custom-range":"range"===this.type,"form-control-plaintext":this.plaintext&&"range"!==this.type&&"color"!==this.type,"form-control":!this.plaintext&&"range"!==this.type||"color"===this.type},this.sizeFormClass,this.stateClass]},computedDebounce:function(){return Object(a.b)(Object(o.c)(this.debounce,0),0)},hasFormatter:function(){return this.formatter.name!==c.formatter.default.name}},watch:{value:function(e){var t=Object(l.e)(e),i=this.modifyValue(e);t===this.localValue&&i===this.vModelValue||(this.clearDebounce(),this.localValue=t,this.vModelValue=i)}},created:function(){this.$_inputDebounceTimer=null},mounted:function(){this.$on("hook:beforeDestroy",this.clearDebounce)},methods:{clearDebounce:function(){clearTimeout(this.$_inputDebounceTimer),this.$_inputDebounceTimer=null},formatValue:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e=Object(l.e)(e),!this.hasFormatter||this.lazyFormatter&&!i||(e=this.formatter(e,t)),e},modifyValue:function(e){return e=Object(l.e)(e),this.trim&&(e=e.trim()),this.number&&(e=Object(o.b)(e,e)),e},updateValue:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.lazy;if(!n||i){this.clearDebounce();var s=function(){if((e=t.modifyValue(e))!==t.vModelValue)t.vModelValue=e,t.$emit("update",e);else if(t.hasFormatter){var i=t.$refs.input;i&&e!==i.value&&(i.value=e)}},r=this.computedDebounce;r>0&&!n&&!i?this.$_inputDebounceTimer=setTimeout(s,r):s()}},onInput:function(e){if(!e.target.composing){var t=e.target.value,i=this.formatValue(t,e);!1===i||e.defaultPrevented?Object(r.d)(e,{propagation:!1}):(this.localValue=i,this.updateValue(i),this.$emit("input",i))}},onChange:function(e){var t=e.target.value,i=this.formatValue(t,e);!1===i||e.defaultPrevented?Object(r.d)(e,{propagation:!1}):(this.localValue=i,this.updateValue(i,!0),this.$emit("change",i))},onBlur:function(e){var t=e.target.value,i=this.formatValue(t,e,!0);!1!==i&&(this.localValue=Object(l.e)(this.modifyValue(i)),this.updateValue(i,!0)),this.$emit("blur",e)},focus:function(){this.disabled||Object(s.d)(this.$el)},blur:function(){this.disabled||Object(s.c)(this.$el)}}}},RewC:function(e,t,i){"use strict";var n=i("SYh6");t.a=Object(n.a)()},SLa1:function(e,t,i){"use strict";i.d(t,"a",(function(){return w}));var n=i("odnV"),s=i.n(n),r=(i("WmlO"),i("3R5X"),i("W9Nl"),i("0no1"),i("gdbl"),i("g+EE"),i("uHfJ"),i("R0RX"),i("ujLG"),i("HaUQ"),i("4+ig"),i("a7Ov"),i("JHu5"),i("XUYm"),i("49qB")),a=i("6oy4"),o=i.n(a),l=i("wJB+"),c=i("oj/M"),d=i("8GQU"),u=i("16BQ"),p=i("teVv"),h=i("mphk"),m=i("4zBw"),f=i("t9l/");const g="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",v=/(?:, and | and |, )/,b={activity:"Activity",people:"People",nature:"Nature",food:"Food",travel:"Travel",objects:"Objects",symbols:"Symbols",flags:"Flags"};class y{constructor(e){this.emoji=e,this.eventListeners=[],this.toggleButtonSelector=".js-add-award",this.menuClass="js-award-emoji-menu"}bindEvents(){var e=this;const t=this.targetContainerEl?o()(this.targetContainerEl):o()(document);this.registerEventListener("one",t,"mouseenter focus",this.toggleButtonSelector,"mouseenter focus",(function(){0===o()("."+e.menuClass).length&&requestAnimationFrame((function(){e.createEmojiMenu()}))})),this.registerEventListener("on",t,"click",this.toggleButtonSelector,(function(t){t.stopPropagation(),t.preventDefault(),e.showEmojiMenu(o()(t.currentTarget))})),this.registerEventListener("on",o()("html"),"click",(function(t){o()(t.target).closest("."+e.menuClass).length||(o()(".js-awards-block.current").removeClass("current"),o()("."+e.menuClass).is(":visible")&&(o()(e.toggleButtonSelector+".is-active").removeClass("is-active"),e.hideMenuElement(o()("."+e.menuClass))))}));const i=`.js-awards-block .js-emoji-btn, .${this.menuClass} .js-emoji-btn`;this.registerEventListener("on",t,"click",i,(function(t){t.preventDefault();const i=o()(t.currentTarget),n=i.find("gl-emoji"),s=i.find(".icon"),r=(n.length?n:s).data("name");i.closest(".js-awards-block").addClass("current"),e.addAward(e.getVotesBlock(),e.getAwardUrl(),r)}))}registerEventListener(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"on",t=arguments.length>1?arguments[1]:void 0;for(var i=arguments.length,n=new Array(i>2?i-2:0),s=2;s<i;s++)n[s-2]=arguments[s];t[e].call(t,...n),this.eventListeners.push({element:t,args:n})}showEmojiMenu(e){var t=this;e.hasClass("js-note-emoji")?e.closest(".note").find(".js-awards-block").addClass("current"):e.closest(".js-awards-block").addClass("current");const i=o()("."+this.menuClass);i.length?i.is(".is-visible")?(e.removeClass("is-active"),this.hideMenuElement(i),o()(".js-emoji-menu-search").blur()):(e.addClass("is-active"),this.positionMenu(i,e),this.showMenuElement(i),o()(".js-emoji-menu-search").focus()):(e.addClass("is-loading is-active"),this.createEmojiMenu((function(){const i=o()("."+t.menuClass);return e.removeClass("is-loading"),t.positionMenu(i,e),setTimeout((function(){t.showMenuElement(i),o()(".js-emoji-menu-search").focus()}),200)})))}createEmojiMenu(e){if(this.isCreatingEmojiMenu)return;this.isCreatingEmojiMenu=!0;const t=this.emoji.getEmojiCategoryMap(),i=Object.keys(t)[0],n=t[i],s=this.renderCategory(b[i],n),r=this.getFrequentlyUsedEmojis();let a="";r.length>0&&(a=this.renderCategory("Frequently used",r,{menuListClass:"frequent-emojis"}));const o=`\n      <div class="emoji-menu ${this.menuClass}">\n        <input type="text" name="emoji-menu-search" value="" class="js-emoji-menu-search emoji-search search-input form-control" placeholder="Search emoji" />\n\n        <div class="emoji-menu-content">\n          ${a}\n          ${s}\n        </div>\n      </div>\n    `;(this.targetContainerEl?this.targetContainerEl:document.body).insertAdjacentHTML("beforeend",o),this.addRemainingEmojiMenuCategories(),this.setupSearch(),e&&e()}addRemainingEmojiMenuCategories(){var e=this;if(this.isAddingRemainingEmojiMenuCategories)return;this.isAddingRemainingEmojiMenuCategories=!0;const t=this.emoji.getEmojiCategoryMap(),i=document.querySelector("."+this.menuClass),n=i.querySelector(".emoji-menu-content");Object.keys(t).slice(1).reduce((function(i,s){return i.then((function(){return new Promise((function(i){const r=t[s],a=e.renderCategory(b[s],r);requestAnimationFrame((function(){n.insertAdjacentHTML("beforeend",a),i()}))}))}))}),Promise.resolve()).then((function(){i&&i.dispatchEvent(new CustomEvent("build-emoji-menu-finish"))})).catch((function(e){throw n.insertAdjacentHTML("beforeend","<p>We encountered an error while adding the remaining categories</p>"),new Error("Error occurred in addRemainingEmojiMenuCategories: "+e.message)}))}renderCategory(e,t){var i=this;return`\n      <h5 class="emoji-menu-title">\n        ${e}\n      </h5>\n      <ul class="clearfix emoji-menu-list ${(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).menuListClass||""}">\n        ${t.map((function(e){return`\n          <li class="emoji-menu-list-item">\n            <button class="emoji-menu-btn text-center js-emoji-btn" type="button">\n              ${i.emoji.glEmojiTag(e,{sprite:!0})}\n            </button>\n          </li>\n        `})).join("\n")}\n      </ul>\n    `}positionMenu(e,t){if(this.targetContainerEl)return e.css({top:t.outerHeight()+"px"});const i=t.data("position"),n={top:t.offset().top+t.outerHeight()+"px"};return"xs"===r.a.getBreakpointSize()||"sm"===r.a.getBreakpointSize()?n.left="5%":"right"===i?(n.left=t.offset().left-e.outerWidth()+20+"px",e.addClass("is-aligned-right")):(n.left=t.offset().left+"px",e.removeClass("is-aligned-right")),e.css(n)}addAward(e,t,i,n,s){var r=this;const a=e.closest(".js-noteable-awards").length;if(Object(m.h)()&&!a){const t=e.attr("id").replace("note_","");this.hideMenuElement(o()("."+this.menuClass)),o()(this.toggleButtonSelector+".is-active").removeClass("is-active");const n=new CustomEvent("toggleAward",{detail:{awardName:i,noteId:t}});document.querySelector(".js-vue-notes-event").dispatchEvent(n)}const l=this.emoji.normalizeEmojiName(i),c=this.findEmojiIcon(e,l).parent();return this.postEmoji(c,t,l,(function(){return r.addAwardToEmojiBar(e,l,n),"function"==typeof s?s():void 0})),this.hideMenuElement(o()("."+this.menuClass)),o()(this.toggleButtonSelector+".is-active").removeClass("is-active")}addAwardToEmojiBar(e,t,i){(i||null===i)&&this.checkMutuality(e,t),this.addEmojiToFrequentlyUsedList(t);const n=this.emoji.normalizeEmojiName(t),s=this.findEmojiIcon(e,n).parent();if(s.length>0)if(this.isActive(s))this.decrementCounter(s,n);else{const t=s.find(".js-counter");t.text(parseInt(t.text(),10)+1),s.addClass("active"),this.addYouToUserList(e,n),this.animateEmoji(s)}else e.removeClass("hidden"),this.createEmoji(e,n)}getVotesBlock(){if(Object(m.h)()){const e=o()(this.toggleButtonSelector+".is-active").closest(".note.timeline-entry");if(e.length)return e}const e=o()(".js-awards-block.current");let t=e;return 0===e.length&&(t=o()(".js-awards-block").eq(0)),t}getAwardUrl(){return this.getVotesBlock().data("awardUrl")}checkMutuality(e,t){const i=this.getAwardUrl();if("thumbsup"===t||"thumbsdown"===t){const n="thumbsup"===t?"thumbsdown":"thumbsup";e.find(`[data-name="${n}"]`).parent().hasClass("active")&&this.addAward(e,i,n,!1)}}isActive(e){return e.hasClass("active")}decrementCounter(e,t){const i=o()(".js-counter",e),n=parseInt(i.text(),10);return n>1?(i.text(n-1),this.removeYouFromUserList(e)):"thumbsup"===t||"thumbsdown"===t?(Object(u.b)(e),i.text("0"),this.removeYouFromUserList(e),e.parents(".note").length&&this.removeEmoji(e)):this.removeEmoji(e),e.removeClass("active")}removeEmoji(e){Object(u.b)(e),e.remove();const t=this.getVotesBlock();0===t.find(".js-emoji-btn").length&&t.addClass("hidden")}getAwardTooltip(e){return e.attr("data-original-title")||e.attr("data-title")||""}toSentence(e){let t;return t=e.length<=2?e.join(" and "):`${e.slice(0,-1).join(", ")}, and ${e[e.length-1]}`,t}removeYouFromUserList(e){const t=e,i=this.getAwardTooltip(t).split(v);return i.splice(i.indexOf("You"),1),t.closest(".js-emoji-btn").removeData("title").removeAttr("data-title").removeAttr("data-original-title").attr("title",this.toSentence(i)),Object(u.c)(t),t}addYouToUserList(e,t){const i=this.findEmojiIcon(e,t).parent(),n=this.getAwardTooltip(i);let s=[];return n&&(s=n.trim().split(v)),s.unshift("You"),i.attr("title",this.toSentence(s)),Object(u.c)(i),i}createAwardButtonForVotesBlock(e,t){const i=`\n      <button class="gl-button btn btn-default award-control js-emoji-btn has-tooltip active" title="You">\n        ${this.emoji.glEmojiTag(t)}\n        <span class="award-control-text js-counter">1</span>\n      </button>\n    `,n=o()(i);n.insertBefore(e.find(".js-award-holder")).find(".emoji-icon").data("name",t),this.animateEmoji(n),e.removeClass("current")}animateEmoji(e){e.addClass("pulse animated once short"),this.registerEventListener("on",e,"animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd",(function(e){o()(e.currentTarget).removeClass("pulse animated once short")}))}createEmoji(e,t){var i=this;o()("."+this.menuClass).length&&this.createAwardButtonForVotesBlock(e,t),this.createEmojiMenu((function(){i.createAwardButtonForVotesBlock(e,t)}))}postEmoji(e,t,i,n){h.a.post(t,{name:i}).then((function(e){let{data:t}=e;t.ok&&n()})).catch((function(){return Object(p.createAlert)({message:Object(f.a)("Something went wrong on our end.")})}))}findEmojiIcon(e,t){return e.find(`.js-emoji-btn [data-name="${t}"]`)}scrollToAwards(){Object(c.K)(".awards",{offset:-110})}addEmojiToFrequentlyUsedList(e){this.emoji.isEmojiNameValid(e)&&(this.frequentlyUsedEmojis=s()(this.getFrequentlyUsedEmojis().concat(e)),Object(c.L)("frequently_used_emojis",this.frequentlyUsedEmojis.join(",")))}getFrequentlyUsedEmojis(){var e=this;return this.frequentlyUsedEmojis||function(){const t=s()((Object(c.m)("frequently_used_emojis")||"").split(","));return e.frequentlyUsedEmojis=t.filter((function(t){return e.emoji.isEmojiNameValid(t)})),e.frequentlyUsedEmojis}()}setupSearch(){var e=this;const t=o()(".js-emoji-menu-search");this.registerEventListener("on",t,"input",(function(t){const i=o()(t.target).val().trim();e.searchEmojis(i)}));const i=o()("."+this.menuClass);this.registerEventListener("on",i,g,(function(t){t.target===t.currentTarget&&e.searchEmojis("")}))}searchEmojis(e){if(o()(".js-emoji-menu-search").val(e),o()("ul.emoji-menu-search, h5.emoji-search-title").remove(),e.length>0){const t=o()('<h5 class="emoji-search-title"/>').text("Search results"),i=this.findMatchingEmojiElements(e).show(),n=o()("<ul>").addClass("emoji-menu-list emoji-menu-search").append(i);o()(".emoji-menu-content ul, .emoji-menu-content h5").hide(),o()(".emoji-menu-content").append(t).append(n)}else o()(".emoji-menu-content").children().show()}getEmojiScore(e,t){const i=o()(t).find("[data-name]").get(0),n=e.filter((function(e){return e.emoji.name===i.dataset.name}))[0];return i.dataset.score=n.score,n.score}sortEmojiElements(e,t){var i=this;const n=new WeakMap;return t.sort((function(t,s){let r=n.get(t),a=n.get(s);return r||(r=i.getEmojiScore(e,t),n.set(t,r)),a||(a=i.getEmojiScore(e,s),n.set(s,a)),r-a}))}findMatchingEmojiElements(e){const t=this.emoji.searchEmoji(e).map((function(e){return{...e,score:Object(l.a)(e.emoji.name,e.score)}})),i=t.map((function(e){return e.emoji.name})),n=o()(".emoji-menu-list:not(.frequent-emojis) [data-name]").filter((function(e,t){return i.indexOf(t.dataset.name)>=0}));return this.sortEmojiElements(t,n.closest("li").clone())}showMenuElement(e){return e.addClass("is-rendered"),Promise.resolve().then((function(){return e.addClass("is-visible")}))}hideMenuElement(e){e.on(g,(function(t){t.currentTarget===t.target&&e.removeClass("is-rendered").off(g)})),e.removeClass("is-visible")}destroy(){this.eventListeners.forEach((function(e){e.element.off.call(e.element,...e.args)})),o()("."+this.menuClass).remove()}}let k=null;function w(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return k&&!e||(k=d.initEmojiMap().then((function(){const e=new y(d);return e.bindEvents(),e}))),k}},SNO9:function(e,t,i){var n=i("NwYK")((function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}));e.exports=n},T1FK:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"issuableAssignees"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"issuableId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssuableID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issuableAssigneesUpdated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"issuableId"},value:{kind:"Variable",name:{kind:"Name",value:"issuableId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItem"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"widgets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetAssignees"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allowsMultipleAssignees"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canInviteMembers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:457}};n.loc.source={body:'#import "~/graphql_shared/fragments/user.fragment.graphql"\n\nsubscription issuableAssignees($issuableId: IssuableID!) {\n  issuableAssigneesUpdated(issuableId: $issuableId) {\n    ... on WorkItem {\n      id\n      widgets {\n        ... on WorkItemWidgetAssignees {\n          type\n          allowsMultipleAssignees\n          canInviteMembers\n          assignees {\n            nodes {\n              ...User\n            }\n          }\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("yXJ/").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var r={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.issuableAssignees=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(n,"issuableAssignees")},T2ea:function(e,t,i){var n=i("iAZU"),s=i("T5M9"),r=i("QN0Q"),a=s((function(e,t){return r(e)?n(e,t):[]}));e.exports=a},TS24:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];console.error("[gitlab]",e+"\n",...i)}},TkD4:function(e,t,i){var n=i("m1at")("toUpperCase");e.exports=n},Tw1G:function(e,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CrmContacts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"customerRelationsContacts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:226}};i.loc.source={body:"fragment CrmContacts on Issue {\n  id\n  customerRelationsContacts {\n    nodes {\n      id\n      firstName\n      lastName\n      email\n      phone\n      description\n      organization {\n        id\n        name\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.CrmContacts=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"CrmContacts")},"U2+R":function(e,t,i){"use strict";var n=i("vKRd"),s=i.n(n),r=i("U1Ws"),a=i("t9l/"),o=i("BLrG");const l={data:()=>({removeDisabled:!1}),props:{idKey:{type:Number,required:!0},displayReference:{type:String,required:!0},pathIdSeparator:{type:String,required:!0},eventNamespace:{type:String,required:!1,default:""},confidential:{type:Boolean,required:!1,default:!1},title:{type:String,required:!1,default:""},path:{type:String,required:!1,default:""},state:{type:String,required:!1,default:""},createdAt:{type:String,required:!1,default:""},closedAt:{type:String,required:!1,default:""},mergedAt:{type:String,required:!1,default:""},milestone:{type:Object,required:!1,default:function(){return{}}},dueDate:{type:String,required:!1,default:""},assignees:{type:Array,required:!1,default:function(){return[]}},weight:{type:Number,required:!1,default:0},canRemove:{type:Boolean,required:!1,default:!1},isMergeRequest:{type:Boolean,required:!1,default:!1},pipelineStatus:{type:Object,required:!1,default:function(){return{}}}},mixins:[o.a],computed:{hasState(){return this.state&&this.state.length>0},hasPipeline(){return this.isMergeRequest&&this.pipelineStatus&&Object.keys(this.pipelineStatus).length},isOpen(){return"opened"===this.state||"reopened"===this.state},isClosed(){return"closed"===this.state},isMerged(){return"merged"===this.state},hasTitle(){return this.title.length>0},hasAssignees(){return this.assignees.length>0},hasMilestone(){return!s()(this.milestone)},iconName(){return this.isMergeRequest&&this.isMerged?"merge":this.isOpen?"issue-open-m":"issue-close"},iconClass(){return this.isMergeRequest&&this.isClosed?"merge-request-status closed issue-token-state-icon-closed":this.isOpen?"issue-token-state-icon-open gl-text-green-500":"issue-token-state-icon-closed gl-text-blue-500"},computedLinkElementType(){return this.path.length>0?"a":"span"},computedPath(){return this.path.length?this.path:null},itemPath(){return this.displayReference.split(this.pathIdSeparator)[0]},itemId(){return this.displayReference.split(this.pathIdSeparator).pop()},createdAtInWords(){return this.createdAt?this.timeFormatted(this.createdAt):""},createdAtTimestamp(){return this.createdAt?Object(r.g)(new Date(this.createdAt)):""},mergedAtTimestamp(){return this.mergedAt?Object(r.g)(new Date(this.mergedAt)):""},mergedAtInWords(){return this.mergedAt?this.timeFormatted(this.mergedAt):""},closedAtInWords(){return this.closedAt?this.timeFormatted(this.closedAt):""},closedAtTimestamp(){return this.closedAt?Object(r.g)(new Date(this.closedAt)):""},stateText(){return this.isMerged?Object(a.a)("Merged"):this.isOpen?Object(a.a)("Created"):Object(a.a)("Closed")},stateTimeInWords(){return this.isMerged?this.mergedAtInWords:this.isOpen?this.createdAtInWords:this.closedAtInWords},stateTimestamp(){return this.isMerged?this.mergedAtTimestamp:this.isOpen?this.createdAtTimestamp:this.closedAtTimestamp},pipelineStatusTooltip(){return this.hasPipeline?Object(a.h)(Object(a.a)("Pipeline: %{status}"),{status:this.pipelineStatus.label}):""}},methods:{onRemoveRequest(){let e="";this.eventNamespace&&this.eventNamespace.length>0&&(e=""+this.eventNamespace),this.$emit(e+"RemoveRequest",this.idKey),this.removeDisabled=!0}}};t.a=l},U9ni:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return r}));i("JHu5"),i("3R5X"),i("XUYm");var n=i("q+nE"),s=i("rBzE");function r(){const e=document.querySelectorAll(".js-invite-members-trigger");return!!e&&e.forEach((function(e){return new n.default({el:e,name:"InviteMembersTriggerRoot",render:function(t){return t(s.a,{props:{...e.dataset}})}})}))}},UGhW:function(e,t,i){"use strict";var n=i("OkMp"),s=i("0X+3"),r=i("OqKX"),a=i("t9l/"),o=i("A8Nj"),l=i("toOR"),c={i18n:o.a,components:{GlDropdown:n.a,GlDropdownItem:s.a,GlDropdownDivider:r.a},model:{prop:"noteType",event:"change"},props:{disabled:{type:Boolean,required:!1,default:!1},trackingLabel:{type:String,required:!1,default:void 0},discussionsRequireResolution:{type:Boolean,required:!1,default:!1},isInternalNote:{type:Boolean,required:!1,default:!1},noteableDisplayName:{type:String,required:!0},noteType:{type:String,required:!0}},computed:{isNoteTypeComment(){return this.noteType===l.COMMENT},isNoteTypeDiscussion(){return this.noteType===l.DISCUSSION},dropdownCommentButtonTitle(){const{comment:e,internalComment:t}=this.$options.i18n.submitButton;return this.isInternalNote?t:e},dropdownStartThreadButtonTitle(){const{startThread:e,startInternalThread:t}=this.$options.i18n.submitButton;return this.isInternalNote?t:e},commentButtonTitle(){const{comment:e,internalComment:t,startThread:i,startInternalThread:n}=this.$options.i18n;return this.isInternalNote?this.noteType===l.COMMENT?t:n:this.noteType===l.COMMENT?e:i},startDiscussionDescription(){const{discussionThatNeedsResolution:e,internalDiscussionThatNeedsResolution:t,discussion:i,internalDiscussion:n}=this.$options.i18n;return this.isInternalNote?this.discussionsRequireResolution?t:n:this.discussionsRequireResolution?e:i},commentDescription(){const{commentHelp:e,internalCommentHelp:t}=this.$options.i18n.submitButton;return Object(a.h)(this.isInternalNote?t:e,{noteableDisplayName:this.noteableDisplayName})}},methods:{handleClick(){this.$emit("click")},setNoteTypeToComment(){this.noteType!==l.COMMENT&&this.$emit("change",l.COMMENT)},setNoteTypeToDiscussion(){this.noteType!==l.DISCUSSION&&this.$emit("change",l.DISCUSSION)}}},d=i("bPvS"),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-dropdown",{staticClass:"gl-mr-3 js-comment-button js-comment-submit-button comment-type-dropdown",attrs:{split:"",text:e.commentButtonTitle,category:"primary",variant:"confirm",disabled:e.disabled,"data-testid":"comment-button","data-qa-selector":"comment_button","data-track-label":e.trackingLabel,"data-track-action":"click_button"},on:{click:function(t){return e.$emit("click")}}},[i("gl-dropdown-item",{attrs:{"is-check-item":"","is-checked":e.isNoteTypeComment},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.setNoteTypeToComment.apply(null,arguments)}}},[i("strong",[e._v(e._s(e.dropdownCommentButtonTitle))]),e._v(" "),i("p",{staticClass:"gl-m-0"},[e._v(e._s(e.commentDescription))])]),e._v(" "),i("gl-dropdown-divider"),e._v(" "),i("gl-dropdown-item",{attrs:{"is-check-item":"","is-checked":e.isNoteTypeDiscussion,"data-qa-selector":"discussion_menu_item"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.setNoteTypeToDiscussion.apply(null,arguments)}}},[i("strong",[e._v(e._s(e.dropdownStartThreadButtonTitle))]),e._v(" "),i("p",{staticClass:"gl-m-0"},[e._v(e._s(e.startDiscussionDescription))])])],1)}),[],!1,null,null,null);t.a=u.exports},UNv9:function(e,t,i){"use strict";var n=i("H8gz"),s=i("ly/8"),r=i("XXQe"),a={components:{GlIcon:n.a},directives:{GlTooltip:s.a},props:{workItemType:{type:String,required:!1,default:""},showText:{type:Boolean,required:!1,default:!1},workItemIconName:{type:String,required:!1,default:""},showTooltipOnHover:{type:Boolean,required:!1,default:!1}},computed:{iconName(){var e;return this.workItemIconName||(null===(e=r.y[this.workItemType])||void 0===e?void 0:e.icon)||"issue-type-issue"},workItemTypeName(){var e;return null===(e=r.y[this.workItemType])||void 0===e?void 0:e.name},workItemTooltipTitle(){return this.showTooltipOnHover?this.workItemTypeName:""}}},o=i("bPvS"),l=Object(o.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[i("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",value:e.showTooltipOnHover,expression:"showTooltipOnHover",modifiers:{hover:!0}}],staticClass:"gl-mr-2 gl-text-secondary",attrs:{name:e.iconName,title:e.workItemTooltipTitle}}),e._v(" "),e.workItemTypeName?i("span",{class:{"gl-sr-only":!e.showText}},[e._v(e._s(e.workItemTypeName))]):e._e()],1)}),[],!1,null,null,null);t.a=l.exports},Uaqt:function(e,t,i){"use strict";var n=i("H8gz"),s=i("Zi5e"),r={components:{GlIcon:n.a},props:{path:{type:String,required:!0},filePath:{type:String,required:!1,default:""},fileSize:{type:Number,required:!1,default:0}},computed:{fileSizeReadable(){return Object(s.d)(this.fileSize)},fileName(){return(this.filePath||this.path).split("/").pop()}}},a=i("bPvS"),o=Object(a.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"file-container"},[i("div",{staticClass:"file-content"},[i("p",{staticClass:"gl-mt-3 file-info"},[e._v("\n      "+e._s(e.fileName)+"\n      "),e.fileSize>0?[e._v(" ("+e._s(e.fileSizeReadable)+") ")]:e._e()],2),e._v(" "),i("a",{staticClass:"btn btn-default",attrs:{href:e.path,rel:"nofollow",download:e.fileName,target:"_blank","data-qa-selector":"download_button"}},[i("gl-icon",{staticClass:"float-left gl-mr-3",attrs:{size:16,name:"download"}}),e._v("\n      "+e._s(e.__("Download"))+"\n    ")],1)])])}),[],!1,null,null,null);t.a=o.exports},UosV:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"k",(function(){return r})),i.d(t,"g",(function(){return a})),i.d(t,"e",(function(){return o})),i.d(t,"f",(function(){return l})),i.d(t,"j",(function(){return c})),i.d(t,"i",(function(){return d})),i.d(t,"h",(function(){return u})),i.d(t,"l",(function(){return p})),i.d(t,"n",(function(){return m})),i.d(t,"q",(function(){return g})),i.d(t,"p",(function(){return b})),i.d(t,"m",(function(){return w})),i.d(t,"o",(function(){return _})),i.d(t,"c",(function(){return S})),i.d(t,"b",(function(){return T})),i.d(t,"r",(function(){return C})),i.d(t,"d",(function(){return I})),i.d(t,"s",(function(){return O})),i.d(t,"t",(function(){return j})),i.d(t,"u",(function(){return x})),i.d(t,"v",(function(){return A})),i.d(t,"w",(function(){return N})),i.d(t,"x",(function(){return F})),i.d(t,"y",(function(){return L})),i.d(t,"z",(function(){return P})),i.d(t,"A",(function(){return R})),i.d(t,"B",(function(){return q})),i.d(t,"C",(function(){return $})),i.d(t,"D",(function(){return B})),i.d(t,"E",(function(){return M})),i.d(t,"F",(function(){return U})),i.d(t,"G",(function(){return V})),i.d(t,"H",(function(){return z})),i.d(t,"I",(function(){return W})),i.d(t,"J",(function(){return H})),i.d(t,"K",(function(){return G})),i.d(t,"L",(function(){return K})),i.d(t,"M",(function(){return Y})),i.d(t,"N",(function(){return Q})),i.d(t,"O",(function(){return X})),i.d(t,"P",(function(){return J})),i.d(t,"Q",(function(){return Z}));var n=i("t9l/");const s=500,r=3,a="None",o="Any",l="Current",c="Upcoming",d="Started",u=[a,o],p="=",h=Object(n.a)("is"),m="!=",f=Object(n.a)("is not one of"),g="||",v=Object(n.a)("is one of"),b=[{value:p,description:h}],y=[{value:m,description:f}],k=[{value:g,description:v}],w=[...b,...y],_=[...b,...y,...k],S=[{value:a,text:Object(n.a)("None"),title:Object(n.a)("None")},{value:o,text:Object(n.a)("Any"),title:Object(n.a)("Any")}],E={value:c,text:Object(n.a)("Upcoming"),title:Object(n.a)("Upcoming")},D={value:d,text:Object(n.a)("Started"),title:Object(n.a)("Started")},T=S.concat([E,D]),C={descending:"descending",ascending:"ascending"},I="filtered-search-term",O=Object(n.g)("SearchToken|Assignee"),j=Object(n.a)("Author"),x=Object(n.a)("Confidential"),A=Object(n.g)("Crm|Contact"),N=Object(n.a)("Label"),F=Object(n.a)("Milestone"),L=Object(n.a)("My-Reaction"),P=Object(n.g)("Crm|Organization"),R=Object(n.a)("Release"),q=(Object(n.a)("Source Branch"),Object(n.a)("Status")),$=(Object(n.a)("Target Branch"),Object(n.a)("Type")),B="assignee",M="author",U="confidential",V="contact",z="epic",W="health",H="iteration",G="label",K="milestone",Y="my-reaction",Q="organization",X="release",J="type",Z="weight"},"Ur+U":function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"issueCrmContactsUpdated"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssuableID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCrmContactsUpdated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"issuableId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CrmContacts"},directives:[]}]}}]}}]}}],loc:{start:0,end:203}};n.loc.source={body:'#import "./issue_crm_contacts.fragment.graphql"\n\nsubscription issueCrmContactsUpdated($id: IssuableID!) {\n  issueCrmContactsUpdated(issuableId: $id) {\n    ... on Issue {\n      ...CrmContacts\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("Tw1G").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var r={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.issueCrmContactsUpdated=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(n,"issueCrmContactsUpdated")},V4WY:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:147}};i.loc.source={body:"mutation updateIssue($input: UpdateIssueInput!) {\n  updateIssue(input: $input) {\n    issuable: issue {\n      id\n      state\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateIssue=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"updateIssue")},VYQf:function(e,t,i){"use strict";
/*! 
  * portal-vue  Thorsten Lnborg, 2019 
  * 
  * Version: 2.1.7
  * 
  * LICENCE: MIT 
  * 
  * https://github.com/linusborg/portal-vue
  * 
 */Object.defineProperty(t,"__esModule",{value:!0});var n,s=(n=i("q+nE"))&&"object"==typeof n&&"default"in n?n.default:n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o="undefined"!=typeof window;function l(e,t){return t.reduce((function(t,i){return e.hasOwnProperty(i)&&(t[i]=e[i]),t}),{})}var c={},d={},u={},p=new(s.extend({data:function(){return{transports:c,targets:d,sources:u,trackInstances:o}},methods:{open:function(e){if(o){var t=e.to,i=e.from,n=e.passengers,a=e.order,l=void 0===a?1/0:a;if(t&&i&&n){var c,d={to:t,from:i,passengers:(c=n,Array.isArray(c)||"object"===r(c)?Object.freeze(c):c),order:l};-1===Object.keys(this.transports).indexOf(t)&&s.set(this.transports,t,[]);var u,p=this.$_getTransportIndex(d),h=this.transports[t].slice(0);-1===p?h.push(d):h[p]=d,this.transports[t]=(u=function(e,t){return e.order-t.order},h.map((function(e,t){return[t,e]})).sort((function(e,t){return u(e[1],t[1])||e[0]-t[0]})).map((function(e){return e[1]})))}}},close:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.to,n=e.from;if(i&&(n||!1!==t)&&this.transports[i])if(t)this.transports[i]=[];else{var s=this.$_getTransportIndex(e);if(s>=0){var r=this.transports[i].slice(0);r.splice(s,1),this.transports[i]=r}}},registerTarget:function(e,t,i){o&&(this.trackInstances&&!i&&this.targets[e]&&console.warn("[portal-vue]: Target ".concat(e," already exists")),this.$set(this.targets,e,Object.freeze([t])))},unregisterTarget:function(e){this.$delete(this.targets,e)},registerSource:function(e,t,i){o&&(this.trackInstances&&!i&&this.sources[e]&&console.warn("[portal-vue]: source ".concat(e," already exists")),this.$set(this.sources,e,Object.freeze([t])))},unregisterSource:function(e){this.$delete(this.sources,e)},hasTarget:function(e){return!(!this.targets[e]||!this.targets[e][0])},hasSource:function(e){return!(!this.sources[e]||!this.sources[e][0])},hasContentFor:function(e){return!!this.transports[e]&&!!this.transports[e].length},$_getTransportIndex:function(e){var t=e.to,i=e.from;for(var n in this.transports[t])if(this.transports[t][n].from===i)return+n;return-1}}}))(c),h=1,m=s.extend({name:"portal",props:{disabled:{type:Boolean},name:{type:String,default:function(){return String(h++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}}},created:function(){var e=this;this.$nextTick((function(){p.registerSource(e.name,e)}))},mounted:function(){this.disabled||this.sendUpdate()},updated:function(){this.disabled?this.clear():this.sendUpdate()},beforeDestroy:function(){p.unregisterSource(this.name),this.clear()},watch:{to:function(e,t){t&&t!==e&&this.clear(t),this.sendUpdate()}},methods:{clear:function(e){var t={from:this.name,to:e||this.to};p.close(t)},normalizeSlots:function(){return this.$scopedSlots.default?[this.$scopedSlots.default]:this.$slots.default},normalizeOwnChildren:function(e){return"function"==typeof e?e(this.slotProps):e},sendUpdate:function(){var e=this.normalizeSlots();if(e){var t={from:this.name,to:this.to,passengers:a(e),order:this.order};p.open(t)}else this.clear()}},render:function(e){var t=this.$slots.default||this.$scopedSlots.default||[],i=this.tag;return t&&this.disabled?t.length<=1&&this.slim?this.normalizeOwnChildren(t)[0]:e(i,[this.normalizeOwnChildren(t)]):this.slim?e():e(i,{class:{"v-portal":!0},style:{display:"none"},key:"v-portal-placeholder"})}}),f=s.extend({name:"portalTarget",props:{multiple:{type:Boolean,default:!1},name:{type:String,required:!0},slim:{type:Boolean,default:!1},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},data:function(){return{transports:p.transports,firstRender:!0}},created:function(){var e=this;this.$nextTick((function(){p.registerTarget(e.name,e)}))},watch:{ownTransports:function(){this.$emit("change",this.children().length>0)},name:function(e,t){p.unregisterTarget(t),p.registerTarget(e,this)}},mounted:function(){var e=this;this.transition&&this.$nextTick((function(){e.firstRender=!1}))},beforeDestroy:function(){p.unregisterTarget(this.name)},computed:{ownTransports:function(){var e=this.transports[this.name]||[];return this.multiple?e:0===e.length?[]:[e[e.length-1]]},passengers:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.reduce((function(e,i){var n=i.passengers[0],s="function"==typeof n?n(t):i.passengers;return e.concat(s)}),[])}(this.ownTransports,this.slotProps)}},methods:{children:function(){return 0!==this.passengers.length?this.passengers:this.$scopedSlots.default?this.$scopedSlots.default(this.slotProps):this.$slots.default||[]},noWrapper:function(){var e=this.slim&&!this.transition;return e&&this.children().length>1&&console.warn("[portal-vue]: PortalTarget with `slim` option received more than one child element."),e}},render:function(e){var t=this.noWrapper(),i=this.children(),n=this.transition||this.tag;return t?i[0]:this.slim&&!n?e():e(n,{props:{tag:this.transition&&this.tag?this.tag:void 0},class:{"vue-portal-target":!0}},i)}}),g=0,v=["disabled","name","order","slim","slotProps","tag","to"],b=["multiple","transition"],y=s.extend({name:"MountingPortal",inheritAttrs:!1,props:{append:{type:[Boolean,String]},bail:{type:Boolean},mountTo:{type:String,required:!0},disabled:{type:Boolean},name:{type:String,default:function(){return"mounted_"+String(g++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}},multiple:{type:Boolean,default:!1},targetSlim:{type:Boolean},targetSlotProps:{type:Object,default:function(){return{}}},targetTag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},created:function(){if("undefined"!=typeof document){var e=document.querySelector(this.mountTo);if(e){var t=this.$props;if(p.targets[t.name])t.bail?console.warn("[portal-vue]: Target ".concat(t.name," is already mounted.\n        Aborting because 'bail: true' is set")):this.portalTarget=p.targets[t.name];else{var i=t.append;if(i){var n="string"==typeof i?i:"DIV",s=document.createElement(n);e.appendChild(s),e=s}var r=l(this.$props,b);r.slim=this.targetSlim,r.tag=this.targetTag,r.slotProps=this.targetSlotProps,r.name=this.to,this.portalTarget=new f({el:e,parent:this.$parent||this,propsData:r})}}else console.error("[portal-vue]: Mount Point '".concat(this.mountTo,"' not found in document"))}},beforeDestroy:function(){var e=this.portalTarget;if(this.append){var t=e.$el;t.parentNode.removeChild(t)}e.$destroy()},render:function(e){if(!this.portalTarget)return console.warn("[portal-vue] Target wasn't mounted"),e();if(!this.$scopedSlots.manual){var t=l(this.$props,v);return e(m,{props:t,attrs:this.$attrs,on:this.$listeners,scopedSlots:this.$scopedSlots},this.$slots.default)}var i=this.$scopedSlots.manual({to:this.to});return Array.isArray(i)&&(i=i[0]),i||e()}});var k={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.component(t.portalName||"Portal",m),e.component(t.portalTargetName||"PortalTarget",f),e.component(t.MountingPortalName||"MountingPortal",y)}};t.default=k,t.Portal=m,t.PortalTarget=f,t.MountingPortal=y,t.Wormhole=p},VnOA:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAlert"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertManagementAlert"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"severity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"monitoringTool"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"service"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hosts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:388}};i.loc.source={body:"query getAlert($iid: String!, $fullPath: ID!) {\n  project(fullPath: $fullPath) {\n    id\n    issue(iid: $iid) {\n      id\n      alertManagementAlert {\n        iid\n        title\n        detailsUrl\n        severity\n        status\n        startedAt\n        eventCount\n        monitoringTool\n        service\n        description\n        endedAt\n        hosts\n        details\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.getAlert=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"getAlert")},VqY4:function(e,t,i){"use strict";i("g+EE");var n=i("Q04j"),s=i("lT7T"),r=i("t9l/"),a=i("PVkw"),o=i.n(a),l=i("GlNy"),c=i.n(l),d=i("pGz2"),u={i18n:{errorMessage:Object(r.g)("WorkItem|Something went wrong when deleting the task. Please try again.")},components:{GlAlert:n.a,GlModal:s.a,WorkItemDetail:d.a},props:{workItemId:{type:String,required:!1,default:null},issueGid:{type:String,required:!1,default:""},lockVersion:{type:Number,required:!1,default:null},lineNumberStart:{type:String,required:!1,default:null},lineNumberEnd:{type:String,required:!1,default:null}},emits:["workItemDeleted","close"],data:()=>({error:void 0}),methods:{deleteWorkItem(){null!=this.lockVersion&&this.lineNumberStart&&this.lineNumberEnd?this.deleteWorkItemWithTaskData():this.deleteWorkItemWithoutTaskData()},deleteWorkItemWithTaskData(){var e=this;this.$apollo.mutate({mutation:o.a,variables:{input:{id:this.issueGid,lockVersion:this.lockVersion,taskData:{id:this.workItemId,lineNumberStart:Number(this.lineNumberStart),lineNumberEnd:Number(this.lineNumberEnd)}}}}).then((function(t){let{data:{workItemDeleteTask:{workItem:{descriptionHtml:i},errors:n}}}=t;if(null!=n&&n.length)throw new Error(n[0]);e.$emit("workItemDeleted",i),e.hide()})).catch((function(t){e.setErrorMessage(t.message)}))},deleteWorkItemWithoutTaskData(){var e=this;this.$apollo.mutate({mutation:c.a,variables:{input:{id:this.workItemId}}}).then((function(t){var i;let{data:n}=t;if(null!==(i=n.workItemDelete.errors)&&void 0!==i&&i.length)throw new Error(n.workItemDelete.errors[0]);e.$emit("workItemDeleted",e.workItemId),e.hide()})).catch((function(t){e.setErrorMessage(t.message)}))},closeModal(){this.error="",this.$emit("close")},hide(){this.$refs.modal.hide()},setErrorMessage(e){this.error=e||this.$options.i18n.errorMessage},show(){this.$refs.modal.show()}}},p=(i("6x+O"),i("bPvS")),h=Object(p.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-modal",{ref:"modal",attrs:{"hide-footer":"",size:"lg","modal-id":"work-item-detail-modal","header-class":"gl-p-0 gl-pb-2!"},on:{hide:e.closeModal}},[e.error?i("gl-alert",{attrs:{variant:"danger"},on:{dismiss:function(t){e.error=!1}}},[e._v("\n    "+e._s(e.error)+"\n  ")]):e._e(),e._v(" "),i("work-item-detail",{staticClass:"gl-p-5 gl-mt-n3",attrs:{"is-modal":"","work-item-parent-id":e.issueGid,"work-item-id":e.workItemId},on:{close:e.hide,deleteWorkItem:e.deleteWorkItem}})],1)}),[],!1,null,null,null);t.a=h.exports},VqxQ:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DestroyTimelineEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"TimelineEventDestroyInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineEventDestroy"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineEvent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:160}};i.loc.source={body:"mutation DestroyTimelineEvent($input: TimelineEventDestroyInput!) {\n  timelineEventDestroy(input: $input) {\n    timelineEvent {\n      id\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.DestroyTimelineEvent=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"DestroyTimelineEvent")},"W+tr":function(e,t,i){"use strict";var n=i("Fcvx"),s=i("Uklg"),r=i("6IRw"),a=i.n(r);const o={components:{CloseButton:s.a},props:{viewOnly:{type:Boolean,required:!1,default:!1},variant:{type:String,required:!1,default:"default",validator:e=>n.G.includes(e)}},computed:{variantClass(){return`gl-token-${this.variant}-variant`},viewOnlyClass(){return{"gl-token-view-only":this.viewOnly}}},methods:{close(e){this.$emit("close",e)}}};const l=a()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",e._g({class:["gl-token",e.variantClass,e.viewOnlyClass]},e.$listeners),[i("span",{staticClass:"gl-token-content"},[e._t("default"),e._v(" "),e.viewOnly?e._e():i("close-button",{staticClass:"gl-token-close gl-close-btn-color-inherit",on:{click:e.close}})],2)])},staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=l},WCLl:function(e,t,i){var n=i("NwYK")((function(e,t,i){return e+(i?"_":"")+t.toLowerCase()}));e.exports=n},WUCt:function(e,t,i){"use strict";var n=i("T9xw"),s=i.n(n),r=i("H8gz"),a=i("t9l/"),o=i("pmYr"),l={components:{GlIcon:r.a},props:{diffFile:{type:Object,required:!1,default:function(){return null}},addedLines:{type:Number,required:!0},removedLines:{type:Number,required:!0},diffFilesCountText:{type:String,required:!1,default:null}},computed:{diffFilesLength(){return parseInt(this.diffFilesCountText,10)},filesText(){return Object(a.f)("file","files",this.diffFilesLength)},isCompareVersionsHeader(){return Boolean(this.diffFilesCountText)},hasDiffFiles(){return s()(this.diffFilesLength)&&this.diffFilesLength>=0},notDiffable(){return Object(o.d)(this.diffFile)},fileStats(){return Object(o.g)(this.diffFile)}}},c=i("bPvS"),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"diff-stats",class:{"is-compare-versions-header gl-display-none gl-lg-display-inline-flex":e.isCompareVersionsHeader,"gl-display-none gl-sm-display-inline-flex":!e.isCompareVersionsHeader}},[e.notDiffable?i("div",{class:e.fileStats.classes},[e._v("\n    "+e._s(e.fileStats.text)+"\n  ")]):i("div",{staticClass:"diff-stats-contents"},[e.hasDiffFiles?i("div",{staticClass:"diff-stats-group"},[i("gl-icon",{staticClass:"diff-stats-icon gl-text-gray-500",attrs:{name:"doc-code"}}),e._v(" "),i("span",{staticClass:"gl-text-gray-500 bold"},[e._v(e._s(e.diffFilesCountText)+" "+e._s(e.filesText))])],1):e._e(),e._v(" "),i("div",{staticClass:"diff-stats-group gl-text-green-600 gl-display-flex gl-align-items-center",class:{bold:e.isCompareVersionsHeader}},[i("span",[e._v("+")]),e._v(" "),i("span",{attrs:{"data-testid":"js-file-addition-line"}},[e._v(e._s(e.addedLines))])]),e._v(" "),i("div",{staticClass:"diff-stats-group gl-text-red-500 gl-display-flex gl-align-items-center",class:{bold:e.isCompareVersionsHeader}},[i("span",[e._v("-")]),e._v(" "),i("span",{attrs:{"data-testid":"js-file-deletion-line"}},[e._v(e._s(e.removedLines))])])])])}),[],!1,null,null,null);t.a=d.exports},WiJj:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return r}));var n=i("t9l/");const s=function(e){return e?Object(n.a)("Mark as done"):Object(n.a)("Add a to do")},r=function(e){const t=document.querySelector(".js-todos-count");if(null===t)return;const i=parseInt(t.innerText,10),n=new CustomEvent("todo:toggle",{detail:{count:Math.max(i+e,0)}});document.dispatchEvent(n)}},WkmZ:function(e,t,i){var n=i("QN0Q");e.exports=function(e){return n(e)?e:[]}},Wtfk:function(e,t,i){var n=i("Iwy8"),s=i("reYZ");e.exports=function(e,t){return e&&e.length?s(e,n(t,3),!1,!0):[]}},WwcF:function(e,t,i){"use strict";i.r(t);var n=i("c1kE");Object(n.b)()},"X2+/":function(e,t,i){"use strict";var n=i("ly/8"),s=i("H8gz"),r=i("x3KW"),a=i("u1ru"),o=i("KFH7"),l=i("teVv"),c=i("mpzd"),d=i("U1Ws"),u=i("t9l/"),p=i("dYBJ"),h=i("5ee2"),m={components:{GlButton:i("cuRJ").a},inject:["canUpdate"],props:{formattedDate:{required:!0,type:String},hasDate:{required:!0,type:Boolean},resetText:{required:!0,type:String},isLoading:{required:!0,type:Boolean},canDelete:{required:!1,type:Boolean,default:!0}}},f=i("bPvS"),g=Object(f.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-display-flex gl-align-items-center hide-collapsed"},[i("span",{class:e.hasDate?"gl-text-gray-900":"gl-text-gray-500",attrs:{"data-testid":"sidebar-date-value"}},[e._v("\n    "+e._s(e.formattedDate)+"\n  ")]),e._v(" "),e.hasDate&&e.canUpdate&&e.canDelete?i("div",{staticClass:"gl-display-flex"},[i("span",{staticClass:"gl-px-2"},[e._v("-")]),e._v(" "),i("gl-button",{staticClass:"gl-text-gray-500!",attrs:{variant:"link","data-testid":"reset-button",disabled:e.isLoading},on:{click:function(t){return e.$emit("reset-date",t)}}},[e._v("\n      "+e._s(e.resetText)+"\n    ")])],1):e._e()])}),[],!1,null,null,null).exports,v={components:{GlFormRadio:i("6R2j").a,SidebarFormattedDate:g},inject:["canUpdate"],props:{issuable:{required:!0,type:Object},isLoading:{required:!1,type:Boolean,default:!1},dateType:{type:String,required:!0}},computed:{dateIsFixed:{get(){var e;return(null===(e=this.issuable)||void 0===e?void 0:e[h.j[this.dateType].isDateFixed])||!1},set(e){e!==this.issuable[h.j[this.dateType].isDateFixed]&&this.$emit("set-date",e)}},hasFixedDate(){return null!==this.issuable[h.j[this.dateType].dateFixed]},formattedFixedDate(){const e=this.issuable[h.j[this.dateType].dateFixed];return e?Object(d.c)(Object(d.z)(e),!0):this.$options.i18n.noDate},formattedInheritedDate(){const e=this.issuable[h.j[this.dateType].dateFromMilestones];return e?Object(d.c)(Object(d.z)(e),!0):this.$options.i18n.noDate}},i18n:{fixed:Object(u.a)("Fixed:"),inherited:Object(u.a)("Inherited:"),remove:Object(u.a)("remove"),noDate:Object(u.a)("None")}},b=Object(f.a)(v,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"hide-collapsed gl-mt-3"},[i("div",{staticClass:"gl-display-flex gl-align-items-baseline",attrs:{"data-testid":"sidebar-fixed-date"}},[i("gl-form-radio",{staticClass:"gl-pr-2",attrs:{value:!0,disabled:!e.canUpdate||e.isLoading},model:{value:e.dateIsFixed,callback:function(t){e.dateIsFixed=t},expression:"dateIsFixed"}},[i("span",{class:e.dateIsFixed?"gl-text-gray-900 gl-font-weight-bold":"gl-text-gray-500"},[e._v("\n        "+e._s(e.$options.i18n.fixed)+"\n      ")])]),e._v(" "),i("sidebar-formatted-date",{staticClass:"gl-line-height-normal",attrs:{"has-date":e.dateIsFixed,"formatted-date":e.formattedFixedDate,"reset-text":e.$options.i18n.remove,"is-loading":e.isLoading,"can-delete":e.dateIsFixed&&e.hasFixedDate},on:{"reset-date":function(t){return e.$emit("reset-date",t)}}})],1),e._v(" "),i("div",{staticClass:"gl-display-flex gl-align-items-baseline",attrs:{"data-testid":"sidebar-inherited-date"}},[i("gl-form-radio",{staticClass:"gl-pr-2",attrs:{value:!1,disabled:!e.canUpdate||e.isLoading},model:{value:e.dateIsFixed,callback:function(t){e.dateIsFixed=t},expression:"dateIsFixed"}},[i("span",{class:e.dateIsFixed?"gl-text-gray-500":"gl-text-gray-900 gl-font-weight-bold"},[e._v("\n        "+e._s(e.$options.i18n.inherited)+"\n      ")])]),e._v(" "),i("sidebar-formatted-date",{staticClass:"gl-line-height-normal",attrs:{"has-date":!e.dateIsFixed,"formatted-date":e.formattedInheritedDate,"reset-text":e.$options.i18n.remove,"is-loading":e.isLoading,"can-delete":!1}})],1)])}),[],!1,null,null,null).exports;const y=new CustomEvent("hiddenGlDropdown",{bubbles:!0});var k={tracking:{event:h.g.editEvent,label:h.g.rightSidebarLabel},directives:{GlTooltip:n.a},components:{GlIcon:s.a,GlDatepicker:r.a,GlLink:a.a,GlPopover:o.a,SidebarEditableItem:p.a,SidebarFormattedDate:g,SidebarInheritDate:b},inject:["canUpdate"],props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},dateType:{type:String,required:!1,default:h.k.due},issuableType:{required:!0,type:String},canInherit:{required:!1,type:Boolean,default:!1}},data(){return{issuable:{},loading:!1,tracking:{...this.$options.tracking,property:this.dateType===h.k.start?"startDate":"dueDate"}}},apollo:{issuable:{query(){return this.dateQueries[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:String(this.iid)}},update(e){var t;return(null===(t=e.workspace)||void 0===t?void 0:t.issuable)||{}},result(e){var t,i;let{data:n}=e;n&&this.$emit(this.dateType+"Updated",null===(t=n.workspace)||void 0===t||null===(i=t.issuable)||void 0===i?void 0:i[this.dateType])},error(){Object(l.createAlert)({message:Object(u.h)(Object(u.a)("Something went wrong while setting %{issuableType} %{dateType} date."),{issuableType:this.issuableType,dateType:this.dateType===h.k.start?"start":"due"})})}}},computed:{dateQueries(){return this.dateType===h.k.start?h.w:h.n},dateLabel(){return this.dateType===h.k.start?this.$options.i18n.startDate:this.$options.i18n.dueDate},removeDateLabel(){return this.dateType===h.k.start?this.$options.i18n.removeStartDate:this.$options.i18n.removeDueDate},dateValue(){var e;return(null===(e=this.issuable)||void 0===e?void 0:e[this.dateType])||null},firstDay:()=>gon.first_day_of_week,isLoading(){return this.$apollo.queries.issuable.loading||this.loading},initialLoading(){return this.$apollo.queries.issuable.loading},hasDate(){return null!==this.dateValue},parsedDate(){return this.hasDate?Object(d.z)(this.dateValue):null},formattedDate(){return this.hasDate?Object(d.c)(this.parsedDate,!0):this.$options.i18n.noDate},workspacePath(){return this.issuableType===c.c.Issue?{projectPath:this.fullPath}:{groupPath:this.fullPath}},dataTestId(){return this.dateType===h.k.start?"sidebar-start-date":"sidebar-due-date"}},methods:{epicDatePopoverEl(){var e,t;return null===(e=this.$refs)||void 0===e||null===(t=e.epicDatePopover)||void 0===t?void 0:t.$el},closeForm(){this.$refs.editable.collapse(),this.$el.dispatchEvent(y),this.$emit("closeForm")},openDatePicker(){this.$refs.datePicker.show()},setFixedDate(e){const t=this.issuable[h.j[this.dateType].dateFixed];this.setDate(t,e)},setDate(e){var t=this;let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e?Object(d.g)(e,"yyyy-mm-dd"):null;this.loading=!0,this.$refs.editable.collapse(),this.$apollo.mutate({mutation:this.dateQueries[this.issuableType].mutation,variables:{input:{...this.workspacePath,iid:this.iid,...this.canInherit?{[h.j[this.dateType].dateFixed]:i?n:void 0,[h.j[this.dateType].isDateFixed]:i}:{[this.dateType]:n}}}}).then((function(e){let{data:{issuableSetDate:{errors:i}}}=e;i.length?Object(l.createAlert)({message:i[0]}):t.$emit("closeForm")})).catch((function(){Object(l.createAlert)({message:Object(u.h)(Object(u.a)("Something went wrong while setting %{issuableType} %{dateType} date."),{issuableType:t.issuableType,dateType:t.dateType===h.k.start?"start":"due"})})})).finally((function(){t.loading=!1}))}},i18n:{dueDate:Object(u.a)("Due date"),startDate:Object(u.a)("Start date"),noDate:Object(u.a)("None"),removeDueDate:Object(u.a)("remove due date"),removeStartDate:Object(u.a)("remove start date"),dateHelpValidMessage:Object(u.a)("These dates affect how your epics appear in the roadmap. Set a fixed date or one inherited from the milestones assigned to issues in this epic."),help:Object(u.a)("Help"),learnMore:Object(u.a)("Learn more")},dateHelpUrl:"/help/user/group/epics/index.md#start-date-and-due-date"},w=Object(f.a)(k,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("sidebar-editable-item",{ref:"editable",staticClass:"block",attrs:{title:e.dateLabel,tracking:e.tracking,loading:e.isLoading,"data-testid":e.dataTestId},on:{open:e.openDatePicker},scopedSlots:e._u([e.canInherit?{key:"title-extra",fn:function(){return[i("gl-icon",{ref:"epicDatePopover",staticClass:"gl-ml-3 gl-cursor-pointer gl-text-blue-600 hide-collapsed",attrs:{name:"question-o",tabindex:"0","aria-label":e.$options.i18n.help,"data-testid":"inherit-date-popover"}}),e._v(" "),i("gl-popover",{attrs:{target:e.epicDatePopoverEl,triggers:"focus",placement:"left",boundary:"viewport"}},[i("p",[e._v(e._s(e.$options.i18n.dateHelpValidMessage))]),e._v(" "),i("gl-link",{attrs:{href:e.$options.dateHelpUrl,target:"_blank"}},[e._v(e._s(e.$options.i18n.learnMore))])],1)]},proxy:!0}:null,{key:"collapsed",fn:function(){return[i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.left",modifiers:{viewport:!0,left:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.dateLabel}},[i("gl-icon",{attrs:{size:16,name:"calendar"}}),e._v(" "),i("span",{staticClass:"gl-pt-2 gl-px-3 gl-font-sm"},[e._v(e._s(e.formattedDate))])],1),e._v(" "),e.canInherit&&!e.initialLoading?i("sidebar-inherit-date",{attrs:{issuable:e.issuable,"date-type":e.dateType,"is-loading":e.isLoading},on:{"reset-date":function(t){return e.setDate(null)},"set-date":e.setFixedDate}}):i("sidebar-formatted-date",{attrs:{"has-date":e.hasDate,"formatted-date":e.formattedDate,"reset-text":e.removeDateLabel,"is-loading":e.isLoading},on:{"reset-date":function(t){return e.setDate(null)}}})]},proxy:!0},{key:"default",fn:function(){return[e.isLoading?e._e():i("gl-datepicker",{ref:"datePicker",staticClass:"gl-relative",attrs:{"default-date":e.parsedDate,"first-day":e.firstDay,"show-clear-button":"",autocomplete:"off"},on:{input:e.setDate,clear:function(t){return e.setDate(null)}}})]},proxy:!0}],null,!0)})}),[],!1,null,null,null);t.a=w.exports},XPiF:function(e,t,i){"use strict";var n={name:"EditedNoteText",components:{TimeAgoTooltip:i("LcVr").a},props:{actionText:{type:String,required:!0},actionDetailText:{type:String,required:!1,default:""},editedAt:{type:String,required:!1,default:null},editedBy:{type:Object,required:!1,default:null},className:{type:String,required:!1,default:"edited-text"}}},s=i("bPvS"),r=Object(s.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.className},[e._v("\n  "+e._s(e.actionText)+"\n  "),e.editedBy?[e._v("\n    by\n    "),i("a",{staticClass:"js-user-link author-link",attrs:{href:e.editedBy.path,"data-user-id":e.editedBy.id}},[e._v("\n      "+e._s(e.editedBy.name)+"\n    ")])]:e._e(),e._v("\n  "+e._s(e.actionDetailText)+"\n  "),i("time-ago-tooltip",{attrs:{time:e.editedAt,"tooltip-placement":"bottom"}})],2)}),[],!1,null,null,null);t.a=r.exports},"XR+4":function(e,t,i){"use strict";var n=i("t9l/"),s={name:"ReplyPlaceholder",props:{placeholderText:{type:String,required:!1,default:Object(n.a)("Reply")},labelText:{type:String,required:!1,default:Object(n.a)("Reply to comment")}}},r=i("bPvS"),a=Object(r.a)(s,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("textarea",{ref:"textarea",staticClass:"reply-placeholder-text-field js-vue-discussion-reply",attrs:{rows:"1",placeholder:e.placeholderText,"aria-label":e.labelText},on:{focus:function(t){return e.$emit("focus")}}})}),[],!1,null,null,null);t.a=a.exports},XWEW:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));const n=/^(\/?(.+?)\/(.+?)\/-\/merge_requests\/(\d+)).*$/i;function s(){let e,t,i,s,{endpoint:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=n.exec(r);return a&&([,e,t,i,s]=a),{mrPath:e,userOrGroup:t,project:i,id:s}}},XWU0:function(e,t,i){"use strict";var n=i("WCLl"),s=i.n(n),r=i("SNO9"),a=i.n(r),o=(i("h8Et"),i("OkMp")),l=i("0X+3"),c=i("Ox/j"),d=i("OqKX"),u=i("6HTq"),p=i("zLBL"),h=i("mpzd"),m=i("t9l/"),f=i("5ee2"),g=i("teVv"),v=i("6/mp"),b={noAttributeId:f.t,i18n:{expired:Object(m.a)("(expired)")},components:{GlDropdown:o.a,GlDropdownItem:l.a,GlDropdownText:c.a,GlDropdownDivider:d.a,GlSearchBoxByType:u.a,GlLoadingIcon:p.a},inject:{issuableAttributesQueries:{default:f.r},issuableAttributesState:{default:f.b},widgetTitleText:{default:{[f.c.Milestone]:Object(m.a)("Milestone"),expired:Object(m.a)("(expired)"),none:Object(m.a)("None")}}},props:{attrWorkspacePath:{required:!0,type:String},currentAttribute:{type:Object,required:!1,default:function(){return{}}},issuableAttribute:{type:String,required:!0},issuableType:{type:String,required:!0,validator:e=>[h.c.Issue,h.c.MergeRequest].includes(e)},workspaceType:{type:String,required:!1,default:h.e.project,validator:e=>[h.e.group,h.e.project].includes(e)}},data:()=>({attributesList:[],searchTerm:"",skipQuery:!0}),apollo:{attributesList:{query(){const{list:e}=this.issuableAttributeQuery,{query:t}=e[this.issuableType];return t[this.workspaceType]||t},variables(){if(!this.isEpic)return{fullPath:this.attrWorkspacePath,title:this.searchTerm,state:this.issuableAttributesState[this.issuableAttribute]};const e={fullPath:this.attrWorkspacePath,state:this.issuableAttributesState[this.issuableAttribute],sort:f.l};if(f.o.test(this.searchTerm)){const t=this.searchTerm.match(f.o);e.iidStartsWith=t.groups.iid}else""!==this.searchTerm&&(e.in="TITLE",e.title=this.searchTerm);return e},update:function(e){var t,i,n;return null!==(t=null==e||null===(i=e.workspace)||void 0===i||null===(n=i.attributes)||void 0===n?void 0:n.nodes)&&void 0!==t?t:[]},error(e){Object(g.createAlert)({message:this.i18n.listFetchError,captureError:!0,error:e})},skip(){return!!(this.isEpic&&this.searchTerm.startsWith(v.a.Epic)&&this.searchTerm.length<2)||this.skipQuery},debounce:250}},computed:{attributeTypeTitle(){return this.widgetTitleText[this.issuableAttribute]},dropdownText(){var e;return this.currentAttribute?null===(e=this.currentAttribute)||void 0===e?void 0:e.title:this.attributeTypeTitle},emptyPropsList(){return 0===this.attributesList.length},i18n(){const e=f.e[f.d[this.issuableAttribute]];return Object(f.m)(e,this.issuableType)},isEpic(){return this.issuableAttribute===h.c.Epic},issuableAttributeQuery(){return this.issuableAttributesQueries[this.issuableAttribute]},formatIssuableAttribute(){return{kebab:a()(this.issuableAttribute),snake:s()(this.issuableAttribute)}}},methods:{isAttributeChecked(e){var t,i;return e===(null===(t=this.currentAttribute)||void 0===t?void 0:t.id)||!(null!==(i=this.currentAttribute)&&void 0!==i&&i.id)&&!e},isAttributeOverdue(e){return this.issuableAttribute===f.c.Milestone&&(null==e?void 0:e.expired)},handleShow(){this.skipQuery=!1},setFocus(){this.$refs.search.focusInput()},show(){this.$refs.dropdown.show()},updateAttribute(e){this.$emit("change",e)}}},y=i("bPvS"),k=Object(y.a)(b,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-dropdown",{ref:"dropdown",attrs:{block:"","header-text":e.i18n.assignAttribute,lazy:"",text:e.dropdownText,"toggle-class":"gl-m-0"},on:{show:e.handleShow,shown:e.setFocus},scopedSlots:e._u([{key:"footer",fn:function(){return[e._t("footer")]},proxy:!0}],null,!0)},[i("gl-search-box-by-type",{ref:"search",attrs:{placeholder:e.__("Search")},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}}),e._v(" "),i("gl-dropdown-item",{attrs:{"data-testid":"no-"+e.formatIssuableAttribute.kebab+"-item","is-check-item":"","is-checked":e.isAttributeChecked(e.$options.noAttributeId)},on:{click:function(t){return e.$emit("change",{id:e.$options.noAttributeId})}}},[e._v("\n    "+e._s(e.i18n.noAttribute)+"\n  ")]),e._v(" "),i("gl-dropdown-divider"),e._v(" "),e.$apollo.queries.attributesList.loading?i("gl-loading-icon",{staticClass:"gl-py-4",attrs:{size:"sm","data-testid":"loading-icon-dropdown"}}):[e.emptyPropsList?i("gl-dropdown-text",[e._v("\n      "+e._s(e.i18n.noAttributesFound)+"\n    ")]):e._t("list",(function(){return e._l(e.attributesList,(function(t){return i("gl-dropdown-item",{key:t.id,attrs:{"is-check-item":"","is-checked":e.isAttributeChecked(t.id),"data-testid":e.formatIssuableAttribute.kebab+"-items"},on:{click:function(i){return e.updateAttribute(t)}}},[e._v("\n        "+e._s(t.title)+"\n        "),e.isAttributeOverdue(t)?[e._v(e._s(e.$options.i18n.expired))]:e._e()],2)}))}),{attributesList:e.attributesList,isAttributeChecked:e.isAttributeChecked,updateAttribute:e.updateAttribute})]],2)}),[],!1,null,null,null);t.a=k.exports},XXQe:function(e,t,i){"use strict";i.d(t,"m",(function(){return r})),i.d(t,"j",(function(){return a})),i.d(t,"l",(function(){return o})),i.d(t,"k",(function(){return l})),i.d(t,"o",(function(){return c})),i.d(t,"n",(function(){return d})),i.d(t,"q",(function(){return u})),i.d(t,"r",(function(){return p})),i.d(t,"u",(function(){return h})),i.d(t,"w",(function(){return m})),i.d(t,"x",(function(){return f})),i.d(t,"s",(function(){return g})),i.d(t,"v",(function(){return v})),i.d(t,"t",(function(){return b})),i.d(t,"E",(function(){return y})),i.d(t,"A",(function(){return k})),i.d(t,"B",(function(){return w})),i.d(t,"C",(function(){return _})),i.d(t,"D",(function(){return S})),i.d(t,"F",(function(){return E})),i.d(t,"h",(function(){return D})),i.d(t,"f",(function(){return T})),i.d(t,"i",(function(){return C})),i.d(t,"g",(function(){return I})),i.d(t,"d",(function(){return O})),i.d(t,"c",(function(){return j})),i.d(t,"e",(function(){return x})),i.d(t,"G",(function(){return A})),i.d(t,"p",(function(){return N})),i.d(t,"z",(function(){return F})),i.d(t,"y",(function(){return L})),i.d(t,"b",(function(){return P})),i.d(t,"a",(function(){return R}));var n=i("t9l/"),s=i("vRHk");const r="OPEN",a="CLOSED",o="REOPEN",l="CLOSE",c="workItems:show",d="Task",u="ASSIGNEES",p="DESCRIPTION",h="LABELS",m="START_AND_DUE_DATE",f="WEIGHT",g="HIERARCHY",v="MILESTONE",b="ITERATION",y="gl-show-work-item-banner",k="INCIDENT",w="ISSUE",_="TASK",S="TEST_CASE",E={fetchErrorTitle:Object(n.g)("WorkItem|Work item not found"),fetchError:Object(n.g)("WorkItem|This work item is not available. It either doesn't exist or you don't have permission to view it."),updateError:Object(n.g)("WorkItem|Something went wrong while updating the work item. Please try again."),confidentialTooltip:Object(n.g)("WorkItem|Only project members with at least the Reporter role, the author, and assignees can view or be notified about this task.")},D=Object(n.g)("WorkItem|Something went wrong when fetching labels. Please try again."),T=Object(n.g)("WorkItem|Something went wrong when creating %{workItemType}. Please try again."),C=Object(n.g)("WorkItem|Something went wrong while updating the %{workItemType}. Please try again."),I=Object(n.g)("WorkItem|Something went wrong when deleting the %{workItemType}. Please try again."),O=Object(n.g)("WorkItem|Delete %{workItemType}"),j=Object(n.g)("WorkItem|Are you sure you want to delete the %{workItemType}? This action cannot be reversed."),x=Object(n.g)("WorkItem|%{workItemType} deleted"),A=(Object(n.g)("WorkItem|Something went wrong when fetching iterations. Please try again."),function(e,t){const i=t||Object(n.g)("WorkItem|Work item");return Object(s.f)(Object(n.h)(e,{workItemType:i.toLocaleLowerCase()}))}),N={TASK:"issue-type-task"},F={CLOSED:Object(n.g)("WorkItem|Closed"),OPEN:Object(n.g)("WorkItem|Open")},L={[k]:{icon:"issue-type-incident",name:Object(n.g)("WorkItem|Incident")},[w]:{icon:"issue-type-issue",name:Object(n.g)("WorkItem|Issue")},[_]:{icon:"issue-type-task",name:Object(n.g)("WorkItem|Task")},[S]:{icon:"issue-type-test-case",name:Object(n.g)("WorkItem|Test case")},REQUIREMENTS:{icon:"issue-type-requirements",name:Object(n.g)("WorkItem|Requirements")}},P={create:"create",add:"add"},R=10},Y4M3:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i("uHfJ"),i("R0RX");const n=function(e){const{notesFilterValue:t,notesFilters:i}=e.dataset,n=i?JSON.parse(i):{};return{notesFilters:Object.keys(n).map((function(e){return{title:e,value:n[e]}})),notesFilterValue:t?Number(t):void 0}}},"YK+j":function(e,t,i){var n=i("NZhY"),s=i("ZzVf"),r=i("ri+z"),a=i("qGI4"),o=i("5uIe"),l=i("lj6f"),c=Math.min;e.exports=function(e,t,i){for(var d=i?r:s,u=e[0].length,p=e.length,h=p,m=Array(p),f=1/0,g=[];h--;){var v=e[h];h&&t&&(v=a(v,o(t))),f=c(v.length,f),m[h]=!i&&(t||u>=120&&v.length>=120)?new n(h&&v):void 0}v=e[0];var b=-1,y=m[0];e:for(;++b<u&&g.length<f;){var k=v[b],w=t?t(k):k;if(k=i||0!==k?k:0,!(y?l(y,w):d(g,w,i))){for(h=p;--h;){var _=m[h];if(!(_?l(_,w):d(e[h],w,i)))continue e}y&&y.push(w),g.push(k)}}return g}},YLph:function(e,t,i){var n=i("NxF4");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i("wd1e").default)("7131a89c",n,!0,{})},YOcS:function(e,t,i){"use strict";i.d(t,"a",(function(){return w}));var n=i("ENs1"),s=i("q+nE"),r=i("teVv"),a=i("t9l/"),o=i("dYBJ"),l=i("5ee2"),c=i("H8gz"),d=i("Q04j"),u=i("ly/8"),p=i("mpzd"),h=i("EqYD"),m={components:{GlIcon:c.a,GlAlert:d.a},directives:{GlTooltip:u.a},props:{confidential:{type:Boolean,required:!0},issuableType:{type:String,required:!0}},computed:{confidentialBodyText(){return Object(h.g)(this.issuableType===p.c.Epic?p.e.group:p.e.project,this.issuableType)},confidentialIcon(){return this.confidential?"eye-slash":"eye"},tooltipLabel(){return this.confidential?Object(a.a)("Confidential"):Object(a.a)("Not confidential")}}},f=i("bPvS"),g=Object(f.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.left",modifiers:{viewport:!0,left:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.tooltipLabel,"data-testid":"sidebar-collapsed-icon"},on:{click:function(t){return e.$emit("expandSidebar")}}},[i("gl-icon",{staticClass:"sidebar-item-icon inline",class:{"is-active":e.confidential},attrs:{size:16,name:e.confidentialIcon}})],1),e._v(" "),i("gl-icon",{staticClass:"sidebar-item-icon inline hide-collapsed",class:{"is-active":e.confidential},attrs:{size:16,name:e.confidentialIcon}}),e._v(" "),i("span",{staticClass:"hide-collapsed",attrs:{"data-testid":"confidential-text"}},[e._v("\n    "+e._s(e.tooltipLabel)+"\n    "),e.confidential?i("gl-alert",{staticClass:"gl-mt-3",attrs:{"show-icon":!1,dismissible:!1,variant:"warning"}},[e._v("\n      "+e._s(e.confidentialBodyText)+"\n    ")]):e._e()],1)],1)}),[],!1,null,null,null).exports,v=i("nPFI"),b=i("cuRJ"),y={i18n:{confidentialityOnWarning:Object(a.a)("You are going to turn on confidentiality. Only %{context} members with %{strongStart}%{permissions}%{strongEnd} can view or be notified about this %{issuableType}."),confidentialityOffWarning:Object(a.a)("You are going to turn off the confidentiality. This means %{strongStart}everyone%{strongEnd} will be able to see and leave a comment on this %{issuableType}.")},components:{GlSprintf:v.a,GlButton:b.a},props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},confidential:{required:!0,type:Boolean},issuableType:{required:!0,type:String}},data:()=>({loading:!1}),computed:{toggleButtonText(){return this.loading?Object(a.a)("Applying"):this.confidential?Object(a.a)("Turn off"):Object(a.a)("Turn on")},warningMessage(){return this.confidential?this.$options.i18n.confidentialityOffWarning:this.$options.i18n.confidentialityOnWarning},context(){return this.issuableType===p.c.Issue?Object(a.a)("project"):Object(a.a)("group")},workspacePath(){return this.issuableType===p.c.Issue?{projectPath:this.fullPath}:{groupPath:this.fullPath}},permissions(){return this.issuableType===p.c.Issue?Object(a.a)("at least the Reporter role, the author, and assignees"):Object(a.a)("at least the Reporter role")}},methods:{submitForm(){var e=this;this.loading=!0,this.$apollo.mutate({mutation:l.i[this.issuableType].mutation,variables:{input:{...this.workspacePath,iid:this.iid,confidential:!this.confidential}}}).then((function(t){let{data:{issuableSetConfidential:{errors:i}}}=t;i.length?Object(r.createAlert)({message:i[0]}):e.$emit("closeForm")})).catch((function(){Object(r.createAlert)({message:Object(a.h)(Object(a.a)("Something went wrong while setting %{issuableType} confidentiality."),{issuableType:e.issuableType})})})).finally((function(){e.loading=!1}))}}},k=Object(f.a)(y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown show"},[i("div",{staticClass:"dropdown-menu sidebar-item-warning-message"},[i("div",[i("p",{attrs:{"data-testid":"warning-message"}},[i("gl-sprintf",{attrs:{message:e.warningMessage},scopedSlots:e._u([{key:"strong",fn:function(t){var n=t.content;return[i("strong",[i("gl-sprintf",{attrs:{message:n},scopedSlots:e._u([{key:"permissions",fn:function(){return[e._v(e._s(e.permissions))]},proxy:!0}],null,!0)})],1)]}},{key:"context",fn:function(){return[e._v(e._s(e.context))]},proxy:!0},{key:"issuableType",fn:function(){return[e._v(e._s(e.issuableType))]},proxy:!0}])})],1),e._v(" "),i("div",{staticClass:"sidebar-item-warning-message-actions"},[i("gl-button",{staticClass:"gl-mr-3",attrs:{"data-testid":"confidential-cancel"},on:{click:function(t){return e.$emit("closeForm")}}},[e._v("\n          "+e._s(e.__("Cancel"))+"\n        ")]),e._v(" "),i("gl-button",{attrs:{category:"secondary",variant:"confirm",disabled:e.loading,loading:e.loading,"data-testid":"confidential-toggle"},on:{click:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[e._v("\n          "+e._s(e.toggleButtonText)+"\n        ")])],1)])])])}),[],!1,null,null,null).exports;const w=s.default.observable({setConfidentiality:null}),_=new CustomEvent("hiddenGlDropdown",{bubbles:!0});var S={tracking:{event:l.g.editEvent,label:l.g.rightSidebarLabel,property:"confidentiality"},components:{SidebarEditableItem:o.a,SidebarConfidentialityContent:g,SidebarConfidentialityForm:k},inject:{isClassicSidebar:{default:!1}},props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},issuableType:{required:!0,type:String}},data:()=>({confidential:!1}),apollo:{confidential:{query(){return l.i[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:String(this.iid)}},update(e){var t,i;return(null===(t=e.workspace)||void 0===t||null===(i=t.issuable)||void 0===i?void 0:i.confidential)||!1},result(e){var t,i;let{data:n}=e;n&&this.$emit("confidentialityUpdated",null===(t=n.workspace)||void 0===t||null===(i=t.issuable)||void 0===i?void 0:i.confidential)},error(){Object(r.createAlert)({message:Object(a.h)(Object(a.a)("Something went wrong while setting %{issuableType} confidentiality."),{issuableType:this.issuableType})})}}},computed:{isLoading(){return this.$apollo.queries.confidential.loading}},mounted(){w.setConfidentiality=this.setConfidentiality},destroyed(){w.setConfidentiality=null},methods:{closeForm(){this.$refs.editable.collapse(),this.$el.dispatchEvent(_),this.$emit("closeForm")},setConfidentiality(){var e=this;const{defaultClient:t}=this.$apollo.provider.clients,i=t.readQuery({query:l.i[this.issuableType].query,variables:{fullPath:this.fullPath,iid:this.iid}}),s=Object(n.a)(i,(function(t){t.workspace.issuable.confidential=!e.confidential}));t.writeQuery({query:l.i[this.issuableType].query,variables:{fullPath:this.fullPath,iid:this.iid},data:s})},expandSidebar(){this.$refs.editable.expand(),this.$emit("expandSidebar")}}},E=Object(f.a)(S,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("sidebar-editable-item",{ref:"editable",staticClass:"block confidentiality",attrs:{title:e.__("Confidentiality"),tracking:e.$options.tracking,loading:e.isLoading},scopedSlots:e._u([{key:"collapsed",fn:function(){return[i("div",[e.isLoading?e._e():i("sidebar-confidentiality-content",{class:{"gl-mt-3":!e.isClassicSidebar},attrs:{confidential:e.confidential,"issuable-type":e.issuableType},on:{expandSidebar:e.expandSidebar}})],1)]},proxy:!0},{key:"default",fn:function(){return[i("sidebar-confidentiality-content",{attrs:{confidential:e.confidential,"issuable-type":e.issuableType}}),e._v(" "),i("sidebar-confidentiality-form",{attrs:{iid:e.iid,"full-path":e.fullPath,confidential:e.confidential,"issuable-type":e.issuableType},on:{closeForm:e.closeForm}})]},proxy:!0}])})}),[],!1,null,null,null);t.b=E.exports},"YSj/":function(e,t,i){var n,s,r;s=[],void 0===(r="function"==typeof(n=function(){var e=/(auto|scroll)/,t=function(e,i){return null===e.parentNode?i:t(e.parentNode,i.concat([e]))},i=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},n=function(t){return e.test(function(e){return i(e,"overflow")+i(e,"overflow-y")+i(e,"overflow-x")}(t))};return function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var i=t(e.parentNode,[]),s=0;s<i.length;s+=1)if(n(i[s]))return i[s];return document.scrollingElement||document.documentElement}}})?n.apply(t,s):n)||(e.exports=r)},Yvyq:function(e,t,i){var n=i("bTeh");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i("wd1e").default)("dcd43a42",n,!0,{})},Z0Ze:function(e,t,i){"use strict";i("uHfJ"),i("R0RX");var n=i("H8gz"),s=i("u1ru"),r=i("nPFI"),a=i("t9l/");const o={Issue:Object(a.a)("issue"),Epic:Object(a.a)("epic"),MergeRequest:Object(a.a)("merge request")};var l={components:{GlIcon:n.a,GlLink:s.a,GlSprintf:r.a},props:{isLocked:{type:Boolean,default:!1,required:!1},isConfidential:{type:Boolean,default:!1,required:!1},noteableType:{type:String,required:!1,default:"Issue"},lockedNoteableDocsPath:{type:String,required:!1,default:""},confidentialNoteableDocsPath:{type:String,required:!1,default:""}},computed:{warningIcon(){return this.isConfidential?"eye-slash":this.isLocked?"lock":""},isLockedAndConfidential(){return this.isConfidential&&this.isLocked},noteableTypeText(){return o[this.noteableType]},confidentialContextText(){return Object(a.h)(Object(a.a)("This is a confidential %{noteableTypeText}."),{noteableTypeText:this.noteableTypeText})},lockedContextText(){return Object(a.h)(Object(a.a)("This %{noteableTypeText} is locked."),{noteableTypeText:this.noteableTypeText})}}},c=i("bPvS"),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"issuable-note-warning",attrs:{"data-testid":"confidential-warning"}},[e.isLockedAndConfidential?e._e():i("gl-icon",{staticClass:"icon inline",attrs:{name:e.warningIcon,size:16}}),e._v(" "),e.isLockedAndConfidential?i("span",{ref:"lockedAndConfidential"},[i("span",[i("gl-sprintf",{attrs:{message:e.__("This %{noteableTypeText} is %{confidentialLinkStart}confidential%{confidentialLinkEnd} and %{lockedLinkStart}locked%{lockedLinkEnd}.")},scopedSlots:e._u([{key:"noteableTypeText",fn:function(){return[e._v(e._s(e.noteableTypeText))]},proxy:!0},{key:"confidentialLink",fn:function(t){var n=t.content;return[i("gl-link",{attrs:{href:e.confidentialNoteableDocsPath,target:"_blank"}},[e._v(e._s(n))])]}},{key:"lockedLink",fn:function(t){var n=t.content;return[i("gl-link",{attrs:{href:e.lockedNoteableDocsPath,target:"_blank"}},[e._v(e._s(n))])]}}],null,!1,21387600)})],1),e._v("\n    "+e._s(e.__("People without permission will never get a notification and won't be able to comment."))+"\n  ")]):e.isConfidential?i("span",{ref:"confidential"},[e._v("\n    "+e._s(e.confidentialContextText)+"\n    "+e._s(e.__("People without permission will never get a notification."))+"\n    "),i("gl-link",{attrs:{href:e.confidentialNoteableDocsPath,target:"_blank"}},[e._v(e._s(e.__("Learn more.")))])],1):e.isLocked?i("span",{ref:"locked"},[e._v("\n    "+e._s(e.lockedContextText)+"\n    "+e._s(e.__("Only project members can comment."))+"\n    "),i("gl-link",{attrs:{href:e.lockedNoteableDocsPath,target:"_blank"}},[e._v(e._s(e.__("Learn more.")))])],1):e._e()],1)}),[],!1,null,null,null).exports,u=i("nGW5"),p={components:{GlSprintf:r.a},props:{emails:{type:Array,required:!0},numberOfLessParticipants:{type:Number,required:!1,default:3}},data:()=>({isShowingMoreParticipants:!1}),computed:{title(){return this.moreParticipantsAvailable?Object(u.a)(this.lessParticipants,{onlyCommas:!0}):Object(u.a)(this.emails)},lessParticipants(){return this.emails.slice(0,this.numberOfLessParticipants)},moreLabel(){return Object(a.h)(Object(a.g)("EmailParticipantsWarning|and %{moreCount} more"),{moreCount:this.emails.length-this.numberOfLessParticipants})},moreParticipantsAvailable(){return!this.isShowingMoreParticipants&&this.emails.length>this.numberOfLessParticipants},message(){return this.moreParticipantsAvailable?Object(a.g)("EmailParticipantsWarning|%{emails}, %{andMore} will be notified of your comment."):Object(a.g)("EmailParticipantsWarning|%{emails} will be notified of your comment.")}},methods:{showMoreParticipants(){this.isShowingMoreParticipants=!0}}};var h={components:{EmailParticipantsWarning:Object(c.a)(p,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"issuable-note-warning",attrs:{"data-testid":"email-participants-warning"}},[i("gl-sprintf",{attrs:{message:e.message},scopedSlots:e._u([{key:"andMore",fn:function(){return[i("button",{staticClass:"gl-button btn-link",attrs:{type:"button"},on:{click:e.showMoreParticipants}},[e._v("\n        "+e._s(e.moreLabel)+"\n      ")])]},proxy:!0},{key:"emails",fn:function(){return[i("span",[e._v(e._s(e.title))])]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,NoteableWarning:d},props:{noteableData:{type:Object,required:!0},isInternalNote:{type:Boolean,required:!1,default:!1},noteableType:{type:String,required:!1,default:"Issue"},withAlertContainer:{type:Boolean,required:!1,default:!1}},computed:{isLocked(){return Boolean(this.noteableData.discussion_locked)},isConfidential(){return Boolean(this.noteableData.confidential)},hasWarning(){return this.isConfidential||this.isLocked},emailParticipants(){var e;return(null===(e=this.noteableData.issue_email_participants)||void 0===e?void 0:e.map((function(e){let{email:t}=e;return t})))||[]},showEmailParticipantsWarning(){return this.emailParticipants.length&&!this.isInternalNote}}},m=Object(c.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"comment-warning-wrapper gl-border-solid gl-border-1 gl-rounded-base gl-border-gray-100"},[e.withAlertContainer?i("div",{staticClass:"error-alert",attrs:{"data-testid":"comment-field-alert-container"}}):e._e(),e._v(" "),e.hasWarning?i("noteable-warning",{staticClass:"gl-border-b-1 gl-border-b-solid gl-border-b-gray-100 gl-rounded-base gl-rounded-bottom-left-none gl-rounded-bottom-right-none",attrs:{"is-locked":e.isLocked,"is-confidential":e.isConfidential,"noteable-type":e.noteableType,"locked-noteable-docs-path":e.noteableData.locked_discussion_docs_path,"confidential-noteable-docs-path":e.noteableData.confidential_issues_docs_path}}):e._e(),e._v(" "),e._t("default"),e._v(" "),e.showEmailParticipantsWarning?i("email-participants-warning",{staticClass:"gl-border-t-1 gl-border-t-solid gl-border-t-gray-100 gl-rounded-base gl-rounded-top-left-none! gl-rounded-top-right-none!",attrs:{emails:e.emailParticipants}}):e._e()],2)}),[],!1,null,null,null);t.a=m.exports},Z6cG:function(e,t,i){"use strict";var n=i("F+K/"),s=i("ly/8"),r=i("EqYD"),a={components:{GlBadge:n.a},directives:{GlTooltip:s.a},props:{workspaceType:{type:String,required:!0},issuableType:{type:String,required:!0}},computed:{confidentialTooltip(){return Object(r.g)(this.workspaceType,this.issuableType)}}},o=i("bPvS"),l=Object(o.a)(a,(function(){var e=this.$createElement;return(this._self._c||e)("gl-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"gl-display-inline gl-mr-3",attrs:{title:this.confidentialTooltip,icon:"eye-slash",variant:"warning"}},[this._v(this._s(this.__("Confidential")))])}),[],!1,null,null,null);t.a=l.exports},ZDMS:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"workItemCreateFromTask"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WorkItemCreateFromTaskInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItemCreateFromTask"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItem"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItem"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"newWorkItem"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItem"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:252}};n.loc.source={body:'#import "./work_item.fragment.graphql"\n\nmutation workItemCreateFromTask($input: WorkItemCreateFromTaskInput!) {\n  workItemCreateFromTask(input: $input) {\n    workItem {\n      ...WorkItem\n    }\n    newWorkItem {\n      ...WorkItem\n    }\n    errors\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("nLMr").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var r={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.workItemCreateFromTask=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(n,"workItemCreateFromTask")},ZIpG:function(e,t,i){"use strict";var n=i("H8gz"),s=i("mpzd"),r=i("t9l/"),a={components:{GlIcon:n.a},props:{user:{type:Object,required:!0},imgSize:{type:Number,required:!0},issuableType:{type:String,required:!1,default:"issue"}},computed:{assigneeAlt(){return Object(r.h)(Object(r.a)("%{userName}'s avatar"),{userName:this.user.name})},avatarUrl(){return this.user.avatarUrl||this.user.avatar||this.user.avatar_url||gon.default_avatar_url},isMergeRequest(){return this.issuableType===s.c.MergeRequest},hasMergeIcon(){var e;const t=(null===(e=this.user.mergeRequestInteraction)||void 0===e?void 0:e.canMerge)||this.user.can_merge;return this.isMergeRequest&&!t}}},o=i("bPvS"),l=Object(o.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"position-relative"},[t("img",{staticClass:"avatar avatar-inline m-0",class:"s"+this.imgSize,attrs:{alt:this.assigneeAlt,src:this.avatarUrl,width:this.imgSize,"data-qa-selector":"avatar_image"}}),this._v(" "),this.hasMergeIcon?t("gl-icon",{staticClass:"merge-icon",attrs:{name:"warning-solid","aria-hidden":"true"}}):this._e()],1)}),[],!1,null,null,null);t.a=l.exports},ZJPx:function(e,t,i){"use strict";i.d(t,"g",(function(){return r})),i.d(t,"f",(function(){return o})),i.d(t,"d",(function(){return l})),i.d(t,"e",(function(){return c})),i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return u})),i.d(t,"c",(function(){return p}));var n=i("Wtfk"),s=i.n(n);i("uHfJ"),i("R0RX"),i("h8Et");function r(e){return"new"===e?"+":"old"===e?"-":""}function a(e,t){var i;if(!e||!t||!e[t])return"";const{new_line:n,old_line:s,type:a}=e[t],o=a?null:null===(i=e["start"===t?"end":"start"])||void 0===i?void 0:i.type,l=a||"";let c=s;return"new"!==l&&"new"!==o||(c=n),c&&r(l)+c||""}function o(e){return a(e,"start")}function l(e){return a(e,"end")}function c(e){const t="string"==typeof e?e.charAt(0):r(null==e?void 0:e.type);return"+"!==t&&"-"!==t?"":["gl-px-1 gl-rounded-small gl-border-solid gl-border-1 gl-border-white",{"gl-bg-green-100 gl-text-green-800":"+"===t,"gl-bg-red-100 gl-text-red-800":"-"===t}]}function d(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left";const a="left"===n?"old_line":"new_line",o="new_line"===a?"old_line":"new_line",l=function(e){return"match"!==e.type},c=[...e],d=t.line_code,u=c.findIndex((function(e){return e.line_code===i})),p=c.slice(0,u+1),h=s()(p,l),m=h.findIndex((function(e){return e.line_code===d}));return m<0&&h.unshift(t),h.map((function(e){const{line_code:t,type:i,old_line:n,new_line:s}=e;return{value:{line_code:t,type:i,old_line:n,new_line:s},text:`${r(i)}${e[a]||e[o]}`}}))}function u(e,t){const i=function(e){let{line_code:t,type:i,old_line:n,new_line:s}=e;return{line_code:t,type:i,old_line:n,new_line:s}};return{start:i(e),end:i(t)}}function p(e,t){if(!e)return{startLine:t.length+1,endLine:t.length+1};const i=function(e){return function(t){var i,n;return[t.line_code,null===(i=t.left)||void 0===i?void 0:i.line_code,null===(n=t.right)||void 0===n?void 0:n.line_code].includes(e.line_code)}},{start:n,end:s}=e;return{startLine:t.findIndex(i(n)),endLine:t.findIndex(i(s))}}},ZMwX:function(e,t,i){var n=i("qHIR"),s=i("/zkW"),r=i("T5M9"),a=i("kTp2"),o=r((function(e,t){if(null==e)return[];var i=t.length;return i>1&&a(e,t[0],t[1])?t=[]:i>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),s(e,n(t,1),[])}));e.exports=o},ZP6x:function(e,t,i){"use strict";var n=i("t9l/"),s={props:{title:{type:String,required:!1,default:""},placeholder:{type:String,required:!1,default:Object(n.a)("Add a title...")},disabled:{type:Boolean,required:!1,default:!1}},methods:{handleBlur(e){let{target:t}=e;this.$emit("title-changed",t.innerText)},handleInput(e){let{target:t}=e;this.$emit("title-input",t.innerText)},handleSubmit(){this.$refs.titleEl.blur()}}},r=i("bPvS"),a=Object(r.a)(s,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h2",{staticClass:"gl-font-weight-normal gl-sm-font-weight-bold gl-mb-5 gl-mt-0 gl-w-full",class:{"gl-cursor-text":e.disabled},attrs:{"aria-labelledby":"item-title"}},[i("span",{ref:"titleEl",staticClass:"gl-px-4 gl-py-3 gl-ml-n4 gl-border gl-border-white gl-rounded-base gl-display-block",class:{"gl-hover-border-gray-200 gl-pseudo-placeholder":!e.disabled},attrs:{id:"item-title",role:"textbox","aria-label":e.__("Title"),"data-placeholder":e.placeholder,contenteditable:!e.disabled},on:{blur:e.handleBlur,keyup:e.handleInput,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.handleSubmit.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"u",void 0,t.key,void 0)?null:t.ctrlKey?void t.preventDefault():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"u",void 0,t.key,void 0)?null:t.metaKey?void t.preventDefault():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"b",void 0,t.key,void 0)?null:t.ctrlKey?void t.preventDefault():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"b",void 0,t.key,void 0)?null:t.metaKey?void t.preventDefault():null}]}},[e._v(e._s(e.title))])])}),[],!1,null,null,null);t.a=a.exports},ZPTr:function(e,t,i){var n=i("qHIR"),s=i("T5M9"),r=i("/e4I"),a=i("QN0Q"),o=s((function(e){return r(n(e,1,a,!0))}));e.exports=o},ZSrL:function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var s=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),r=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[i].concat(r).concat([s]).join("\n")}var a;return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var r=this[s][0];null!=r&&(n[r]=!0)}for(s=0;s<e.length;s++){var a=e[s];null!=a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),t.push(a))}},t}},ZTWp:function(e,t,i){var n=i("T5M9"),s=i("kTp2");e.exports=function(e){return n((function(t,i){var n=-1,r=i.length,a=r>1?i[r-1]:void 0,o=r>2?i[2]:void 0;for(a=e.length>3&&"function"==typeof a?(r--,a):void 0,o&&s(i[0],i[1],o)&&(a=r<3?void 0:a,r=1),t=Object(t);++n<r;){var l=i[n];l&&e(t,l,n,a)}return t}))}},ZW1F:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"issuableTitleUpdated"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"issuableId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssuableID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issuableTitleUpdated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"issuableId"},value:{kind:"Variable",name:{kind:"Name",value:"issuableId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItem"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:167}};i.loc.source={body:"subscription issuableTitleUpdated($issuableId: IssuableID!) {\n  issuableTitleUpdated(issuableId: $issuableId) {\n    ... on WorkItem {\n      id\n      title\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.issuableTitleUpdated=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"issuableTitleUpdated")},ZYcg:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return o}));var n=i("/CLh"),s=i("BYh8"),r=i("vRHk");const a=function(e){return{category:"Incident Management",action:"toggle_incident_comments_into_timeline_view",label:"Status",property:e}},o=function(e){return Object(s.b)(Object(n.marked)(e),r.t)}},ZcYw:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("F+K/"),s=i("H8gz"),r=i("q+nE"),a=i("Zxcm"),o=i("voi4"),l=i("t9l/"),c=i("mpzd"),d=i("rVyh");const u=r.default.observable({state:"",updateStatus:null}),p={opened:"issuable-status-badge-open",locked:"issuable-status-badge-open",closed:"issuable-status-badge-closed",merged:"issuable-status-badge-merged"},h={opened:"issues",locked:"issues",closed:"issue-closed"},m={opened:"merge-request-open",locked:"merge-request-open",closed:"merge-request-close",merged:"merge"},f={opened:Object(l.a)("Open"),locked:Object(l.a)("Open"),closed:Object(l.a)("Closed"),merged:Object(l.a)("Merged")};var g={components:{GlBadge:n.a,GlIcon:s.a},mixins:[Object(a.a)()],inject:{query:{default:null},projectPath:{default:null},iid:{default:null}},props:{initialState:{type:String,required:!1,default:null},issuableType:{type:String,required:!1,default:""}},data(){return this.iid?(this.initialState&&!u.state&&(u.state=this.initialState),u):{state:this.initialState}},computed:{badgeClass(){return[p[this.state],{"gl-vertical-align-bottom":this.issuableType===c.c.MergeRequest}]},badgeVariant(){return this.state===d.c.Opened?"success":this.state===d.c.Closed&&this.issuableType===c.c.MergeRequest?"danger":"info"},badgeText(){return f[this.state]},badgeIcon(){return this.issuableType===c.c.Issue?h[this.state]:m[this.state]}},created(){u.updateStatus||(u.updateStatus=this.fetchState)},beforeDestroy(){u.updateStatus&&this.query&&(u.updateStatus=null)},methods:{async fetchState(){var e,t;const{data:i}=await this.$apollo.query({query:this.query,variables:{projectPath:this.projectPath,iid:this.iid},fetchPolicy:o.b.NO_CACHE});u.state=null==i||null===(e=i.workspace)||void 0===e||null===(t=e.issuable)||void 0===t?void 0:t.state}}},v=i("bPvS"),b=Object(v.a)(g,(function(){var e=this.$createElement,t=this._self._c||e;return t("gl-badge",{staticClass:"issuable-status-badge gl-mr-3",class:this.badgeClass,attrs:{variant:this.badgeVariant}},[t("gl-icon",{attrs:{name:this.badgeIcon}}),this._v(" "),t("span",{staticClass:"gl-display-none gl-sm-display-block gl-ml-2"},[this._v(this._s(this.badgeText))])],1)}),[],!1,null,null,null);t.b=b.exports},ZfsP:function(e,t,i){"use strict";i.d(t,"b",(function(){return h})),i.d(t,"a",(function(){return m}));i("uHfJ"),i("R0RX"),i("WmlO"),i("3R5X"),i("W9Nl");var n=i("ENs1"),s=i("EfTh"),r=i("P9JE"),a=i("1/rY"),o=i("Aiz4"),l=i.n(o),c=i("voi4"),d=i("DDJJ");const u={typeDefs:i.n(d)(),cacheConfig:{dataIdFromObject:function(e){return"BoardList"===e.__typename?e.iid:Object(r.b)(e)},typePolicies:{Project:{fields:{projectMembers:{keyArgs:["fullPath","search","relations","first"]}}},WorkItem:{fields:{widgets:{merge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return 0===e.length?t:e.map((function(e){return t.find((function(t){return t.type&&t.type===e.type}))||e}))}}}},MemberInterfaceConnection:{fields:{nodes:Object(a.a)()}}}}},p={Mutation:{updateIssueState:function(e,t,i){let{issueType:s,isDirty:r=!1}=t,{cache:a}=i;const o=a.readQuery({query:l.a}),c=Object(n.a)(o,(function(e){e.issueState={issueType:s,isDirty:r}}));a.writeQuery({query:l.a,data:c})}}},h=Object(c.a)(p,u),m=new s.b({defaultClient:h})},Zi5e:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"d",(function(){return l})),i.d(t,"e",(function(){return c})),i.d(t,"b",(function(){return d})),i.d(t,"c",(function(){return p}));var n=i("t9l/"),s=i("/LsX");function r(e){return e/s.f}function a(e){return e/(s.f*s.f)}function o(e){return e/(s.f*s.f*s.f)}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const i=Math.abs(e);return i<s.f?Object(n.h)(Object(n.a)("%{size} bytes"),{size:e}):i<s.f**2?Object(n.h)(Object(n.a)("%{size} KiB"),{size:r(e).toFixed(t)}):i<s.f**3?Object(n.h)(Object(n.a)("%{size} MiB"),{size:a(e).toFixed(t)}):Object(n.h)(Object(n.a)("%{size} GiB"),{size:o(e).toFixed(t)})}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e<s.k?e.toString():e<s.k**2?(e/s.k).toFixed(t)+"k":(e/s.k**2).toFixed(t)+"m"}const d=function(e,t){return e===t?0:Math.round((t-e)/Math.abs(e)*100)},u=/^[0-9]+$/,p=function(e){return u.test(e)}},ZplN:function(e,t,i){"use strict";var n=i("Z2pp"),s=i("DQ7i"),r=i("jyii"),a=i("gCUY"),o=i("9Q7u"),l=i("R+nN");function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var u=Object(a.c)(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){d(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({vertical:{type:Boolean,default:!1},size:{type:String},tag:{type:String,default:"div"},ariaRole:{type:String,default:"group"}},Object(o.k)(l.b,["size"])),r.g),p=n.a.extend({name:r.g,functional:!0,props:u,render:function(e,t){var i=t.props,n=t.data,r=t.children;return e(i.tag,Object(s.a)(n,{class:d({"btn-group":!i.vertical,"btn-group-vertical":i.vertical},"btn-group-".concat(i.size),i.size),attrs:{role:i.ariaRole}}),r)}}),h=i("6IRw");const m={components:{BButtonGroup:p}};const f=i.n(h)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-button-group",this._g(this._b({},"b-button-group",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,m,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=f},aFFW:function(e,t,i){"use strict";var n=i("4pZC"),s=i.n(n),r=i("vZRN"),a=i.n(r),o=i("ly/8"),l=i("QslC"),c=i("4zBw");var d={directives:{GlTooltip:o.a,GlResizeObserver:l.a},props:{title:{type:String,required:!1,default:""},placement:{type:String,required:!1,default:"top"},truncateTarget:{type:[String,Function],required:!1,default:""}},data:()=>({tooltipDisabled:!0}),computed:{classes(){return this.tooltipDisabled?"":"js-show-tooltip"},tooltip(){return{title:this.title,placement:this.placement,disabled:this.tooltipDisabled}}},watch:{title(){this.$nextTick(this.updateTooltip)}},created(){this.updateTooltipDebounced=s()(this.updateTooltip,300)},mounted(){this.updateTooltip()},methods:{selectTarget(){return a()(this.truncateTarget)?this.truncateTarget(this.$el):"child"===this.truncateTarget?this.$el.childNodes[0]:this.$el},updateTooltip(){this.tooltipDisabled=!Object(c.f)(this.selectTarget())},onResize(){this.updateTooltipDebounced()}}},u=i("bPvS"),p=Object(u.a)(d,(function(){var e=this.$createElement;return(this._self._c||e)("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:this.tooltip,expression:"tooltip"},{name:"gl-resize-observer",rawName:"v-gl-resize-observer",value:this.onResize,expression:"onResize"}],staticClass:"gl-min-w-0",class:this.classes},[this._t("default")],2)}),[],!1,null,null,null);t.a=p.exports},aRps:function(e,t,i){"use strict";var n={};i.r(n),i.d(n,"updateLockedAttribute",(function(){return W})),i.d(n,"expandDiscussion",(function(){return H})),i.d(n,"collapseDiscussion",(function(){return G})),i.d(n,"setNotesData",(function(){return K})),i.d(n,"setNoteableData",(function(){return Y})),i.d(n,"setConfidentiality",(function(){return Q})),i.d(n,"setUserData",(function(){return X})),i.d(n,"setLastFetchedAt",(function(){return J})),i.d(n,"setInitialNotes",(function(){return Z})),i.d(n,"setTargetNoteHash",(function(){return ee})),i.d(n,"setNotesFetchedState",(function(){return te})),i.d(n,"toggleDiscussion",(function(){return ie})),i.d(n,"setExpandDiscussions",(function(){return ne})),i.d(n,"fetchDiscussions",(function(){return se})),i.d(n,"fetchDiscussionsBatch",(function(){return re})),i.d(n,"updateDiscussion",(function(){return ae})),i.d(n,"setDiscussionSortDirection",(function(){return oe})),i.d(n,"setTimelineView",(function(){return le})),i.d(n,"setSelectedCommentPosition",(function(){return ce})),i.d(n,"setSelectedCommentPositionHover",(function(){return de})),i.d(n,"removeNote",(function(){return ue})),i.d(n,"deleteNote",(function(){return pe})),i.d(n,"updateNote",(function(){return he})),i.d(n,"updateOrCreateNotes",(function(){return me})),i.d(n,"promoteCommentToTimelineEvent",(function(){return fe})),i.d(n,"replyToDiscussion",(function(){return ge})),i.d(n,"createNewNote",(function(){return ve})),i.d(n,"removePlaceholderNotes",(function(){return be})),i.d(n,"resolveDiscussion",(function(){return ye})),i.d(n,"toggleResolveNote",(function(){return ke})),i.d(n,"closeIssuable",(function(){return we})),i.d(n,"reopenIssuable",(function(){return _e})),i.d(n,"toggleStateButtonLoading",(function(){return Se})),i.d(n,"emitStateChangedEvent",(function(){return Ee})),i.d(n,"toggleIssueLocalState",(function(){return De})),i.d(n,"saveNote",(function(){return Te})),i.d(n,"setFetchingState",(function(){return Ce})),i.d(n,"poll",(function(){return Ie})),i.d(n,"stopPolling",(function(){return Oe})),i.d(n,"restartPolling",(function(){return je})),i.d(n,"toggleAward",(function(){return xe})),i.d(n,"toggleAwardRequest",(function(){return Ae})),i.d(n,"scrollToNoteIfNeeded",(function(){return Ne})),i.d(n,"fetchDiscussionDiffLines",(function(){return Fe})),i.d(n,"updateMergeRequestWidget",(function(){return Le})),i.d(n,"setLoadingState",(function(){return Pe})),i.d(n,"filterDiscussion",(function(){return Re})),i.d(n,"setCommentsDisabled",(function(){return qe})),i.d(n,"startTaskList",(function(){return $e})),i.d(n,"updateResolvableDiscussionsCounts",(function(){return Be})),i.d(n,"submitSuggestion",(function(){return Me})),i.d(n,"submitSuggestionBatch",(function(){return Ue})),i.d(n,"addSuggestionInfoToBatch",(function(){return Ve})),i.d(n,"removeSuggestionInfoFromBatch",(function(){return ze})),i.d(n,"convertToDiscussion",(function(){return We})),i.d(n,"removeConvertedDiscussion",(function(){return He})),i.d(n,"setCurrentDiscussionId",(function(){return Ge})),i.d(n,"fetchDescriptionVersion",(function(){return Ke})),i.d(n,"requestDescriptionVersion",(function(){return Ye})),i.d(n,"receiveDescriptionVersion",(function(){return Qe})),i.d(n,"receiveDescriptionVersionError",(function(){return Xe})),i.d(n,"softDeleteDescriptionVersion",(function(){return Je})),i.d(n,"requestDeleteDescriptionVersion",(function(){return Ze})),i.d(n,"receiveDeleteDescriptionVersion",(function(){return et})),i.d(n,"receiveDeleteDescriptionVersionError",(function(){return tt})),i.d(n,"updateAssignees",(function(){return it})),i.d(n,"updateDiscussionPosition",(function(){return nt}));var s={};i.r(s),i.d(s,"discussions",(function(){return ut})),i.d(s,"convertedDisscussionIds",(function(){return pt})),i.d(s,"targetNoteHash",(function(){return ht})),i.d(s,"getNotesData",(function(){return mt})),i.d(s,"isNotesFetched",(function(){return ft})),i.d(s,"sortDirection",(function(){return gt})),i.d(s,"persistSortOrder",(function(){return vt})),i.d(s,"timelineEnabled",(function(){return bt})),i.d(s,"isFetching",(function(){return yt})),i.d(s,"isLoading",(function(){return kt})),i.d(s,"getNotesDataByProp",(function(){return wt})),i.d(s,"getNoteableData",(function(){return _t})),i.d(s,"getNoteableDataByProp",(function(){return St})),i.d(s,"getBlockedByIssues",(function(){return Et})),i.d(s,"userCanReply",(function(){return Dt})),i.d(s,"openState",(function(){return Tt})),i.d(s,"getUserData",(function(){return Ct})),i.d(s,"getUserDataByProp",(function(){return It})),i.d(s,"descriptionVersions",(function(){return Ot})),i.d(s,"canUserAddIncidentTimelineEvents",(function(){return jt})),i.d(s,"notesById",(function(){return xt})),i.d(s,"noteableType",(function(){return At})),i.d(s,"getCurrentUserLastNote",(function(){return Lt})),i.d(s,"getDiscussionLastNote",(function(){return Pt})),i.d(s,"unresolvedDiscussionsCount",(function(){return Rt})),i.d(s,"resolvableDiscussionsCount",(function(){return qt})),i.d(s,"showJumpToNextDiscussion",(function(){return $t})),i.d(s,"isDiscussionResolved",(function(){return Bt})),i.d(s,"allResolvableDiscussions",(function(){return Mt})),i.d(s,"resolvedDiscussionsById",(function(){return Ut})),i.d(s,"unresolvedDiscussionsIdsByDate",(function(){return Vt})),i.d(s,"unresolvedDiscussionsIdsByDiff",(function(){return zt})),i.d(s,"resolvedDiscussionCount",(function(){return Wt})),i.d(s,"discussionTabCounter",(function(){return Ht})),i.d(s,"unresolvedDiscussionsIdsOrdered",(function(){return Gt})),i.d(s,"isLastUnresolvedDiscussion",(function(){return Kt})),i.d(s,"findUnresolvedDiscussionIdNeighbor",(function(){return Yt})),i.d(s,"nextUnresolvedDiscussionId",(function(){return Qt})),i.d(s,"previousUnresolvedDiscussionId",(function(){return Xt})),i.d(s,"firstUnresolvedDiscussionId",(function(){return Jt})),i.d(s,"getDiscussion",(function(){return Zt})),i.d(s,"commentsDisabled",(function(){return ei})),i.d(s,"suggestionsCount",(function(){return ti})),i.d(s,"hasDrafts",(function(){return ii})),i.d(s,"getSuggestionsFilePaths",(function(){return ni}));var r=i("toOR"),a=(i("ujLG"),i("3R5X"),i("HaUQ"),i("WmlO"),i("W9Nl"),i("JHu5"),i("XUYm"),i("g+EE"),i("ylB9"),i("XexO"),i("h8Et"),i("uHfJ"),i("R0RX"),i("6oy4")),o=i.n(a),l=i("jmNb"),c=i.n(l),d=i("q+nE"),u=i("htOw"),p=i("teVv"),h=i("8KL1"),m=i("mphk"),f=i("t9l/"),g=i("LuMo"),v=i("YOcS"),b=i("1fbm"),y=i.n(b),k=i("14kI"),w=i.n(k),_=i("SLa1"),S=i("oj/M"),E=i("kSYl"),D=i("wC1f");const T={};var C=i("yYHy"),I=i("cBN0"),O=i("cd08"),j=i("HiZ0"),x=i("AUIv"),A=i("+lve"),N=i("LkRf"),F=i("RewC"),L=i("G1qc"),P=i.n(L);var R=i("tY3p"),q=i("voi4"),$=i("F87h");const B=function(e,t){return e.filter((function(e){return e.id===t}))[0]},M=function(e){let t=Object(f.a)("Applying command");const i=($.a.get(gl.GfmAutoComplete.dataSources.commands)||[]).filter((function(t){return new RegExp("/"+t.name).test(e)}));if(i&&i.length)if(i.length>1)t=Object(f.a)("Applying multiple commands");else{const e=i[0].description.toLowerCase();t=Object(f.h)(Object(f.a)("Applying command to %{commandDescription}"),{commandDescription:e})}return t},U=function(e){return e.map((function(e){return{...Object(R.q)(e)}}))},V=Object(q.a)({},{fetchPolicy:q.b.NO_CACHE});let z;const W=function(e,t){let{commit:i,getters:n}=e,{locked:s,fullPath:r}=t;const{iid:a,targetType:o}=n.getNoteableData;return V.mutate({mutation:"issue"===o?y.a:w.a,variables:{input:{projectPath:r,iid:String(a),locked:s}}}).then((function(e){let{data:t}=e;const n="issue"===o?t.issueSetLocked.issue.discussionLocked:t.mergeRequestSetLocked.mergeRequest.discussionLocked;i("SET_ISSUABLE_LOCK",n)}))},H=function(e,t){let{commit:i,dispatch:n}=e;t.discussionId&&n("diffs/renderFileForDiscussionId",t.discussionId,{root:!0}),i("EXPAND_DISCUSSION",t)},G=function(e,t){let{commit:i}=e;return i("COLLAPSE_DISCUSSION",t)},K=function(e,t){let{commit:i}=e;return i("SET_NOTES_DATA",t)},Y=function(e,t){let{commit:i}=e;return i("SET_NOTEABLE_DATA",t)},Q=function(e,t){let{commit:i}=e;return i("SET_ISSUE_CONFIDENTIAL",t)},X=function(e,t){let{commit:i}=e;return i("SET_USER_DATA",t)},J=function(e,t){let{commit:i}=e;return i("SET_LAST_FETCHED_AT",t)},Z=function(e,t){let{commit:i}=e;return i("ADD_OR_UPDATE_DISCUSSIONS",t)},ee=function(e,t){let{commit:i}=e;return i("SET_TARGET_NOTE_HASH",t)},te=function(e,t){let{commit:i}=e;return i("SET_NOTES_FETCHED_STATE",t)},ie=function(e,t){let{commit:i}=e;return i("TOGGLE_DISCUSSION",t)},ne=function(e,t){let{commit:i}=e,{discussionIds:n,expanded:s}=t;i("SET_EXPAND_DISCUSSIONS",{discussionIds:n,expanded:s})},se=function(e,t){var i,n;let{commit:s,dispatch:a,getters:o}=e,{path:l,filter:c,persistFilter:d}=t;const u=void 0!==c?{params:{notes_filter:c,persist_filter:d}}:null;return o.noteableType===r.ISSUE_NOTEABLE_TYPE||null!==(i=window.gon)&&void 0!==i&&null!==(n=i.features)&&void 0!==n&&n.paginatedMrDiscussions?a("fetchDiscussionsBatch",{path:l,config:u,perPage:20}):m.a.get(l,u).then((function(e){let{data:t}=e;s("ADD_OR_UPDATE_DISCUSSIONS",t),s("SET_FETCHING_DISCUSSIONS",!1),a("updateResolvableDiscussionsCounts")}))},re=function(e,t){let{commit:i,dispatch:n}=e,{path:s,config:r,cursor:a,perPage:o}=t;const l={...null==r?void 0:r.params,per_page:o};return a&&(l.cursor=a),m.a.get(s,{params:l}).then((function(e){let{data:t,headers:a}=e;if(i("ADD_OR_UPDATE_DISCUSSIONS",t),a&&a["x-next-page-cursor"]){var l;const e={...r};return null!=r&&null!==(l=r.params)&&void 0!==l&&l.persist_filter&&(delete e.params.notes_filter,delete e.params.persist_filter),n("fetchDiscussionsBatch",{path:s,config:e,cursor:a["x-next-page-cursor"],perPage:Math.min(Math.round(1.5*o),100)})}i("SET_DONE_FETCHING_BATCH_DISCUSSIONS",!0),i("SET_FETCHING_DISCUSSIONS",!1),n("updateResolvableDiscussionsCounts")}))},ae=function(e,t){let{commit:i,state:n}=e;return i("UPDATE_DISCUSSION",t),B(n.discussions,t.id)},oe=function(e,t){let{commit:i}=e,{direction:n,persist:s=!0}=t;i("SET_DISCUSSIONS_SORT",{direction:n,persist:s})},le=function(e,t){let{commit:i}=e;i("SET_TIMELINE_VIEW",t)},ce=function(e,t){let{commit:i}=e;i("SET_SELECTED_COMMENT_POSITION",t)},de=function(e,t){let{commit:i}=e;i("SET_SELECTED_COMMENT_POSITION_HOVER",t)},ue=function(e,t){let{commit:i,dispatch:n,state:s}=e;const r=s.discussions.find((function(e){let{id:i}=e;return i===t.discussion_id}));i("DELETE_NOTE",t),n("updateMergeRequestWidget"),n("updateResolvableDiscussionsCounts"),Object(S.y)()&&n("diffs/removeDiscussionsFromDiff",r)},pe=function(e,t){let{dispatch:i}=e;return m.a.delete(t.path).then((function(){i("removeNote",t)}))},he=function(e,t){let{commit:i,dispatch:n}=e,{endpoint:s,note:r}=t;return m.a.put(s,r).then((function(e){let{data:t}=e;i("UPDATE_NOTE",t),n("startTaskList")}))},me=function(e,t){let{commit:i,state:n,getters:s,dispatch:a}=e;const{notesById:o}=s;t.forEach((function(e){if(o[e.id])i("UPDATE_NOTE",e);else if(e.type===r.DISCUSSION_NOTE||e.type===r.DIFF_NOTE){B(n.discussions,e.discussion_id)?i("ADD_NEW_REPLY_TO_DISCUSSION",e):e.type!==r.DIFF_NOTE||e.base_discussion?i("ADD_NEW_NOTE",e):(t=n.currentlyFetchingDiscussions)?(!0!==t&&clearTimeout(n.currentlyFetchingDiscussions),i("SET_FETCHING_DISCUSSIONS",setTimeout((function(){a("fetchDiscussions",{path:n.notesData.discussionsPath})}),r.DISCUSSION_FETCH_TIMEOUT))):(i("SET_FETCHING_DISCUSSIONS",!0),a("fetchDiscussions",{path:n.notesData.discussionsPath}))}else i("ADD_NEW_NOTE",e);var t}))},fe=function(e,t){let{commit:i}=e,{noteId:n,addError:s,addGenericError:r}=t;return i("SET_PROMOTE_COMMENT_TO_TIMELINE_PROGRESS",!0),V.mutate({mutation:P.a,variables:{input:{noteId:Object(A.c)(N.l,n)}}}).then((function(e){var t;let{data:i={}}=e;const n=null===(t=i.timelineEventPromoteFromNote)||void 0===t?void 0:t.errors;if(n.length){const e=Object(f.h)(s,{error:n.join(". ")});throw new Error(e)}F.a.$emit("comment-promoted-to-timeline-event"),Object(g.a)(Object(f.a)("Comment added to the timeline."))})).catch((function(e){const t=e.message||r;let i=!1,n=null;t===r&&(i=!0,n=e),Object(p.default)({message:t,captureError:i,error:n})})).finally((function(){i("SET_PROMOTE_COMMENT_TO_TIMELINE_PROGRESS",!1)}))},ge=function(e,t){let{commit:i,state:n,getters:s,dispatch:r}=e,{endpoint:a,data:o}=t;return m.a.post(a,o).then((function(e){let{data:t}=e;return t.discussion?(i("UPDATE_DISCUSSION",t.discussion),me({commit:i,state:n,getters:s,dispatch:r},t.discussion.notes),r("updateMergeRequestWidget"),r("startTaskList"),r("updateResolvableDiscussionsCounts")):i("ADD_NEW_REPLY_TO_DISCUSSION",t),t}))},ve=function(e,t){let{commit:i,dispatch:n}=e,{endpoint:s,data:r}=t;return m.a.post(s,r).then((function(e){let{data:t}=e;return t.errors||(i("ADD_NEW_NOTE",t),n("updateMergeRequestWidget"),n("startTaskList"),n("updateResolvableDiscussionsCounts")),t}))},be=function(e){let{commit:t}=e;return t("REMOVE_PLACEHOLDER_NOTES")},ye=function(e,t){let{state:i,dispatch:n,getters:s}=e,{discussionId:r}=t;const a=B(i.discussions,r),o=s.isDiscussionResolved(r);return a?o?Promise.resolve():n("toggleResolveNote",{endpoint:a.resolve_path,isResolved:o,discussion:!0}):Promise.reject()},ke=function(e,t){let{commit:i,dispatch:n}=e,{endpoint:s,isResolved:a,discussion:o}=t;const l=a?r.UNRESOLVE_NOTE_METHOD_NAME:r.RESOLVE_NOTE_METHOD_NAME,c=o?"UPDATE_DISCUSSION":"UPDATE_NOTE";return m.a[l](s).then((function(e){let{data:t}=e;i(c,t),n("updateResolvableDiscussionsCounts"),n("updateMergeRequestWidget")}))},we=function(e){let{commit:t,dispatch:i,state:n}=e;return i("toggleStateButtonLoading",!0),m.a.put(n.notesData.closePath).then((function(e){let{data:n}=e;t("CLOSE_ISSUE"),i("emitStateChangedEvent",n),i("toggleStateButtonLoading",!1)}))},_e=function(e){let{commit:t,dispatch:i,state:n}=e;return i("toggleStateButtonLoading",!0),m.a.put(n.notesData.reopenPath).then((function(e){let{data:n}=e;t("REOPEN_ISSUE"),i("emitStateChangedEvent",n),i("toggleStateButtonLoading",!1)}))},Se=function(e,t){let{commit:i}=e;return i("TOGGLE_STATE_BUTTON_LOADING",t)},Ee=function(e,t){let{getters:i}=e;const n=new CustomEvent(h.a,{detail:{data:t,isClosed:i.openState===r.CLOSED}});document.dispatchEvent(n)},De=function(e,t){let{commit:i}=e;t===r.CLOSED?i("CLOSE_ISSUE"):t===r.REOPENED&&i("REOPEN_ISSUE")},Te=function(e,t){let{commit:i,dispatch:n}=e;const s=t.data.draft_note||t.data["note[note]"]||t.data.note.note;let r=s;const a=function(e){return/^\/\w+.*$/gm.test(e)}(r),l=t.data.in_reply_to_discussion_id;let c;const d={...t};!0===d.isDraft?(c=l?"batchComments/addDraftToDiscussion":"batchComments/createNewDraft",!d.draft_note&&t.note&&(d.draft_note=d.note,delete d.note)):c=l?"replyToDiscussion":"createNewNote",o()(".notes-form .flash-container").hide(),i("REMOVE_PLACEHOLDER_NOTES"),a&&(r=function(e){return e.replace(/^\/\w+.*$/gm,"").trim()}(r)),r.length&&i("SHOW_PLACEHOLDER_NOTE",{noteBody:r,replyId:l}),a&&i("SHOW_PLACEHOLDER_NOTE",{isSystemNote:!0,noteBody:M(s),replyId:l});return n(c,d,{root:!0}).then((function(e){const{errors:{commands_only:i,command_names:n}={commands_only:null,command_names:[]}}=e;let s=i;if(a&&s){z.makeRequest(),v.a.setConfidentiality&&s.some((function(e){return e.includes("Made this issue confidential")}))&&v.a.setConfidentiality();const e=["approve","merge","assign_reviewer","assign"];n[0].some((function(t){return e.includes(t)}))&&x.a.singleton.currentUserHasAttention&&(s=Object(f.h)(Object(f.a)("%{message}. Your attention request was removed."),{message:s})),o()(".js-gfm-input").trigger("clear-commands-cache.atwho"),Object(p.default)({message:s||Object(f.a)("Commands applied"),type:"notice",parent:t.flashContainer})}return e})).then((function(e){const{commands_changes:i}=e,{emoji_award:n}=i||{};if(!n)return e;const s=o()(".js-awards-block").eq(0);return Object(_.a)().then((function(e){e.addAwardToEmojiBar(s,n),e.scrollToAwards()})).catch((function(){Object(p.default)({message:Object(f.a)("Something went wrong while adding your award. Please try again."),parent:t.flashContainer})})).then((function(){return e}))})).then((function(e){const{commands_changes:t}=e,{spend_time:i,time_estimate:n}=t||{};return null==i&&null==n||I.a.$emit("timeTrackingUpdated",{commands_changes:t}),e})).then((function(e){return i("REMOVE_PLACEHOLDER_NOTES"),e})).catch((function(e){if(e.response){const{response:{data:i={}}}=e,{errors:n={}}=i,{base:s=[]}=n;if(s.length>0){const e=Object(f.h)(Object(f.a)("Your comment could not be submitted because %{error}"),{error:s[0].toLowerCase()});return Object(p.default)({message:e,parent:t.flashContainer}),{...i,hasFlash:!0}}}throw e}))},Ce=function(e,t){let{commit:i}=e;return i("SET_NOTES_FETCHING_STATE",t)},Ie=function(e){let{commit:t,state:i,getters:n,dispatch:s}=e;const r=function(){const e=Object(D.a)()[0];let t={},i=0;const n={get id(){return e},get count(){return i},get handlers(){return t},free:()=>delete T[e],handle(e,i){e&&i&&(t[e]=i)},eject(e){e&&delete t[e]},occur(){i+=1,"function"==typeof t[i]&&t[i](i)},reset(){let{currentCount:e=!0,handlersList:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&(i=0),n&&(t={})}};return T[e]=n,n}();let a;r.handle(1,(function(){setTimeout((function(){return z.restart()}),6e3)})),r.handle(2,(function(){a=Object(p.default)({message:Object(f.a)("Something went wrong while fetching latest comments.")}),setTimeout((function(){return z.restart()}),6e3)})),z=new E.a({resource:{poll:function(){const{endpoint:e,options:t}=function(e){return{endpoint:e.notesData.notesPath,options:{headers:{"X-Last-Fetched-At":e.lastFetchedAt?""+e.lastFetchedAt:void 0}}}}(i);return m.a.get(e,t)}},method:"poll",successCallback:function(e){var n;let{data:o}=e;!async function(e,t,i,n,s){var r;i.isResolvingDiscussion||(null!==(r=e.notes)&&void 0!==r&&r.length&&(await s("updateOrCreateNotes",e.notes),s("startTaskList"),s("updateResolvableDiscussionsCounts")),t("SET_LAST_FETCHED_AT",e.last_fetched_at))}(o,t,i,0,s),r.count&&r.reset(),null===(n=a)||void 0===n||n.close()},errorCallback:function(){return r.occur()}}),c.a.hidden()?z.makeRequest():z.makeDelayedRequest(2500),c.a.change((function(){c.a.hidden()?z.stop():z.restart()}))},Oe=function(){z&&z.stop()},je=function(){z&&z.restart()},xe=function(e,t){let{commit:i,getters:n}=e,{awardName:s,noteId:r}=t;i("TOGGLE_AWARD",{awardName:s,note:n.notesById[r]})},Ae=function(e,t){let{dispatch:i}=e;const{endpoint:n,awardName:s}=t;return m.a.post(n,{name:s}).then((function(){i("toggleAward",t)}))},Ne=function(e,t){Object(S.z)(t[0])||Object(S.K)(t)},Fe=function(e,t){let{commit:i}=e;return m.a.get(t.truncated_diff_lines_path).then((function(e){let{data:n}=e;i("SET_DISCUSSION_DIFF_LINES",{discussionId:t.id,diffLines:n.truncated_diff_lines})}))},Le=function(){j.a.$emit("mr.discussion.updated")},Pe=function(e,t){let{commit:i}=e;i("SET_NOTES_LOADING_STATE",t)},Re=function(e,t){let{commit:i,dispatch:n}=e,{path:s,filter:r,persistFilter:a}=t;i("CLEAR_DISCUSSIONS"),n("setLoadingState",!0),n("fetchDiscussions",{path:s,filter:r,persistFilter:a}).then((function(){n("setLoadingState",!1),n("setNotesFetchedState",!0)})).catch((function(){n("setLoadingState",!1),n("setNotesFetchedState",!0),Object(p.default)({message:Object(f.a)("Something went wrong while fetching comments. Please try again.")})}))},qe=function(e,t){let{commit:i}=e;i("DISABLE_COMMENTS",t)},$e=function(e){let{dispatch:t}=e;return d.default.nextTick((function(){return new O.a({dataType:"note",fieldName:"note",selector:".notes .is-editable",onSuccess:function(){return t("startTaskList")}})}))},Be=function(e){let{commit:t}=e;return t("UPDATE_RESOLVABLE_DISCUSSIONS_COUNTS")},Me=function(e,t){let{commit:i,dispatch:n}=e,{discussionId:s,suggestionId:r,flashContainer:a,message:o}=t;return i("SET_RESOLVING_DISCUSSION",!0),n("stopPolling"),u.b.applySuggestion(r,o).then((function(){return n("resolveDiscussion",{discussionId:s}).catch((function(){}))})).catch((function(e){var t;const i=Object(f.a)("Something went wrong while applying the suggestion. Please try again."),n=(null===(t=e.response.data)||void 0===t?void 0:t.message)||i;Object(p.default)({message:n,parent:a})})).finally((function(){i("SET_RESOLVING_DISCUSSION",!1),n("restartPolling")}))},Ue=function(e,t){let{commit:i,dispatch:n,state:s}=e,{message:r,flashContainer:a}=t;const o=s.batchSuggestionsInfo.map((function(e){let{suggestionId:t}=e;return t}));return i("SET_APPLYING_BATCH_STATE",!0),i("SET_RESOLVING_DISCUSSION",!0),n("stopPolling"),u.b.applySuggestionBatch(o,r).then((function(){return Promise.all(s.batchSuggestionsInfo.map((function(e){const{discussionId:t}=e;return n("resolveDiscussion",{discussionId:t}).catch((function(){}))})))})).then((function(){return i("CLEAR_SUGGESTION_BATCH")})).catch((function(e){var t;const i=Object(f.a)("Something went wrong while applying the batch of suggestions. Please try again."),n=(null===(t=e.response.data)||void 0===t?void 0:t.message)||i;Object(p.default)({message:n,parent:a})})).finally((function(){i("SET_APPLYING_BATCH_STATE",!1),i("SET_RESOLVING_DISCUSSION",!1),n("restartPolling")}))},Ve=function(e,t){let{commit:i}=e,{suggestionId:n,noteId:s,discussionId:r}=t;return i("ADD_SUGGESTION_TO_BATCH",{suggestionId:n,noteId:s,discussionId:r})},ze=function(e,t){let{commit:i}=e;return i("REMOVE_SUGGESTION_FROM_BATCH",t)},We=function(e,t){let{commit:i}=e;return i("CONVERT_TO_DISCUSSION",t)},He=function(e,t){let{commit:i}=e;return i("REMOVE_CONVERTED_DISCUSSION",t)},Ge=function(e,t){let{commit:i}=e;return i("SET_CURRENT_DISCUSSION_ID",t)},Ke=function(e,t){let{dispatch:i}=e,{endpoint:n,startingVersion:s,versionId:r}=t,a=n;return s&&(a=Object(C.y)({start_version_id:s},a)),i("requestDescriptionVersion"),m.a.get(a).then((function(e){i("receiveDescriptionVersion",{descriptionVersion:e.data,versionId:r})})).catch((function(e){i("receiveDescriptionVersionError",e),Object(p.default)({message:Object(f.a)("Something went wrong while fetching description changes. Please try again.")})}))},Ye=function(e){let{commit:t}=e;t("REQUEST_DESCRIPTION_VERSION")},Qe=function(e,t){let{commit:i}=e;i("RECEIVE_DESCRIPTION_VERSION",t)},Xe=function(e,t){let{commit:i}=e;i("RECEIVE_DESCRIPTION_VERSION_ERROR",t)},Je=function(e,t){let{dispatch:i}=e,{endpoint:n,startingVersion:s,versionId:r}=t,a=n;return s&&(a=Object(C.y)({start_version_id:s},a)),i("requestDeleteDescriptionVersion"),m.a.delete(a).then((function(){i("receiveDeleteDescriptionVersion",r)})).catch((function(e){throw i("receiveDeleteDescriptionVersionError",e),Object(p.default)({message:Object(f.a)("Something went wrong while deleting description changes. Please try again.")}),new Error}))},Ze=function(e){let{commit:t}=e;t("REQUEST_DELETE_DESCRIPTION_VERSION")},et=function(e,t){let{commit:i}=e;i("RECEIVE_DELETE_DESCRIPTION_VERSION",{[t]:Object(f.a)("Deleted")})},tt=function(e,t){let{commit:i}=e;i("RECEIVE_DELETE_DESCRIPTION_VERSION_ERROR",t)},it=function(e,t){let{commit:i}=e;i("UPDATE_ASSIGNEES",t)},nt=function(e,t){let{commit:i}=e;i("UPDATE_DISCUSSION_POSITION",t)};var st=i("rl7y"),rt=i.n(st),at=i("LW8g"),ot=i.n(at),lt=(i("0no1"),i("gdbl"),i("u6G8"),i("oVeW"),i("pmYr")),ct=i("ZcYw");const dt=function(e){let t=null,i=-1;return e.slice(0).reduce((function(e,n){const s=n.notes[0];if(function(e){return e.system&&e.note===r.DESCRIPTION_TYPE}(s))if(t){if(t){(function(e,t){const i=new Date(e.created_at),n=(new Date(t.created_at)-i)/1e3/60;return Math.ceil(n)})(t,s)>r.TIME_DIFFERENCE_VALUE||s.author.id!==t.author.id||t.description_version_deleted?(t=s,i=e.length):(s.start_description_version_id=t.description_version_id,e.splice(i,1),i=e.length)}}else t=s,i=e.length;return e.push(n),e}),[])},ut=function(e,t,i){let n=rt()(e.discussions);return e.isTimelineEnabled&&(n=n.reduce((function(e,t){const i=t.notes.map((function(e){return{...t,id:e.id,created_at:e.created_at,individual_note:!0,notes:[e]}}));return e.concat(i)}),[]).sort((function(e,t){return new Date(e.created_at)-new Date(t.created_at)}))),n=dt(n),n=n.concat(function(e){return e.batchComments?e.batchComments.drafts.filter((function(e){return!e.file_path&&!e.discussion_id})).map((function(e){return{...e,individual_note:!0}})).sort((function(e,t){return e.id-t.id})):[]}(i)),e.discussionSortOrder===r.DESC&&(n=n.reverse()),n},pt=function(e){return e.convertedDisscussionIds},ht=function(e){return e.targetNoteHash},mt=function(e){return e.notesData},ft=function(e){return e.isNotesFetched},gt=function(e){return e.discussionSortOrder},vt=function(e){return e.persistSortOrder},bt=function(e){return e.isTimelineEnabled},yt=function(e){return e.isFetching},kt=function(e){return e.isLoading},wt=function(e){return function(t){return e.notesData[t]}},_t=function(e){return e.noteableData},St=function(e){return function(t){return e.noteableData[t]}},Et=function(e){return e.noteableData.blocked_by_issues},Dt=function(e){return Boolean(e.noteableData.current_user.can_create_note)},Tt=function(e){return Object(S.y)()?ct.a.state:e.noteableData.state},Ct=function(e){return e.userData||{}},It=function(e){return function(t){return e.userData&&e.userData[t]}},Ot=function(e){return e.descriptionVersions},jt=function(e){var t;return Boolean((null===(t=e.userData)||void 0===t?void 0:t.can_add_timeline_events)&&e.noteableData.type===r.NOTEABLE_TYPE_MAPPING.Incident)},xt=function(e){return e.discussions.reduce((function(e,t){return t.notes.every((function(t){return Object.assign(e,{[t.id]:t})})),e}),{})},At=function(e){const{ISSUE_NOTEABLE_TYPE:t,MERGE_REQUEST_NOTEABLE_TYPE:i,EPIC_NOTEABLE_TYPE:n}=r;return e.noteableData.noteableType===n?n:e.noteableData.merge_params?i:t},Nt=function(e){return e.slice(0).reverse()},Ft=function(e,t){return!e.system&&t.userData&&e.author&&e.author.id===t.userData.id},Lt=function(e){return ot()(Nt(e.discussions).map((function(e){return Nt(e.notes)}))).find((function(t){return Ft(t,e)}))},Pt=function(e){return function(t){return Nt(t.notes).find((function(t){return Ft(t,e)}))}},Rt=function(e){return e.unresolvedDiscussionsCount},qt=function(e){return e.resolvableDiscussionsCount},$t=function(e,t){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"discussion";const i="discussion"!==e?t.unresolvedDiscussionsIdsByDiff:t.unresolvedDiscussionsIdsByDate;return i.length>1}},Bt=function(e,t){return function(e){return void 0!==t.resolvedDiscussionsById[e]}},Mt=function(e){return e.discussions.filter((function(e){return!e.individual_note&&e.resolvable}))},Ut=function(e){const t={};return e.discussions.filter((function(e){return e.resolvable})).forEach((function(e){if(e.notes){e.notes.filter((function(e){return e.resolvable})).every((function(e){return e.resolved}))&&(t[e.id]=e)}})),t},Vt=function(e,t){return t.allResolvableDiscussions.filter((function(e){return!e.resolved})).sort((function(e,t){const i=new Date(e.notes[0].created_at),n=new Date(t.notes[0].created_at);return i<n?-1:i===n?0:1})).map((function(e){return e.id}))},zt=function(e,t,i){const n=i.diffs.diffFiles;return t.allResolvableDiscussions.filter((function(e){return!e.resolved&&e.active})).sort((function(e,t){let i=0;if(!e.diff_file||!t.diff_file)return i;const s=n.find((function(t){return Object(lt.e)({fileA:t,fileB:e.diff_file,mode:"mr"})})),r=n.find((function(e){return Object(lt.e)({fileA:e,fileB:t.diff_file,mode:"mr"})}));s&&r&&(i=s.order-r.order);const a=[e.position.new_line,e.position.old_line],o=[t.position.new_line,t.position.old_line];return i<0||0===i&&Math.max(a[0],a[1])<Math.max(o[0],o[1])?-1:1})).map((function(e){return e.id}))},Wt=function(e,t){const i=t.resolvedDiscussionsById;return Object.keys(i).length},Ht=function(e){return e.discussions.reduce((function(e,t){return e+t.notes.filter((function(e){return!e.system&&!e.placeholder})).length}),0)},Gt=function(e,t){return function(e){return e?t.unresolvedDiscussionsIdsByDiff:t.unresolvedDiscussionsIdsByDate}},Kt=function(e,t){return function(e,i){const n=t.unresolvedDiscussionsIdsOrdered(i);return n[n.length-1]===e}},Yt=function(e,t){return function(e){let{discussionId:i,diffOrder:n,step:s}=e;const r=t.unresolvedDiscussionsIdsOrdered(n),a=t.unresolvedDiscussionsIdsOrdered(!1),o=r.length?r:a,l=o.indexOf(i)+s;return l<0&&s<0?o[o.length-1]:l===o.length&&s>0?o[0]:o[l]}},Qt=function(e,t){return function(e,i){return t.findUnresolvedDiscussionIdNeighbor({discussionId:e,diffOrder:i,step:1})}},Xt=function(e,t){return function(e,i){return t.findUnresolvedDiscussionIdNeighbor({discussionId:e,diffOrder:i,step:-1})}},Jt=function(e,t){return function(e){return e?t.unresolvedDiscussionsIdsByDiff[0]:t.unresolvedDiscussionsIdsByDate[0]}},Zt=function(e){return function(t){return e.discussions.find((function(e){return e.id===t}))}},ei=function(e){return e.commentsDisabled},ti=function(e,t){return Object.values(t.notesById).filter((function(e){var t;return null===(t=e.suggestions)||void 0===t?void 0:t.length})).length},ii=function(e,t,i,n){return Boolean(n["batchComments/hasDrafts"])},ni=function(e){return function(){return e.batchSuggestionsInfo.reduce((function(t,i){var n;const s=e.discussions.find((function(e){return e.id===i.discussionId}));return-1===t.indexOf(null==s||null===(n=s.diff_file)||void 0===n?void 0:n.file_path)&&t.push(s.diff_file.file_path),t}),[])}};var si=i("pY+i"),ri=i.n(si),ai={ADD_NEW_NOTE(e,t){const i=t.discussion?t.discussion.notes[0]:t,{discussion_id:n,type:s}=i,[a]=e.discussions.filter((function(e){return e.id===i.discussion_id})),o=s===r.DISCUSSION_NOTE||s===r.DIFF_NOTE;if(!a){let s=t.discussion||i.base_discussion;s||(s={expanded:!0,id:n,individual_note:!o,reply_id:n},o&&Object(S.y)()&&(s.resolvable=i.resolvable,s.resolved=!1,s.active=!0,s.resolve_path=i.resolve_path,s.resolve_with_issue_path=i.resolve_with_issue_path,s.diff_discussion=!1)),delete i.base_discussion,s.notes=[i],e.discussions.push(s)}},ADD_NEW_REPLY_TO_DISCUSSION(e,t){const i=B(e.discussions,t.discussion_id),n=i&&B(i.notes,t.id);i&&!n&&i.notes.push(t)},DELETE_NOTE(e,t){const i=B(e.discussions,t.discussion_id);if(i.individual_note)e.discussions.splice(e.discussions.indexOf(i),1);else{const n=B(i.notes,t.id);i.notes.splice(i.notes.indexOf(n),1),i.notes.length||e.discussions.splice(e.discussions.indexOf(i),1)}},EXPAND_DISCUSSION(e,t){let{discussionId:i}=t;const n=B(e.discussions,i);Object.assign(n,{expanded:!0})},COLLAPSE_DISCUSSION(e,t){let{discussionId:i}=t;const n=B(e.discussions,i);Object.assign(n,{expanded:!1})},REMOVE_PLACEHOLDER_NOTES(e){const{discussions:t}=e;for(let e=t.length-1;e>=0;e-=1){const i=t[e],n=i.notes;if(n.length&&!i.individual_note)for(let e=n.length-1;e>=0;e-=1)n[e].isPlaceholderNote&&n.splice(e,1);else i.isPlaceholderNote&&t.splice(e,1)}},SET_NOTES_DATA(e,t){Object.assign(e,{notesData:t})},SET_NOTEABLE_DATA(e,t){Object.assign(e,{noteableData:t})},SET_ISSUE_CONFIDENTIAL(e,t){e.noteableData.confidential=t},SET_ISSUABLE_LOCK(e,t){e.noteableData.discussion_locked=t},SET_USER_DATA(e,t){Object.assign(e,{userData:t})},CLEAR_DISCUSSIONS(e){e.discussions=[]},ADD_OR_UPDATE_DISCUSSIONS(e,t){t.forEach((function(t){const i={...t},n={};if(i.diff_file&&(n.file_hash=i.diff_file.file_hash,n.truncated_diff_lines=U(i.truncated_diff_lines||[])),i.individual_note&&i.notes.length>1)i.notes.forEach((function(t){const s={...i,...n,notes:[t]},r=e.discussions.find((function(e){return e.id===i.id&&e.notes[0].id===t.id}));r?e.discussions.splice(e.discussions.indexOf(r),1,s):e.discussions.push(s)}));else{const t=B(e.discussions,i.id);t?e.discussions.splice(e.discussions.indexOf(t),1,{...i,...n,expanded:t.expanded}):e.discussions.push({...i,...n})}}))},SET_LAST_FETCHED_AT(e,t){Object.assign(e,{lastFetchedAt:t})},SET_TARGET_NOTE_HASH(e,t){Object.assign(e,{targetNoteHash:t})},SHOW_PLACEHOLDER_NOTE(e,t){let i=e.discussions;const n=B(i,t.replyId);n&&(i=n.notes),i.push({individual_note:!0,isPlaceholderNote:!0,placeholderType:t.isSystemNote?r.SYSTEM_NOTE:r.NOTE,notes:[{body:t.noteBody}]})},TOGGLE_AWARD(e,t){const{awardName:i,note:n}=t,{id:s,name:r,username:a}=e.userData,o=n.award_emoji.filter((function(e){return""+e.name==""+t.awardName&&e.user.id===s}));o.length?n.award_emoji.splice(n.award_emoji.indexOf(o[0]),1):n.award_emoji.push({name:i,user:{id:s,name:r,username:a}})},TOGGLE_DISCUSSION(e,t){let{discussionId:i,forceExpanded:n=null}=t;const s=B(e.discussions,i);Object.assign(s,{expanded:null===n?!s.expanded:n})},SET_EXPAND_DISCUSSIONS(e,t){let{discussionIds:i,expanded:n}=t;null!=i&&i.length&&i.forEach((function(t){const i=B(e.discussions,t);Object.assign(i,{expanded:n})}))},SET_RESOLVING_DISCUSSION(e,t){e.isResolvingDiscussion=t},UPDATE_NOTE(e,t){const i=B(e.discussions,t.discussion_id);if(delete t.base_discussion,i.individual_note)t.type===r.DISCUSSION_NOTE&&(i.individual_note=!1),i.notes.splice(0,1,t);else{const e=B(i.notes,t.id);ri()(e,t)||i.notes.splice(i.notes.indexOf(e),1,t)}},APPLY_SUGGESTION(e,t){let{noteId:i,discussionId:n,suggestionId:s}=t;const r=B(e.discussions,n),a=B(r.notes,i);a.suggestions=a.suggestions.map((function(e){return{...e,applied:e.applied||e.id===s,appliable:!1}}))},SET_APPLYING_BATCH_STATE(e,t){e.batchSuggestionsInfo.forEach((function(i){const{discussionId:n,noteId:s,suggestionId:r}=i,a=B(e.discussions,n),o=B(a.notes,s);o.suggestions=o.suggestions.map((function(e){return{...e,is_applying_batch:e.id===r&&t}}))}))},ADD_SUGGESTION_TO_BATCH(e,t){let{noteId:i,discussionId:n,suggestionId:s}=t;e.batchSuggestionsInfo.push({suggestionId:s,noteId:i,discussionId:n})},REMOVE_SUGGESTION_FROM_BATCH(e,t){const i=e.batchSuggestionsInfo.findIndex((function(e){let{suggestionId:i}=e;return i===t}));-1!==i&&e.batchSuggestionsInfo.splice(i,1)},CLEAR_SUGGESTION_BATCH(e){e.batchSuggestionsInfo.splice(0,e.batchSuggestionsInfo.length)},UPDATE_DISCUSSION(e,t){const i=t,n=e.discussions.find((function(e){return e.id===i.id}));i.expanded=!0,i.diff_file&&Object.assign(i,{file_hash:i.diff_file.file_hash}),Object.assign(n,{...i})},UPDATE_DISCUSSION_POSITION(e,t){let{discussionId:i,position:n}=t;const s=e.discussions.find((function(e){return e.id===i}));s&&Object.assign(s.position,{...n})},CLOSE_ISSUE(e){Object.assign(e.noteableData,{state:r.CLOSED})},REOPEN_ISSUE(e){Object.assign(e.noteableData,{state:r.REOPENED})},TOGGLE_STATE_BUTTON_LOADING(e,t){Object.assign(e,{isToggleStateButtonLoading:t})},SET_NOTES_FETCHED_STATE(e,t){Object.assign(e,{isNotesFetched:t})},SET_NOTES_LOADING_STATE(e,t){e.isLoading=t},SET_NOTES_FETCHING_STATE(e,t){e.isFetching=t},SET_DISCUSSION_DIFF_LINES(e,t){let{discussionId:i,diffLines:n}=t;B(e.discussions,i).truncated_diff_lines=U(n)},SET_DISCUSSIONS_SORT(e,t){let{direction:i,persist:n}=t;e.discussionSortOrder=i,e.persistSortOrder=n},SET_TIMELINE_VIEW(e,t){e.isTimelineEnabled=t},SET_SELECTED_COMMENT_POSITION(e,t){e.selectedCommentPosition=t},SET_SELECTED_COMMENT_POSITION_HOVER(e,t){e.selectedCommentPositionHover=t},DISABLE_COMMENTS(e,t){e.commentsDisabled=t},UPDATE_RESOLVABLE_DISCUSSIONS_COUNTS(e){e.resolvableDiscussionsCount=e.discussions.filter((function(e){return!e.individual_note&&e.resolvable})).length,e.unresolvedDiscussionsCount=e.discussions.filter((function(e){return!e.individual_note&&e.resolvable&&e.notes.some((function(e){return e.resolvable&&!e.resolved}))})).length},CONVERT_TO_DISCUSSION(e,t){const i=[...e.convertedDisscussionIds,t];Object.assign(e,{convertedDisscussionIds:i})},REMOVE_CONVERTED_DISCUSSION(e,t){const i=[...e.convertedDisscussionIds];i.splice(i.indexOf(t),1),Object.assign(e,{convertedDisscussionIds:i})},SET_CURRENT_DISCUSSION_ID(e,t){e.currentDiscussionId=t},REQUEST_DESCRIPTION_VERSION(e){e.isLoadingDescriptionVersion=!0},RECEIVE_DESCRIPTION_VERSION(e,t){let{descriptionVersion:i,versionId:n}=t;const s={...e.descriptionVersions,[n]:i};Object.assign(e,{descriptionVersions:s,isLoadingDescriptionVersion:!1})},RECEIVE_DESCRIPTION_VERSION_ERROR(e){e.isLoadingDescriptionVersion=!1},REQUEST_DELETE_DESCRIPTION_VERSION(e){e.isLoadingDescriptionVersion=!0},RECEIVE_DELETE_DESCRIPTION_VERSION(e,t){e.isLoadingDescriptionVersion=!1,Object.assign(e.descriptionVersions,t)},RECEIVE_DELETE_DESCRIPTION_VERSION_ERROR(e){e.isLoadingDescriptionVersion=!1},UPDATE_ASSIGNEES(e,t){e.noteableData.assignees=t},SET_FETCHING_DISCUSSIONS(e,t){e.currentlyFetchingDiscussions=t},SET_DONE_FETCHING_BATCH_DISCUSSIONS(e,t){e.doneFetchingBatchDiscussions=t},SET_PROMOTE_COMMENT_TO_TIMELINE_PROGRESS(e,t){e.isPromoteCommentToTimelineEventInProgress=t}};t.a=function(){return{state:{discussions:[],discussionSortOrder:r.ASC,persistSortOrder:!0,convertedDisscussionIds:[],targetNoteHash:null,lastFetchedAt:null,currentDiscussionId:null,batchSuggestionsInfo:[],currentlyFetchingDiscussions:!1,doneFetchingBatchDiscussions:!1,selectedCommentPosition:null,selectedCommentPositionHover:null,isToggleStateButtonLoading:!1,isNotesFetched:!1,isLoading:!0,isLoadingDescriptionVersion:!1,isPromoteCommentToTimelineEventInProgress:!1,notesData:{markdownDocsPath:""},userData:{},noteableData:{discussion_locked:!1,confidential:!1,current_user:{},preview_note_path:"path/to/preview"},isResolvingDiscussion:!1,commentsDisabled:!1,resolvableDiscussionsCount:0,unresolvedDiscussionsCount:0,descriptionVersions:{},isTimelineEnabled:!1,isFetching:!1},actions:n,getters:s,mutations:ai}}},aeXO:function(e,t,i){"use strict";var n=i("ly/8"),s=i("cuRJ"),r=i("H8gz"),a=i("zLBL"),o=i("t9l/"),l=i("9l04"),c={directives:{GlTooltip:n.a},components:{GlButton:s.a,GlIcon:r.a,GlLoadingIcon:a.a,UserAvatarImage:l.a},props:{loading:{type:Boolean,required:!1,default:!1},participants:{type:Array,required:!1,default:function(){return[]}},numberOfLessParticipants:{type:Number,required:!1,default:8},showParticipantLabel:{type:Boolean,required:!1,default:!0},lazy:{type:Boolean,required:!1,default:!0}},data:()=>({isShowingMoreParticipants:!1}),computed:{lessParticipants(){return this.participants.slice(0,this.numberOfLessParticipants)},visibleParticipants(){return this.isShowingMoreParticipants?this.participants:this.lessParticipants},hasMoreParticipants(){return this.participants.length>this.numberOfLessParticipants},toggleLabel(){let e="";return e=this.isShowingMoreParticipants?Object(o.a)("- show less"):Object(o.h)(Object(o.a)("+ %{moreCount} more"),{moreCount:this.participants.length-this.numberOfLessParticipants}),e},participantLabel(){return Object(o.h)(Object(o.f)("%{count} participant","%{count} participants",this.participants.length),{count:this.loading?"":this.participantCount})},participantCount(){return this.participants.length}},methods:{toggleMoreParticipants(){this.isShowingMoreParticipants=!this.isShowingMoreParticipants},onClickCollapsedIcon(){this.$emit("toggleSidebar")}}},d=i("bPvS"),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.showParticipantLabel?i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.participantLabel},on:{click:e.onClickCollapsedIcon}},[i("gl-icon",{attrs:{name:"users"}}),e._v(" "),e.loading?i("gl-loading-icon",{attrs:{size:"sm"}}):i("span",{staticClass:"gl-pt-2 gl-px-3 gl-font-sm",attrs:{"data-testid":"collapsed-count"}},[e._v("\n      "+e._s(e.participantCount)+"\n    ")])],1):e._e(),e._v(" "),e.showParticipantLabel?i("div",{staticClass:"title hide-collapsed gl-mb-2! gl-line-height-20 gl-font-weight-bold"},[e.loading?i("gl-loading-icon",{attrs:{size:"sm",inline:!0}}):e._e(),e._v("\n    "+e._s(e.participantLabel)+"\n  ")],1):e._e(),e._v(" "),i("div",{staticClass:"hide-collapsed gl-display-flex gl-flex-wrap"},e._l(e.visibleParticipants,(function(t){return i("div",{key:t.id,staticClass:"participants-author gl-display-inline-block gl-pr-3 gl-pb-3"},[i("a",{staticClass:"author-link",attrs:{href:t.web_url||t.webUrl}},[i("user-avatar-image",{attrs:{lazy:e.lazy,"img-src":t.avatar_url||t.avatarUrl,size:24,"tooltip-text":t.name,"img-alt":t.name,"css-classes":"gl-mr-0!","tooltip-placement":"bottom"}})],1)])})),0),e._v(" "),e.hasMoreParticipants?i("div",{staticClass:"participants-more hide-collapsed"},[i("gl-button",{attrs:{variant:"link","button-text-classes":"gl-text-secondary","data-testid":"more-participants"},on:{click:e.toggleMoreParticipants}},[e._v(e._s(e.toggleLabel))])],1):e._e()])}),[],!1,null,null,null);t.a=u.exports},bTeh:function(e,t,i){(e.exports=i("ZSrL")(!1)).push([e.i,"\n.vue-recycle-scroller {\n  position: relative;\n}\n.vue-recycle-scroller.direction-vertical:not(.page-mode) {\n  overflow-y: auto;\n}\n.vue-recycle-scroller.direction-horizontal:not(.page-mode) {\n  overflow-x: auto;\n}\n.vue-recycle-scroller.direction-horizontal {\n  display: flex;\n}\n.vue-recycle-scroller__slot {\n  flex: auto 0 0;\n}\n.vue-recycle-scroller__item-wrapper {\n  flex: 1;\n  box-sizing: border-box;\n  overflow: hidden;\n  position: relative;\n}\n.vue-recycle-scroller.ready .vue-recycle-scroller__item-view {\n  position: absolute;\n  top: 0;\n  left: 0;\n  will-change: transform;\n}\n.vue-recycle-scroller.direction-vertical .vue-recycle-scroller__item-wrapper {\n  width: 100%;\n}\n.vue-recycle-scroller.direction-horizontal .vue-recycle-scroller__item-wrapper {\n  height: 100%;\n}\n.vue-recycle-scroller.ready.direction-vertical .vue-recycle-scroller__item-view {\n  width: 100%;\n}\n.vue-recycle-scroller.ready.direction-horizontal .vue-recycle-scroller__item-view {\n  height: 100%;\n}\n",""])},"c/I3":function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("6oy4"),s=i.n(n),r=(i("WmlO"),i("3R5X"),i("W9Nl"),i("rl6E")),a=i("+F8P");var o=i("t9l/"),l=i("htOw");class c extends class{constructor(){let{dropdown:e,data:t,pattern:i,wrapper:n,editor:r,$input:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pattern=i,this.editor=r,this.dropdown=e,this.$dropdownContainer=n,this.$filenameInput=o||s()("#file_name"),this.dropdownIcon=e[0].querySelector(".dropdown-menu-toggle-icon"),this.loadingIcon=Object(a.a)({classes:["gl-display-none"]}),this.dropdownIcon.parentNode.insertBefore(this.loadingIcon,this.dropdownIcon.nextSibling),this.initDropdown(e,t),this.listenForFilenameInput(),this.renderMatchedDropdown(),this.initAutosizeUpdateEvent()}initDropdown(e,t){var i=this;return Object(r.a)(s()(e),{data:t,filterable:!0,selectable:!0,toggleLabel:function(e){return e.name},search:{fields:["name"]},clicked:function(e){return i.onDropdownClicked(e)},text:function(e){return e.name}})}onDropdownClicked(e){this.fetchFileTemplate(e)}initAutosizeUpdateEvent(){this.autosizeUpdateEvent=document.createEvent("Event"),this.autosizeUpdateEvent.initEvent("autosize:update",!0,!1)}listenForFilenameInput(){var e=this;return this.$filenameInput.on("keyup blur",(function(t){return e.renderMatchedDropdown(t)}))}renderMatchedDropdown(){if(!this.$filenameInput.length)return null;return this.pattern.test(this.$filenameInput.val().trim())?this.$dropdownContainer.removeClass("hidden"):this.$dropdownContainer.addClass("hidden")}fetchFileTemplate(e){const{e:t}=e,i=e.selectedObj;return t.preventDefault(),this.requestFile(i)}requestFile(){}setEditorContent(e){let{skipFocus:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;let i=e.content;const n=new URLSearchParams(window.location.search);n.has("issue[description]")&&(i+="\n"+n.get("issue[description]")),this.editor.setValue(i,1),t||this.editor.focus(),this.editor instanceof s.a&&(this.editor.get(0).dispatchEvent(this.autosizeUpdateEvent),this.editor.trigger("input"))}getEditorContent(){return this.editor.getValue()}startLoadingSpinner(){this.loadingIcon.classList.remove("gl-display-none"),this.dropdownIcon.classList.add("gl-display-none")}stopLoadingSpinner(){this.loadingIcon.classList.add("gl-display-none"),this.dropdownIcon.classList.remove("gl-display-none")}}{constructor(){for(var e,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];super(...i),e=this,this.projectId=this.dropdown.data("projectId"),this.issuableType=this.$dropdownContainer.data("issuableType"),this.titleInput=s()(`#${this.issuableType}_title`),this.templateWarningEl=s()(".js-issuable-template-warning"),this.warnTemplateOverride=i[0].warnTemplateOverride;const r={name:this.dropdown.data("selected")};r.name||!this.dropdown.data("default")||this.editor.getValue().length||(r.name=this.dropdown.data("default")),r.name&&(this.requestFile(r),this.setToggleText(r.name)),s()(".reset-template",this.dropdown.parent()).on("click",(function(){e.setInputValueToTemplateContent()})),s()(".no-template",this.dropdown.parent()).on("click",(function(){e.reset()})),this.templateWarningEl.find(".js-close-btn").on("click",(function(){void 0!==e.previousSelectedIndex?e.dropdown.data("deprecatedJQueryDropdown").selectRowAtIndex(e.previousSelectedIndex):e.reset(),e.templateWarningEl.addClass("hidden")})),this.templateWarningEl.find(".js-override-template").on("click",(function(){e.requestFile(e.overridingTemplate),e.setSelectedIndex(),e.templateWarningEl.addClass("hidden"),e.overridingTemplate=null}))}reset(){this.currentTemplate&&(this.currentTemplate.content=""),this.setInputValueToTemplateContent(),this.setToggleText(Object(o.a)("Choose a template")),this.previousSelectedIndex=null}setToggleText(e){s()(".dropdown-toggle-text",this.dropdown).text(e)}setSelectedIndex(){this.previousSelectedIndex=this.dropdown.data("deprecatedJQueryDropdown").selectedIndex}onDropdownClicked(e){const t=this.getEditorContent(),i=""===t||this.currentTemplate&&t===this.currentTemplate.content;if(!this.warnTemplateOverride||i)return super.onDropdownClicked(e),void this.setSelectedIndex();this.overridingTemplate=e.selectedObj,this.templateWarningEl.removeClass("hidden")}requestFile(e){var t=this;this.startLoadingSpinner(),l.b.projectTemplate(this.projectId,this.issuableType,e.name,{source_template_project_id:e.project_id},(function(e){t.currentTemplate=e,t.stopLoadingSpinner(),t.setInputValueToTemplateContent()}))}setInputValueToTemplateContent(){""===this.titleInput.val()?(this.setEditorContent(this.currentTemplate,{skipFocus:!0}),this.titleInput.focus()):this.setEditorContent(this.currentTemplate,{skipFocus:!1})}}class d{constructor(){var e=this;let{$dropdowns:t,editor:i,warnTemplateOverride:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$dropdowns=t||s()(".js-issuable-selector"),this.editor=i||this.initEditor(),this.$dropdowns.each((function(t,i){const r=s()(i);new c({pattern:/(\.md)/,data:r.data("data"),wrapper:r.closest(".js-issuable-selector-wrap"),dropdown:r,editor:e.editor,warnTemplateOverride:n})}))}initEditor(){const e=s()(".markdown-area");return e.setValue=e.val,e.getValue=e.val,e}}},c1kE:function(e,t,i){"use strict";i.d(t,"a",(function(){return vn})),i.d(t,"b",(function(){return bn})),i.d(t,"c",(function(){return yn}));var n={};i.r(n),i.d(n,"setInitialState",(function(){return fe})),i.d(n,"requestData",(function(){return ge})),i.d(n,"receiveDataSuccess",(function(){return ve})),i.d(n,"receiveDataError",(function(){return be})),i.d(n,"fetchMergeRequests",(function(){return ye}));var s=i("6oy4"),r=i.n(s),a=i("38UM"),o=i("EdB/"),l=i("HWy0"),c=i("uY7R"),d=i("B7Ow"),u=i("c/I3"),p=i("mpzd"),h=i("yYHy"),m=i("teVv"),f=i("8KL1"),g=i("mphk"),v=i("vRHk"),b=i("t9l/"),y=i("4pZC"),k=i.n(y),w=(i("WmlO"),i("3R5X"),i("W9Nl"),i("JHu5"),i("XUYm"),i("q+nE")),_=i("oj/M"),S=(i("uHfJ"),i("R0RX"),i("H8gz")),E=i("u1ru"),D=i("nPFI"),T=i("htOw"),C=w.default.observable({selectedProject:{}}),I=i("OkMp"),O=i("0X+3"),j={components:{GlDropdown:I.a,GlDropdownItem:O.a},props:{projects:{type:Array,required:!0},selectedProject:{type:Object,required:!1,default:function(){return{}}}},computed:{dropdownText(){return Object.keys(this.selectedProject).length?this.selectedProject.name:Object(b.a)("Select private project")}},methods:{selectProject(e){this.$emit("click",e)}}},x=i("bPvS"),A=Object(x.a)(j,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-dropdown",{attrs:{block:"",icon:"lock",text:e.dropdownText}},e._l(e.projects,(function(t){return i("gl-dropdown-item",{key:t.id,attrs:{"is-check-item":"","is-checked":t.id===e.selectedProject.id},on:{click:function(i){return e.selectProject(t)}}},[e._v("\n    "+e._s(t.name)+"\n  ")])})),1)}),[],!1,null,null,null).exports,N={components:{GlIcon:S.a,GlLink:E.a,GlSprintf:D.a,Dropdown:A},props:{namespacePath:{type:String,required:!0},projectPath:{type:String,required:!0},newForkPath:{type:String,required:!0},helpPagePath:{type:String,required:!0}},data:()=>({projects:[]}),computed:{selectedProject:()=>C.selectedProject},mounted(){this.fetchProjects(),this.createBtn=document.querySelector(".js-create-target"),this.warningText=document.querySelector(".js-exposed-info-warning")},methods:{selectProject(e){e?(Object.assign(C,{selectedProject:e}),e.namespaceFullPath!==this.namespacePath&&this.showWarning()):this.createBtn&&(this.createBtn.setAttribute("disabled","disabled"),this.createBtn.classList.add("disabled"))},normalizeProjectData:e=>e.map((function(e){return{id:e.id,name:e.name_with_namespace,pathWithNamespace:e.path_with_namespace,namespaceFullpath:e.namespace.full_path}})),fetchProjects(){var e=this;T.b.projectForks(this.projectPath,{with_merge_requests_enabled:!0,min_access_level:30,visibility:"private"}).then((function(t){let{data:i}=t;e.projects=e.normalizeProjectData(i),e.selectProject(e.projects[0])})).catch((function(e){throw Object(m.createAlert)({message:Object(b.a)("Error fetching forked projects. Please try again.")}),e}))},showWarning(){this.warningText&&this.warningText.classList.remove("gl-display-none")}},i18n:{project:Object(b.a)("Project"),privateForkSelected:Object(b.a)("To protect this issue's confidentiality, a private fork of this project was selected."),noForks:Object(b.a)("No forks are available to you."),forkTheProject:Object(b.a)("To protect this issue's confidentiality, %{linkStart}fork this project%{linkEnd} and set the fork's visibility to private."),readMore:Object(b.a)("Read more")}},F=Object(x.a)(N,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"confidential-merge-request-fork-group form-group"},[i("label",[e._v(e._s(e.$options.i18n.project))]),e._v(" "),i("div",[e.projects.length?i("dropdown",{attrs:{projects:e.projects,"selected-project":e.selectedProject},on:{click:e.selectProject}}):e._e(),e._v(" "),i("p",{staticClass:"gl-text-gray-600 gl-mt-1 gl-mb-0"},[e.projects.length?[e._v("\n        "+e._s(e.$options.i18n.privateForkSelected)+"\n      ")]:[e._v("\n        "+e._s(e.$options.i18n.noForks)),i("br"),e._v(" "),i("gl-sprintf",{attrs:{message:e.$options.i18n.forkTheProject},scopedSlots:e._u([{key:"link",fn:function(t){var n=t.content;return[i("a",{staticClass:"help-link",attrs:{href:e.newForkPath,target:"_blank"}},[e._v(e._s(n))])]}}])})],e._v(" "),i("gl-link",{staticClass:"gl-w-auto gl-p-0 gl-display-inline-block gl-bg-transparent",attrs:{href:e.helpPagePath,target:"_blank"}},[i("span",{staticClass:"sr-only"},[e._v(e._s(e.$options.i18n.readMore))]),e._v(" "),i("gl-icon",{attrs:{name:"question-o"}})],1)],2)],1)])}),[],!1,null,null,null).exports;function L(){return Object(_.F)(document.querySelector(".js-create-mr").dataset.isConfidential)}function P(){return L()&&Object.keys(C.selectedProject).length>0}var R=i("CoxT");const q={...{init(e){this.hook=e,this.destroyed=!1,this.config=e.config.InputSetter||(this.hook.config.InputSetter={}),this.eventWrapper={},this.addEvents()},addEvents(){this.eventWrapper.setInputs=this.setInputs.bind(this),this.hook.list.list.addEventListener("click.dl",this.eventWrapper.setInputs)},removeEvents(){this.hook.list.list.removeEventListener("click.dl",this.eventWrapper.setInputs)},setInputs(e){var t=this;if(this.destroyed)return;const i=e.detail.selected;Array.isArray(this.config)||(this.config=[this.config]),this.config.forEach((function(e){return t.setInput(e,i)}))},setInput(e,t){const i=e.input||this.hook.trigger,n=t.getAttribute(e.valueAttribute),s=e.inputAttribute;return i.hasAttribute(s)?i.setAttribute(s,n):"INPUT"===i.tagName?i.value=n:i.textContent=n},destroy(){this.destroyed=!0,this.removeEvents()}}};function $(e,t){return P()?t.replace(e,C.selectedProject.pathWithNamespace):t}class B{constructor(e){var t=this;this.wrapperEl=e,this.availableButton=this.wrapperEl.querySelector(".available"),this.branchInput=this.wrapperEl.querySelector(".js-branch-name"),this.branchMessage=this.wrapperEl.querySelector(".js-branch-message"),this.createMergeRequestButton=this.wrapperEl.querySelector(".js-create-merge-request"),this.createMergeRequestLoading=this.createMergeRequestButton.querySelector(".js-spinner"),this.createTargetButton=this.wrapperEl.querySelector(".js-create-target"),this.dropdownList=this.wrapperEl.querySelector(".dropdown-menu"),this.dropdownToggle=this.wrapperEl.querySelector(".js-dropdown-toggle"),this.refInput=this.wrapperEl.querySelector(".js-ref"),this.refMessage=this.wrapperEl.querySelector(".js-ref-message"),this.unavailableButton=this.wrapperEl.querySelector(".unavailable"),this.unavailableButtonSpinner=this.unavailableButton.querySelector(".js-create-mr-spinner"),this.unavailableButtonText=this.unavailableButton.querySelector(".text"),this.branchCreated=!1,this.branchIsValid=!0,this.canCreatePath=this.wrapperEl.dataset.canCreatePath,this.createBranchPath=this.wrapperEl.dataset.createBranchPath,this.createMrPath=this.wrapperEl.dataset.createMrPath,this.droplabInitialized=!1,this.isCreatingBranch=!1,this.isCreatingMergeRequest=!1,this.isGettingRef=!1,this.refCancelToken=null,this.mergeRequestCreated=!1,this.refDebounce=k()((function(e,i){return t.getRef(e,i)}),500),this.refIsValid=!0,this.refsPath=this.wrapperEl.dataset.refsPath,this.suggestedRef=this.refInput.value,this.projectPath=this.wrapperEl.dataset.projectPath,this.projectId=this.wrapperEl.dataset.projectId,this.regexps={branch:{createBranchPath:/(branch_name=)(.+?)(?=&issue)/,createMrPath:/(source_branch%5D=)(.+?)(?=&)/},ref:{createBranchPath:/(ref=)(.+?)$/,createMrPath:/(target_branch%5D=)(.+?)$/}},this.init(),L()&&(this.createMergeRequestButton.dataset.dropdownTrigger="#create-merge-request-dropdown",function(){const e=document.getElementById("js-forked-project");new w.default({el:e,render:t=>t(F,{props:{namespacePath:e.dataset.namespacePath,projectPath:e.dataset.projectPath,newForkPath:e.dataset.newForkPath,helpPagePath:e.dataset.helpPagePath}})})}())}available(){this.availableButton.classList.remove("hidden"),this.unavailableButton.classList.add("hidden")}bindEvents(){this.createMergeRequestButton.addEventListener("click",this.onClickCreateMergeRequestButton.bind(this)),this.createTargetButton.addEventListener("click",this.onClickCreateMergeRequestButton.bind(this)),this.branchInput.addEventListener("input",this.onChangeInput.bind(this)),this.branchInput.addEventListener("keyup",this.onChangeInput.bind(this)),this.dropdownToggle.addEventListener("click",this.onClickSetFocusOnBranchNameInput.bind(this)),this.refInput.addEventListener("input",this.onChangeInput.bind(this)),this.refInput.addEventListener("keyup",this.onChangeInput.bind(this)),this.refInput.addEventListener("click",this.onChangeInput.bind(this)),this.refInput.addEventListener("blur",this.onChangeInput.bind(this)),this.refInput.addEventListener("keydown",B.processTab.bind(this))}checkAbilityToCreateBranch(){var e=this;this.setUnavailableButtonState(),g.a.get(this.canCreatePath).then((function(t){let{data:i}=t;e.setUnavailableButtonState(!1),i.can_create_branch?(e.available(),e.enable(),e.updateBranchName(i.suggested_branch_name),e.droplabInitialized||(e.droplabInitialized=!0,e.initDroplab(),e.bindEvents())):e.hide()})).catch((function(){e.unavailable(),e.disable(),Object(m.default)({message:Object(b.a)("Failed to check related branches.")})}))}createBranch(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.isCreatingBranch=!0,g.a.post($(this.projectPath,this.createBranchPath),{confidential_issue_project_id:P()?this.projectId:null}).then((function(i){let{data:n}=i;e.branchCreated=!0,t&&(window.location.href=n.url)})).catch((function(){return Object(m.default)({message:Object(b.a)("Failed to create a branch for this issue. Please try again.")})}))}createMergeRequest(){var e=this;return this.isCreatingMergeRequest=!0,this.createBranch(!1).then((function(){return T.b.trackRedisHllUserEvent("i_code_review_user_create_mr_from_issue")})).then((function(){let t=P()?e.createMrPath.replace(e.projectPath,C.selectedProject.pathWithNamespace):e.createMrPath;t=Object(h.y)({"merge_request[target_branch]":e.refInput.value,"merge_request[source_branch]":e.branchInput.value},t),window.location.href=t}))}disable(){this.disableCreateAction()}setLoading(e){this.createMergeRequestLoading.classList.toggle("gl-display-none",!e)}disableCreateAction(){this.createMergeRequestButton.classList.add("disabled"),this.createMergeRequestButton.setAttribute("disabled","disabled"),this.createTargetButton.classList.add("disabled"),this.createTargetButton.setAttribute("disabled","disabled")}enable(){L()&&!P()||(this.createMergeRequestButton.classList.remove("disabled"),this.createMergeRequestButton.removeAttribute("disabled"),this.createTargetButton.classList.remove("disabled"),this.createTargetButton.removeAttribute("disabled"))}static findByValue(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!(!e||!e.length)&&(e.indexOf(t)>-1?t:!!i&&e.find((function(e){return new RegExp("^"+t).test(e)})))}getDroplabConfig(){return{addActiveClassToDropdownButton:!0,InputSetter:[{input:this.createMergeRequestButton,valueAttribute:"data-value",inputAttribute:"data-action"},{input:this.createMergeRequestButton,valueAttribute:"data-text"},{input:this.createTargetButton,valueAttribute:"data-value",inputAttribute:"data-action"},{input:this.createTargetButton,valueAttribute:"data-text"}],hideOnClick:!1}}static getInputSelectedText(e){const t=e.selectionStart,i=e.selectionEnd;return e.value.substr(t,i-t)}getRef(e){var t=this;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";return!!e&&(this.refCancelToken=g.a.CancelToken.source(),g.a.get(`${$(this.projectPath,this.refsPath)}${encodeURIComponent(e)}`,{cancelToken:this.refCancelToken.token}).then((function(n){let{data:s}=n;const r=s[Object.keys(s)[0]],a=s[Object.keys(s)[1]];let o;return"branch"===i?o=B.findByValue(r,e):(o=B.findByValue(r,e,!0)||B.findByValue(a,e,!0),t.suggestedRef=o),t.isGettingRef=!1,t.updateInputState(i,e,o)})).catch((function(e){return g.a.isCancel(e)||(t.unavailable(),t.disable(),Object(m.default)({message:Object(b.a)("Failed to get ref.")}),t.isGettingRef=!1),!1})))}getTargetData(e){return{input:this[e+"Input"],message:this[e+"Message"]}}hide(){this.wrapperEl.classList.add("hidden")}init(){this.checkAbilityToCreateBranch()}initDroplab(){this.droplab=new R.a,this.droplab.init(this.dropdownToggle,this.dropdownList,[q],this.getDroplabConfig())}inputsAreValid(){return this.branchIsValid&&this.refIsValid}isBusy(){return this.isCreatingMergeRequest||this.mergeRequestCreated||this.isCreatingBranch||this.branchCreated||this.isGettingRef}onChangeInput(e){let t,i;if(this.disable(),null!==this.refCancelToken&&this.refCancelToken.cancel(),e.target===this.branchInput)t="branch",({value:i}=this.branchInput);else{if(e.target!==this.refInput)return!1;t="ref",i=e.target===document.activeElement?e.target.value.slice(0,e.target.selectionStart)+e.target.value.slice(e.target.selectionEnd):e.target.value}return!this.isGettingRef&&(13===e.keyCode&&this.inputsAreValid()?(e.preventDefault(),this.createMergeRequestButton.click()):i?(this.showCheckingMessage(t),this.refDebounce(i,t),!0):(this.createBranchPath=this.wrapperEl.dataset.createBranchPath,this.createMrPath=this.wrapperEl.dataset.createMrPath,"branch"===t?this.branchIsValid=!0:this.refIsValid=!0,this.enable(),this.showAvailableMessage(t),this.refDebounce(i,t),!0))}onClickCreateMergeRequestButton(e){var t=this;let i=null;e.preventDefault(),!L()||e.target.classList.contains("js-create-target")?this.isBusy()||("create-mr"===e.target.dataset.action?i=this.createMergeRequest():"create-branch"===e.target.dataset.action&&(i=this.createBranch()),i.catch((function(){t.isCreatingMergeRequest=!1,t.isCreatingBranch=!1,t.enable(),t.setLoading(!1)})),this.setLoading(!0),this.disable()):this.droplab.hooks.forEach((function(e){return e.list.toggle()}))}onClickSetFocusOnBranchNameInput(){this.branchInput.focus()}static processTab(e){if(9!==e.keyCode||this.isGettingRef)return;if(!B.getInputSelectedText(this.refInput)||this.refInput.dataset.value===this.suggestedRef)return;e.preventDefault();const t=this.refInput.value.length;this.refInput.setSelectionRange(t,t)}removeMessage(e){const{input:t,message:i}=this.getTargetData(e);["gl-field-error-outline","gl-field-success-outline"].forEach((function(e){return t.classList.remove(e)})),["gl-text-gray-600","gl-text-red-500","gl-text-green-500"].forEach((function(e){return i.classList.remove(e)})),i.style.display="none"}setUnavailableButtonState(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?(this.unavailableButtonSpinner.classList.remove("gl-display-none"),this.unavailableButtonText.textContent=Object(b.a)("Checking branch availability...")):(this.unavailableButtonSpinner.classList.add("gl-display-none"),this.unavailableButtonText.textContent=Object(b.a)("New branch unavailable"))}showAvailableMessage(e){const{input:t,message:i}=this.getTargetData(e),n="branch"===e?Object(b.a)("Branch name"):Object(b.a)("Source");this.removeMessage(e),t.classList.add("gl-field-success-outline"),i.classList.add("gl-text-green-500"),i.textContent=Object(b.h)(Object(b.a)("%{text} is available"),{text:n}),i.style.display="inline-block"}showCheckingMessage(e){const{message:t}=this.getTargetData(e),i="branch"===e?Object(b.a)("branch name"):Object(b.a)("source");this.removeMessage(e),t.classList.add("gl-text-gray-600"),t.textContent=Object(b.h)(Object(b.a)("Checking %{text} availability"),{text:i}),t.style.display="inline-block"}showNotAvailableMessage(e){const{input:t,message:i}=this.getTargetData(e),n="branch"===e?Object(b.a)("Branch is already taken"):Object(b.a)("Source is not available");this.removeMessage(e),t.classList.add("gl-field-error-outline"),i.classList.add("gl-text-red-500"),i.textContent=n,i.style.display="inline-block"}unavailable(){this.availableButton.classList.add("hidden"),this.unavailableButton.classList.remove("hidden")}updateBranchName(e){this.branchInput.value=e,this.updateCreatePaths("branch",e)}updateInputState(e,t,i){t===i?"branch"===e?(this.branchIsValid=!1,this.showNotAvailableMessage("branch")):(this.refIsValid=!0,this.refInput.dataset.value=t,this.showAvailableMessage("ref"),this.updateCreatePaths(e,t)):"branch"===e?(this.branchIsValid=!0,this.showAvailableMessage("branch"),this.updateCreatePaths(e,t)):(this.refIsValid=!1,this.refInput.dataset.value=t,this.disableCreateAction(),this.showNotAvailableMessage("ref"),i&&(this.refInput.value=i,this.refInput.setSelectionRange(t.length,i.length))),this.inputsAreValid()?this.enable():this.disableCreateAction()}updateCreatePaths(e,t){const i="$1"+encodeURIComponent(t);this.createBranchPath=this.createBranchPath.replace(this.regexps[e].createBranchPath,i),this.createMrPath=this.createMrPath.replace(this.regexps[e].createMrPath,i),this.wrapperEl.dataset.createMrPath=this.createMrPath}}class M{constructor(){var e=this;r()(".js-alert-moved-from-service-desk-warning").length&&M.initIssueMovedFromServiceDeskDismissHandler(),document.querySelector("#related-branches")&&M.initRelatedBranches(),M.createMrDropdownWrap=document.querySelector(".create-mr-dropdown-wrap"),M.createMrDropdownWrap&&(this.createMergeRequestDropdown=new B(M.createMrDropdownWrap)),this.issuableVueAppChangeHandler=function(t){return e.updateTopState(t.detail.isClosed,t.detail.data)},document.addEventListener(f.a,this.issuableVueAppChangeHandler)}dispose(){document.removeEventListener(f.a,this.issuableVueAppChangeHandler)}updateTopState(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(b.a)("Unable to update this issue at this time.");if("id"in t){const t=r()(".issuable-status-badge-closed"),i=r()(".issuable-status-badge-open"),n=r()(".issue_counter");t.toggleClass("hidden",!e),i.toggleClass("hidden",e),r()(document).trigger("issuable:change",e);let s=Number(n.first().text().trim().replace(/[^\d]/,""));s=e?s-1:s+1,n.text(Object(v.d)(s)),this.createMergeRequestDropdown&&this.createMergeRequestDropdown.checkAbilityToCreateBranch()}else Object(m.default)({message:i})}static initIssueMovedFromServiceDeskDismissHandler(){const e=r()(".js-alert-moved-from-service-desk-warning"),t=window.location.pathname.slice(1),i=Object(h.x)(t,"alert-issue-moved-from-service-desk-dismissed");localStorage.getItem(i)||e.show(),e.on("click",".js-close",(function(t){t.preventDefault(),t.stopImmediatePropagation(),e.remove(),localStorage.setItem(i,!0)}))}static initRelatedBranches(){const e=r()("#related-branches");g.a.get(e.data("url")).then((function(t){let{data:i}=t;"html"in i&&e.html(i.html)})).catch((function(){return Object(m.default)({message:Object(b.a)("Failed to load related branches")})}))}}var U=i("EfTh"),V=i("voi4"),z=i("ly/8"),W=i("kTwG"),H=i.n(W),G=i("RlQ7"),K=i.n(G),Y=(i("ujLG"),i("HaUQ"),i("5DNK")),Q=i("LcVr"),X=i("9l04"),J=i("BLrG"),Z={components:{GlTooltip:Y.a,GlLink:E.a,GlIcon:S.a,UserAvatarImage:X.a,TimeagoTooltip:Q.a},directives:{GlTooltip:z.a},mixins:[J.a],props:{suggestion:{type:Object,required:!0}},computed:{counts(){return[{id:K()(),icon:"thumb-up",tooltipTitle:Object(b.a)("Upvotes"),count:this.suggestion.upvotes},{id:K()(),icon:"comment",tooltipTitle:Object(b.a)("Comments"),count:this.suggestion.userNotesCount}].filter((function(e){let{count:t}=e;return t}))},isClosed(){return"closed"===this.suggestion.state},stateIconClass(){return this.isClosed?"gl-text-blue-500":"gl-text-green-500"},stateIconName(){return this.isClosed?"issue-close":"issue-open-m"},stateTitle(){return this.isClosed?Object(b.a)("Closed"):Object(b.a)("Opened")},closedOrCreatedDate(){return this.suggestion.closedAt||this.suggestion.createdAt},hasUpdated(){return this.suggestion.updatedAt!==this.suggestion.createdAt}}},ee=Object(x.a)(Z,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"suggestion-item"},[i("div",{staticClass:"d-flex align-items-center"},[e.suggestion.confidential?i("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"gl-cursor-help gl-mr-2 gl-text-orange-500",attrs:{title:e.__("Confidential"),name:"eye-slash"}}):e._e(),e._v(" "),i("gl-link",{staticClass:"suggestion bold str-truncated-100 gl-text-gray-900!",attrs:{href:e.suggestion.webUrl,target:"_blank"}},[e._v("\n      "+e._s(e.suggestion.title)+"\n    ")])],1),e._v(" "),i("div",{staticClass:"text-secondary suggestion-footer"},[i("gl-icon",{ref:"state",staticClass:"gl-cursor-help",class:e.stateIconClass,attrs:{name:e.stateIconName}}),e._v(" "),i("gl-tooltip",{attrs:{target:function(){return e.$refs.state},placement:"bottom"}},[i("span",{staticClass:"d-block"},[i("span",{staticClass:"bold"},[e._v(" "+e._s(e.stateTitle)+" ")]),e._v(" "+e._s(e.timeFormatted(e.closedOrCreatedDate))+"\n      ")]),e._v(" "),i("span",{staticClass:"text-tertiary"},[e._v(e._s(e.tooltipTitle(e.closedOrCreatedDate)))])]),e._v("\n    #"+e._s(e.suggestion.iid)+" \n    "),i("timeago-tooltip",{staticClass:"gl-cursor-help",attrs:{time:e.suggestion.createdAt,"tooltip-placement":"bottom"}}),e._v("\n    "+e._s(e.__("by"))+"\n    "),i("gl-link",{attrs:{href:e.suggestion.author.webUrl}},[i("user-avatar-image",{staticClass:"d-inline-block",attrs:{"img-src":e.suggestion.author.avatarUrl,size:16,"css-classes":"mr-0 float-none","tooltip-placement":"bottom"}},[i("span",{staticClass:"bold d-block"},[e._v(e._s(e.__("Author")))]),e._v(" "+e._s(e.suggestion.author.name)+"\n        "),i("span",{staticClass:"text-tertiary"},[e._v("@"+e._s(e.suggestion.author.username))])])],1),e._v(" "),e.hasUpdated?[e._v("\n       "+e._s(e.__("updated"))+"\n      "),i("timeago-tooltip",{staticClass:"gl-cursor-help",attrs:{time:e.suggestion.updatedAt,"tooltip-placement":"bottom"}})]:e._e(),e._v(" "),i("span",{staticClass:"suggestion-counts"},e._l(e.counts,(function(t){var n=t.count,s=t.icon,r=t.tooltipTitle,a=t.id;return i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],key:a,staticClass:"gl-cursor-help gl-ml-3 text-tertiary",attrs:{title:r}},[i("gl-icon",{attrs:{name:s}}),e._v(" "+e._s(n)+"\n      ")],1)})),0)],2)])}),[],!1,null,null,null).exports,te={components:{GlIcon:S.a,TitleSuggestionsItem:ee},directives:{GlTooltip:z.a},props:{projectPath:{type:String,required:!0},search:{type:String,required:!0}},apollo:{issues:{query:H.a,debounce:1e3,skip(){return this.isSearchEmpty},update:function(e){return e.project.issues.edges.map((function(e){let{node:t}=e;return t}))},variables(){return{fullPath:this.projectPath,search:this.search}}}},data:()=>({issues:[],loading:0}),computed:{isSearchEmpty(){return!this.search.length},showSuggestions(){return!this.isSearchEmpty&&this.issues.length&&!this.loading}},watch:{search(){this.isSearchEmpty&&(this.issues=[])}},helpText:Object(b.a)("These existing issues have a similar title. It might be better to comment there instead of creating another similar issue.")},ie=Object(x.a)(te,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showSuggestions,expression:"showSuggestions"}],staticClass:"form-group"},[e._m(0),e._v(" "),i("ul",{staticClass:"gl-list-style-none gl-m-0 gl-p-0"},e._l(e.issues,(function(t,n){return i("li",{key:t.id,class:{"gl-mb-3":n!==e.issues.length-1}},[i("title-suggestions-item",{attrs:{suggestion:t}})],1)})),0)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"gl-pb-3"},[this._v("\n    "+this._s(this.__("Similar issues"))+"\n    "),t("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"text-secondary gl-cursor-help",attrs:{title:this.$options.helpText,"aria-label":this.$options.helpText,name:"question-o"}})],1)}],!1,null,null,null).exports,ne=i("KFH7"),se={i18n:{issueTypes:Object(b.a)("Issue types"),issue:Object(b.a)("Issue"),incident:Object(b.a)("Incident"),issueHelpText:Object(b.a)("For general work"),incidentHelpText:Object(b.a)("For investigating IT service disruptions or outages")},components:{GlIcon:S.a,GlPopover:ne.a}},re=Object(x.a)(se,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"gl-ml-2",attrs:{id:"popovercontainer"}},[i("gl-icon",{staticClass:"gl-text-blue-600",attrs:{id:"issue-type-info",name:"question-o"}}),e._v(" "),i("gl-popover",{attrs:{target:"issue-type-info",container:"popovercontainer",title:e.$options.i18n.issueTypes,triggers:"focus hover"}},[i("ul",{staticClass:"gl-list-style-none gl-p-0 gl-m-0"},[i("li",{staticClass:"gl-mb-3"},[i("div",{staticClass:"gl-font-weight-bold"},[e._v(e._s(e.$options.i18n.issue))]),e._v(" "),i("span",[e._v(e._s(e.$options.i18n.issueHelpText))])]),e._v(" "),i("li",[i("div",{staticClass:"gl-font-weight-bold"},[e._v(e._s(e.$options.i18n.incident))]),e._v(" "),i("span",[e._v(e._s(e.$options.i18n.incidentHelpText))])])])])],1)}),[],!1,null,null,null).exports;var ae=i("zLBL"),oe=i("CkNe"),le=i("xV1n"),ce=i("r2TH"),de=i("BYh8");let ue;const pe=function(e){try{if(ue)return ue;const t=JSON.parse(e.dataset.initial);return t.initialTitleHtml=Object(de.b)(t.initialTitleHtml),t.initialDescriptionHtml=Object(de.b)(t.initialDescriptionHtml),ue=t,t}catch(e){return ce.a(e),{}}};var he={name:"RelatedMergeRequests",components:{GlIcon:S.a,GlLink:E.a,GlLoadingIcon:ae.a,RelatedIssuableItem:le.a},props:{endpoint:{type:String,required:!0},projectNamespace:{type:String,required:!0},projectPath:{type:String,required:!0}},computed:{...Object(oe.f)(["isFetchingMergeRequests","mergeRequests","totalCount"]),closingMergeRequestsText(){if(!this.hasClosingMergeRequest)return"";const e=Object(b.f)("When this merge request is accepted","When these merge requests are accepted",this.totalCount);return Object(b.h)(Object(b.a)("%{mrText}, this issue will be closed automatically."),{mrText:e})}},mounted(){this.setInitialState({apiEndpoint:this.endpoint}),this.fetchMergeRequests()},created(){this.hasClosingMergeRequest=pe().hasClosingMergeRequest},methods:{...Object(oe.c)(["setInitialState","fetchMergeRequests"]),getAssignees:e=>e.assignees?e.assignees:e.assignee?[e.assignee]:[]}},me=Object(x.a)(he,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isFetchingMergeRequests||!e.isFetchingMergeRequests&&e.totalCount?i("div",[i("div",{staticClass:"card card-slim gl-mt-5 gl-mb-0"},[i("div",{staticClass:"card-header gl-bg-gray-10"},[i("div",{staticClass:"card-title gl-relative gl-display-flex gl-align-items-center gl-line-height-20 gl-font-weight-bold gl-m-0"},[i("gl-link",{staticClass:"anchor gl-absolute gl-text-decoration-none",attrs:{href:"#related-merge-requests","aria-labelledby":"related-merge-requests"}}),e._v(" "),i("h3",{staticClass:"gl-font-base gl-m-0",attrs:{id:"related-merge-requests"}},[e._v("\n          "+e._s(e.__("Related merge requests"))+"\n        ")]),e._v(" "),e.totalCount?[i("gl-icon",{staticClass:"gl-ml-5 gl-mr-2 gl-text-gray-500",attrs:{name:"merge-request"}}),e._v(" "),i("span",{attrs:{"data-testid":"count"}},[e._v(e._s(e.totalCount))])]:e._e()],2)]),e._v(" "),e.isFetchingMergeRequests?i("gl-loading-icon",{staticClass:"gl-py-3",attrs:{size:"sm",label:"Fetching related merge requests"}}):i("ul",{staticClass:"content-list related-items-list"},e._l(e.mergeRequests,(function(t){return i("li",{key:t.id,staticClass:"list-item gl-m-0! gl-p-0!"},[i("related-issuable-item",{attrs:{"id-key":t.id,"display-reference":t.reference,title:t.title,milestone:t.milestone,assignees:e.getAssignees(t),"created-at":t.created_at,"closed-at":t.closed_at,"merged-at":t.merged_at,path:t.web_url,state:t.state,"is-merge-request":!0,"pipeline-status":t.head_pipeline&&t.head_pipeline.detailed_status,"path-id-separator":"!"}})],1)})),0)],1),e._v(" "),e.hasClosingMergeRequest&&!e.isFetchingMergeRequests?i("div",{staticClass:"issue-closed-by-widget second-block gl-mt-3"},[e._v("\n    "+e._s(e.closingMergeRequestsText)+"\n  ")]):e._e()]):e._e()}),[],!1,null,null,null).exports;const fe=function(e,t){let{commit:i}=e;i("SET_INITIAL_STATE",t)},ge=function(e){let{commit:t}=e;return t("REQUEST_DATA")},ve=function(e,t){let{commit:i}=e;return i("RECEIVE_DATA_SUCCESS",t)},be=function(e){let{commit:t}=e;return t("RECEIVE_DATA_ERROR")},ye=function(e){let{state:t,dispatch:i}=e;return i("requestData"),g.a.get(t.apiEndpoint+"?per_page=100").then((function(e){const{headers:t,data:n}=e,s=Number(Object(_.E)(t)["X-TOTAL"])||0;i("receiveDataSuccess",{data:n,total:s})})).catch((function(){i("receiveDataError"),Object(m.default)({message:Object(b.a)("Something went wrong while fetching related merge requests.")})}))};var ke={SET_INITIAL_STATE(e,t){let{apiEndpoint:i}=t;e.apiEndpoint=i},REQUEST_DATA(e){e.isFetchingMergeRequests=!0},RECEIVE_DATA_SUCCESS(e,t){let{data:i,total:n}=t;e.isFetchingMergeRequests=!1,e.mergeRequests=i,e.totalCount=n},RECEIVE_DATA_ERROR(e){e.isFetchingMergeRequests=!1,e.hasErrorFetchingMergeRequests=!0}};w.default.use(oe.b);var we=i("rmDS"),_e=i("lnrH");const Se=["mousedown","touchstart","keydown","wheel"];function Ee(){return new ResizeObserver((function(e){e.forEach((function(e){e.target.dispatchEvent(new CustomEvent("ResizeUpdate",{detail:{entry:e}}))}))}))}i("h8Et"),i("g+EE");var De=i("F+K/"),Te=i("JBkr"),Ce=i("jmNb"),Ie=i.n(Ce),Oe=i("kSYl"),je=i("Z6cG");const xe=Object(b.a)("Join Zoom meeting"),Ae=Object(b.a)("Published on status page"),Ne=[{value:"issue",text:Object(b.a)("Issue"),icon:"issue-type-issue"},{value:"incident",text:Object(b.a)("Incident"),icon:"issue-type-incident"}],Fe={issueType:void 0,isDirty:!1};var Le=i("SYh6"),Pe=Object(Le.a)(),Re=i("Aiz4"),qe=i.n(Re);class $e{constructor(e){this.endpoint=e+".json",this.realtimeEndpoint=e+"/realtime_changes"}getData(){return g.a.get(this.realtimeEndpoint)}deleteIssuable(e){return g.a.delete(this.endpoint,{params:e})}updateIssuable(e){return g.a.put(this.endpoint,e)}loadTemplates(e){return e?g.a.get(e):Promise.resolve([])}}var Be=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,i=t;t.length||(i=[]);const n=document.createElement("div");n.innerHTML=e;const s=n.getElementsByTagName("details");return s.length!==i.length?e:(Array.from(s).forEach((function(e,t){i[t].open&&e.setAttribute("open",!0)})),n.innerHTML)};class Me{constructor(e){this.state=e,this.formState={title:"",description:"",lockedWarningVisible:!1,updateLoading:!1,lock_version:0,issuableTemplates:{}}}updateState(e){this.stateShouldUpdate(e)&&(this.formState.lockedWarningVisible=!0),Object.assign(this.state,Object(_.i)(e));const t=document.body.querySelector(".detail-page-description.content-block"),i=null!=t&&t.getElementsByTagName("details");this.state.descriptionHtml=Be(Object(de.b)(e.description),i),this.state.titleHtml=Object(de.b)(e.title),this.state.lock_version=e.lock_version}stateShouldUpdate(e){return this.state.titleText!==e.title_text||this.state.descriptionText!==e.description_text}setFormState(e){this.formState=Object.assign(this.formState,e)}}i("N8nX"),i("c5nz"),i("OZcL"),i("x5O4"),i("lxnW"),i("5sVn"),i("4xRc"),i("LM9r"),i("51O6"),i("une/"),i("Kypc"),i("yt6R"),i("6v3E"),i("RsOv");var Ue=i("r8JS"),Ve=i("9LGn"),ze=i("qINL"),We=i("d80H"),He=i("+lve"),Ge=i("LkRf"),Ke=i("Zi5e"),Ye=i("lix2"),Qe=i("cd08"),Xe=i("mWeI"),Je=i("DNao"),Ze=i.n(Je),et=i("rj5h"),tt=i.n(et),it=i("ZDMS"),nt=i.n(it),st=i("Zxcm"),rt=i("VqY4"),at=i("XXQe"),ot={methods:{animateChange(){var e=this;this.preAnimation=!0,this.pulseAnimation=!1,setTimeout((function(){e.preAnimation=!1,e.pulseAnimation=!0}))}}};const lt=function(e){const[t,i]=e.split(v.b),[n]=t.split(v.a),[s]=i.split(v.a);return[n-1,s-1]},ct=function(e,t){const i=e.split(v.c),[n]=lt(t.dataset.sourcepos);return function(e){const t=[];return Array.from(e.children).forEach((function(e){const[i,n]=lt(e.dataset.sourcepos);for(let e=i;e<=n;e+=1)t.push(e)})),t}(t).map((function(e){return i[e]})).forEach((function(e,t){i[n+t]=e})),i.join(v.c)};w.default.use(Ue.a);const dt="task";var ut={directives:{SafeHtml:Ve.a,GlModal:ze.a},components:{GlTooltip:Y.a,WorkItemDetailModal:rt.a},mixins:[ot,Object(st.a)(),Xe.a.mixin()],inject:["fullPath"],props:{canUpdate:{type:Boolean,required:!0},descriptionHtml:{type:String,required:!0},descriptionText:{type:String,required:!1,default:""},taskStatus:{type:String,required:!1,default:""},issuableType:{type:String,required:!1,default:p.c.Issue},updateUrl:{type:String,required:!1,default:null},lockVersion:{type:Number,required:!1,default:0},issueId:{type:Number,required:!1,default:null},isUpdating:{type:Boolean,required:!1,default:!1}},data(){const e=Object(h.m)("work_item_id");return{preAnimation:!1,pulseAnimation:!1,initialUpdate:!0,taskButtons:[],activeTask:{},workItemId:Object(Ke.c)(e)?Object(He.c)(Ge.o,e):void 0,workItemTypes:[]}},apollo:{workItem:{query:Ze.a,variables(){return{id:this.workItemId}},skip(){return!this.workItemId||!this.workItemsEnabled}},workItemTypes:{query:tt.a,variables(){return{fullPath:this.fullPath}},update(e){var t,i;return null===(t=e.workspace)||void 0===t||null===(i=t.workItemTypes)||void 0===i?void 0:i.nodes},skip(){return!this.workItemsEnabled}}},computed:{workItemsEnabled(){return this.glFeatures.workItemsCreateFromMarkdown},taskWorkItemType(){var e;return null===(e=this.workItemTypes.find((function(e){return e.name===at.n})))||void 0===e?void 0:e.id},issueGid(){return this.issueId?Object(He.c)(Ge.o,this.issueId):null}},watch:{descriptionHtml(e,t){var i=this;this.initialUpdate||e===t?this.initialUpdate=!1:this.animateChange(),this.$nextTick((function(){i.renderGFM()}))},taskStatus(){this.updateTaskStatusText()}},mounted(){if(this.renderGFM(),this.updateTaskStatusText(),this.workItemId){const e=this.$el.querySelector(`.gfm-issue[data-issue="${Object(He.d)(this.workItemId)}"]`);this.openWorkItemDetailModal(e)}},beforeDestroy(){this.removeAllPointerEventListeners()},methods:{renderGFM(){r()(this.$refs["gfm-content"]).renderGFM(),this.canUpdate&&(new Qe.a({dataType:this.issuableType,fieldName:"description",lockVersion:this.lockVersion,selector:".detail-page-description",onUpdate:this.taskListUpdateStarted.bind(this),onSuccess:this.taskListUpdateSuccess.bind(this),onError:this.taskListUpdateError.bind(this)}),this.removeAllPointerEventListeners(),this.renderSortableLists(),this.workItemsEnabled&&this.renderTaskActions())},renderSortableLists(){var e=this;document.querySelectorAll(".description .md > ul:not(.section-nav), .description .md > ul:not(.section-nav) ul, .description ol").forEach((function(t){t.children.length<=1||(Array.from(t.children).forEach((function(t){t.prepend(e.createDragIconElement()),e.addPointerEventListeners(t,".drag-icon")})),We.default.create(t,Object(Ye.a)({handle:".drag-icon",onUpdate:function(t){const i=ct(e.descriptionText,t.to);e.$emit("listItemReorder",i)}})))}))},createDragIconElement(){const e=document.createElement("div");return e.innerHTML=`<svg class="drag-icon s14 gl-icon gl-cursor-grab gl-visibility-hidden" role="img" aria-hidden="true">\n        <use href="${gon.sprite_icons}#drag-vertical"></use>\n      </svg>`,e.firstChild},addPointerEventListeners(e,t){var i=this;const n=function(e){const n=e.target.closest("li").querySelector(t);!n||Object(Ye.b)()||i.isUpdating||(n.style.visibility="visible")},s=function(e){const i=e.target.closest("li").querySelector(t);i&&(i.style.visibility="hidden")};e.addEventListener("pointerover",n),e.addEventListener("pointerout",s),this.pointerEventListeners=this.pointerEventListeners||new Map;const r=[{type:"pointerover",listener:n},{type:"pointerout",listener:s}];if(this.pointerEventListeners.has(e)){const t=this.pointerEventListeners.get(e).concat(r);this.pointerEventListeners.set(e,t)}else this.pointerEventListeners.set(e,r)},removeAllPointerEventListeners(){var e,t=this;null===(e=this.pointerEventListeners)||void 0===e||e.forEach((function(e,i){e.forEach((function(e){return i.removeEventListener(e.type,e.listener)})),t.pointerEventListeners.delete(i)}))},taskListUpdateStarted(){this.$emit("taskListUpdateStarted")},taskListUpdateSuccess(){this.$emit("taskListUpdateSucceeded")},taskListUpdateError(){Object(m.default)({message:Object(b.h)(Object(b.a)("Someone edited this %{issueType} at the same time you did. The description has been updated and you will need to make your changes again."),{issueType:this.issuableType})}),this.$emit("taskListUpdateFailed")},updateTaskStatusText(){const e=this.taskStatus.match(/(\d+) of ((?!0)\d+)/),t=r()(".issuable-meta"),i=r()("#task_status",t),n=r()("#task_status_short",t);e?(i.text(this.taskStatus),n.text(`${e[1]}/${e[2]} checklist item${e[2]>1?"s":""}`)):(i.text(""),n.text(""))},renderTaskActions(){var e,t=this;if(null===(e=this.$el)||void 0===e||!e.querySelectorAll)return;this.taskButtons=[];this.$el.querySelectorAll(".task-list-item:not(.inapplicable)").forEach((function(e,i){const n=e.querySelector(".gfm-issue");if(n){const{issue:e,referenceType:i,issueType:s}=n.dataset;if(s!==dt)return;const r=Object(He.c)(Ge.o,e);return t.addHoverListeners(n,r),n.classList.add("gl-link"),void n.addEventListener("click",(function(s){Object(_.C)(s)||(s.preventDefault(),t.openWorkItemDetailModal(n),t.workItemId=r,t.updateWorkItemIdUrlQuery(e),t.track("viewed_work_item_from_modal",{category:at.o,label:"work_item_view",property:"type_"+i}))}))}t.addPointerEventListeners(e,".js-add-task");const s=document.createElement("button");s.classList.add("btn","btn-default","btn-md","gl-button","btn-default-tertiary","gl-visibility-hidden","gl-p-0!","gl-mt-n1","gl-ml-3","js-add-task"),s.id="js-task-button-"+i,t.taskButtons.push(s.id),s.innerHTML=`\n          <svg data-testid="ellipsis_v-icon" role="img" aria-hidden="true" class="dropdown-icon gl-icon s14">\n            <use href="${gon.sprite_icons}#doc-new"></use>\n          </svg>\n        `,s.setAttribute("aria-label",Object(b.g)("WorkItem|Create task")),s.addEventListener("click",(function(){return t.handleCreateTask(s)})),t.insertButtonNextToTaskText(e,s)}))},addHoverListeners(e,t){var i=this;let n;e.addEventListener("mouseover",(function(){n=setTimeout((function(){i.workItemId=t}),150)})),e.addEventListener("mouseout",(function(){n&&clearTimeout(n)}))},insertButtonNextToTaskText(e,t){const i=Array.from(e.children).find((function(e){return"P"===e.tagName})),n=e.lastElementChild;i?i.append(t):"OL"===n.tagName||"UL"===n.tagName?n.insertAdjacentElement("beforebegin",t):e.append(t)},setActiveTask(e){const{parentElement:t}=e,i=t.dataset.sourcepos.match(/\b\d+(?=:)/g);this.activeTask={title:t.innerText,lineNumberStart:i[0],lineNumberEnd:i[1]}},openWorkItemDetailModal(e){e&&(this.setActiveTask(e),this.$refs.detailsModal.show())},closeWorkItemDetailModal(){this.workItemId=void 0,this.updateWorkItemIdUrlQuery(void 0)},async handleCreateTask(e){this.setActiveTask(e);try{var t,i;const{data:n}=await this.$apollo.mutate({mutation:nt.a,variables:{input:{id:this.issueGid,workItemData:{lockVersion:this.lockVersion,title:this.activeTask.title,lineNumberStart:Number(this.activeTask.lineNumberStart),lineNumberEnd:Number(this.activeTask.lineNumberEnd),workItemTypeId:this.taskWorkItemType}}},update(e,t){let{data:{workItemCreateFromTask:i}}=t;const{newWorkItem:n}=i;e.writeQuery({query:Ze.a,variables:{id:n.id},data:{workItem:n}})}}),{workItem:s,newWorkItem:r}=n.workItemCreateFromTask,a=null==s||null===(t=s.widgets)||void 0===t||null===(i=t.find((function(e){return e.type===at.r})))||void 0===i?void 0:i.descriptionHtml;this.$emit("updateDescription",a),this.workItemId=r.id,this.openWorkItemDetailModal(e)}catch(e){Object(m.default)({message:Object(at.G)(at.f,dt),error:e,captureError:!0})}},handleDeleteTask(e){this.$emit("updateDescription",e),this.$toast.show(Object(b.g)("WorkItem|Task deleted"))},updateWorkItemIdUrlQuery(e){Object(h.L)({url:Object(h.K)({work_item_id:e}),replace:!0})}},safeHtmlConfig:{ADD_TAGS:["gl-emoji","copy-code"]}},pt=Object(x.a)(ut,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.descriptionHtml?i("div",{staticClass:"description",class:{"js-task-list-container":e.canUpdate,"work-items-enabled":e.workItemsEnabled}},[i("div",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.descriptionHtml,expression:"descriptionHtml",arg:e.$options.safeHtmlConfig}],ref:"gfm-content",staticClass:"md",class:{"issue-realtime-pre-pulse":e.preAnimation,"issue-realtime-trigger-pulse":e.pulseAnimation},attrs:{"data-testid":"gfm-content"}}),e._v(" "),e.descriptionText?i("textarea",{staticClass:"hidden js-task-list-field",attrs:{"data-update-url":e.updateUrl,dir:"auto","data-testid":"textarea"},domProps:{value:e.descriptionText}}):e._e(),e._v(" "),i("work-item-detail-modal",{ref:"detailsModal",attrs:{"can-update":e.canUpdate,"work-item-id":e.workItemId,"issue-gid":e.issueGid,"lock-version":e.lockVersion,"line-number-start":e.activeTask.lineNumberStart,"line-number-end":e.activeTask.lineNumberEnd},on:{workItemDeleted:e.handleDeleteTask,close:e.closeWorkItemDetailModal}}),e._v(" "),e.workItemsEnabled?e._l(e.taskButtons,(function(t){return i("gl-tooltip",{key:t,attrs:{target:t}},[e._v("\n      "+e._s(e.s__("WorkItem|Create task"))+"\n    ")])})):e._e()],2):e._e()}),[],!1,null,null,null).exports,ht=i("A20k"),mt=i("Q04j"),ft=i("rh11"),gt=i("cuRJ"),vt={methods:{updateIssuable(){Pe.$emit("update.issuable")}}};const bt={issue:Object(b.a)("Issue"),epic:Object(b.a)("Epic"),incident:Object(b.a)("Incident")},yt=Xe.a.mixin({label:"delete_issue"});var kt={components:{GlButton:gt.a},mixins:[yt,vt],props:{endpoint:{required:!0,type:String},formState:{type:Object,required:!0},issuableType:{type:String,required:!0}},data:()=>({deleteLoading:!1,skipApollo:!1,issueState:{}}),apollo:{issueState:{query:qe.a,skip(){return this.skipApollo},result(){this.skipApollo=!0}}},computed:{isSubmitEnabled(){return""!==this.formState.title.trim()},typeToShow(){var e;const{issueState:t,issuableType:i}=this,n=null!==(e=t.issueType)&&void 0!==e?e:i;return bt[n]}},methods:{closeForm(){Pe.$emit("close.form")}}},wt=Object(x.a)(kt,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-mt-3 gl-mb-3 gl-display-flex"},[i("gl-button",{staticClass:"gl-mr-3",attrs:{loading:e.formState.updateLoading,disabled:e.formState.updateLoading||!e.isSubmitEnabled,category:"primary",variant:"confirm","data-testid":"issuable-save-button",type:"submit"},on:{click:function(t){return t.preventDefault(),e.updateIssuable.apply(null,arguments)}}},[e._v("\n    "+e._s(e.__("Save changes"))+"\n  ")]),e._v(" "),i("gl-button",{attrs:{"data-testid":"issuable-cancel-button"},on:{click:e.closeForm}},[e._v("\n    "+e._s(e.__("Cancel"))+"\n  ")])],1)}),[],!1,null,null,null).exports,_t=i("WW8A"),St=i("mcoW"),Et=i("rEAH"),Dt={components:{MarkdownField:_t.a,MarkdownEditor:Et.a},mixins:[vt,Object(st.a)()],props:{value:{type:String,required:!0},markdownPreviewPath:{type:String,required:!0},markdownDocsPath:{type:String,required:!0},canAttachFile:{type:Boolean,required:!1,default:!0},enableAutocomplete:{type:Boolean,required:!1,default:!0}},computed:{quickActionsDocsPath:()=>Object(St.a)("user/project/quick_actions")},mounted(){this.focus()},methods:{focus(){var e;null===(e=this.$refs.textarea)||void 0===e||e.focus()}}},Tt=Object(x.a)(Dt,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"common-note-form"},[i("label",{staticClass:"sr-only",attrs:{for:"issue-description"}},[e._v(e._s(e.__("Description")))]),e._v(" "),e.glFeatures.contentEditorOnIssues?i("markdown-editor",{staticClass:"gl-mt-3",attrs:{value:e.value,"render-markdown-path":e.markdownPreviewPath,"markdown-docs-path":e.markdownDocsPath,"form-field-aria-label":e.__("Description"),"form-field-placeholder":e.__("Write a comment or drag your files here"),"form-field-id":"issue-description","form-field-name":"issue-description","quick-actions-docs-path":e.quickActionsDocsPath,"enable-autocomplete":e.enableAutocomplete,"supports-quick-actions":"",autofocus:""},on:{input:function(t){return e.$emit("input",t)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.updateIssuable.apply(null,arguments):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.updateIssuable.apply(null,arguments):null}]}}):i("markdown-field",{attrs:{"markdown-preview-path":e.markdownPreviewPath,"markdown-docs-path":e.markdownDocsPath,"quick-actions-docs-path":e.quickActionsDocsPath,"can-attach-file":e.canAttachFile,"enable-autocomplete":e.enableAutocomplete,"textarea-value":e.value},scopedSlots:e._u([{key:"textarea",fn:function(){return[i("textarea",{ref:"textarea",staticClass:"note-textarea js-gfm-input js-autosize markdown-area",attrs:{id:"issue-description","data-qa-selector":"description_field",dir:"auto","data-supports-quick-actions":"true","aria-label":e.__("Description"),placeholder:e.__("Write a comment or drag your files here")},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.updateIssuable.apply(null,arguments):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.updateIssuable.apply(null,arguments):null}]}})]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,Ct={components:{GlIcon:S.a},props:{value:{type:String,required:!0},issuableTemplates:{type:[Object,Array],required:!1,default:function(){return{}}},projectPath:{type:String,required:!0},projectId:{type:Number,required:!0},projectNamespace:{type:String,required:!0}},computed:{issuableTemplatesJson(){return JSON.stringify(this.issuableTemplates)}},mounted(){var e=this;const t=document.querySelector(".detail-page-description .note-textarea")||{};t.setValue=function(t){e.$emit("input",t)},t.getValue=function(){return e.value},this.issuableTemplate=new u.a({$dropdowns:r()(this.$refs.toggle),editor:t})}},It=Object(x.a)(Ct,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown js-issuable-selector-wrap gl-mb-0",attrs:{"data-issuable-type":"issues"}},[i("button",{ref:"toggle",staticClass:"dropdown-menu-toggle js-issuable-selector gl-button",attrs:{"data-namespace-path":e.projectNamespace,"data-project-path":e.projectPath,"data-project-id":e.projectId,"data-data":e.issuableTemplatesJson,type:"button","data-field-name":"issuable_template","data-selected":"null","data-toggle":"dropdown"}},[i("span",{staticClass:"dropdown-toggle-text"},[e._v(e._s(e.__("Choose a template")))]),e._v(" "),i("gl-icon",{staticClass:"gl-absolute gl-top-3 gl-right-3 gl-text-gray-500 dropdown-menu-toggle-icon",attrs:{name:"chevron-down"}})],1),e._v(" "),i("div",{staticClass:"dropdown-menu dropdown-select"},[i("div",{staticClass:"dropdown-title gl-display-flex gl-justify-content-center"},[i("span",{staticClass:"gl-ml-auto"},[e._v(e._s(e.__("Choose a template")))]),e._v(" "),i("button",{staticClass:"dropdown-title-button dropdown-menu-close gl-ml-auto",attrs:{"aria-label":e.__("Close"),type:"button"}},[i("gl-icon",{staticClass:"dropdown-menu-close-icon",attrs:{name:"close"}})],1)]),e._v(" "),i("div",{staticClass:"dropdown-input"},[i("input",{staticClass:"dropdown-input-field",attrs:{type:"search",placeholder:e.__("Filter"),autocomplete:"off"}}),e._v(" "),i("gl-icon",{staticClass:"dropdown-input-search",attrs:{name:"search"}}),e._v(" "),i("gl-icon",{staticClass:"dropdown-input-clear js-dropdown-input-clear",attrs:{name:"close","aria-label":e.__("Clear templates search input")}})],1),e._v(" "),i("div",{staticClass:"dropdown-content"}),e._v(" "),i("div",{staticClass:"dropdown-footer"},[i("ul",{staticClass:"dropdown-footer-list"},[i("li",[i("a",{staticClass:"no-template"},[e._v(e._s(e.__("No template")))])]),e._v(" "),i("li",[i("a",{staticClass:"reset-template"},[e._v(e._s(e.__("Reset template")))])])])])])])}),[],!1,null,null,null).exports,Ot={mixins:[vt],props:{value:{type:String,required:!0}}},jt=Object(x.a)(Ot,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("fieldset",[i("label",{staticClass:"sr-only",attrs:{for:"issuable-title"}},[e._v(e._s(e.__("Title")))]),e._v(" "),i("input",{ref:"input",staticClass:"form-control gl-border-gray-200",attrs:{id:"issuable-title",dir:"auto",type:"text",placeholder:e.__("Title"),"aria-label":e.__("Title")},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.updateIssuable.apply(null,arguments):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.updateIssuable.apply(null,arguments):null}]}})])}),[],!1,null,null,null).exports,xt=i("G7sT"),At=i.n(xt),Nt=i("tXCq"),Ft=i("0wJS"),Lt=i.n(Ft);var Pt={i18n:{label:Object(b.a)("Issue Type")},issuableTypes:Ne,components:{GlFormGroup:Nt.a,GlIcon:S.a,GlDropdown:I.a,GlDropdownItem:O.a},inject:{canCreateIncident:{default:!1},issueType:{default:"issue"}},data:()=>({issueState:{}}),apollo:{issueState:{query:qe.a}},computed:{dropdownText(){var e;const{issueState:{issueType:t}}=this;return(null===(e=Ne.find((function(e){return e.value===t})))||void 0===e?void 0:e.text)||At()(t)},shouldShowIncident(){return"incident"===this.issueType||this.canCreateIncident}},methods:{updateIssueType(e){this.$apollo.mutate({mutation:Lt.a,variables:{issueType:e,isDirty:!0}})},isShown(e){return"incident"!==e.value||this.shouldShowIncident}}},Rt=Object(x.a)(Pt,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-form-group",{staticClass:"mb-2 mb-md-0",attrs:{label:e.$options.i18n.label,"label-class":"sr-only","label-for":"issuable-type"}},[i("gl-dropdown",{staticClass:"gl-w-full",attrs:{id:"issuable-type","aria-labelledby":e.$options.i18n.label,text:e.dropdownText,"header-text":e.$options.i18n.label,"toggle-class":"dropdown-menu-toggle"}},e._l(e.$options.issuableTypes,(function(t){return i("gl-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:e.isShown(t),expression:"isShown(type)"}],key:t.value,attrs:{"is-checked":e.issueState.issueType===t.value,"is-check-item":""},on:{click:function(i){return e.updateIssueType(t.value)}}},[i("gl-icon",{attrs:{name:t.icon}}),e._v("\n      "+e._s(t.text)+"\n    ")],1)})),1)],1)}),[],!1,null,null,null).exports;var qt={alertMessage:Object(b.a)("Someone edited the issue at the same time you did. Please check out %{linkStart}the issue%{linkEnd} and make sure your changes will not unintentionally remove theirs."),components:{GlSprintf:D.a,GlLink:E.a,GlAlert:mt.a},computed:{currentPath:()=>window.location.pathname}},$t=Object(x.a)(qt,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-alert",{staticClass:"gl-mb-5",attrs:{variant:"danger",dismissible:!1}},[i("gl-sprintf",{attrs:{message:e.$options.alertMessage},scopedSlots:e._u([{key:"link",fn:function(t){var n=t.content;return[i("gl-link",{attrs:{href:e.currentPath,target:"_blank",rel:"nofollow"}},[e._v("\n        "+e._s(n)+"\n      ")])]}}])})],1)}),[],!1,null,null,null).exports,Bt={components:{DescriptionField:Tt,DescriptionTemplateField:It,EditActions:wt,GlAlert:mt.a,IssuableTitleField:jt,IssuableTypeField:Rt,LockedWarning:$t},props:{endpoint:{type:String,required:!0},formState:{type:Object,required:!0},issuableTemplates:{type:[Object,Array],required:!1,default:function(){return[]}},issuableType:{type:String,required:!0},markdownPreviewPath:{type:String,required:!0},markdownDocsPath:{type:String,required:!0},projectPath:{type:String,required:!0},projectId:{type:Number,required:!0},projectNamespace:{type:String,required:!0},canAttachFile:{type:Boolean,required:!1,default:!0},enableAutocomplete:{type:Boolean,required:!1,default:!0},initialDescriptionText:{type:String,required:!1,default:""}},data(){const e=[document.location.pathname,document.location.search],t=[...e,"description"],i=[...e,"title"];return{titleAutosaveKey:i,descriptionAutosaveKey:t,autosaveReset:!1,formData:{title:Object(ft.c)(i)||this.formState.title,description:Object(ft.c)(t)||this.formState.description},showOutdatedDescriptionWarning:!1}},computed:{hasIssuableTemplates(){return Object.values(Object(this.issuableTemplates)).length},showLockedWarning(){return this.formState.lockedWarningVisible&&!this.formState.updateLoading},isIssueType(){return this.issuableType===p.c.Issue}},watch:{formData:{handler(e){this.$emit("updateForm",e)},deep:!0}},created(){Pe.$on("delete.issuable",this.resetAutosave),Pe.$on("update.issuable",this.resetAutosave),Pe.$on("close.form",this.resetAutosave)},mounted(){this.initAutosave()},beforeDestroy(){Pe.$off("delete.issuable",this.resetAutosave),Pe.$off("update.issuable",this.resetAutosave),Pe.$off("close.form",this.resetAutosave)},methods:{initAutosave(){const e=Object(ft.d)(this.descriptionAutosaveKey);this.showOutdatedDescriptionWarning=e&&String(this.formState.lock_version)!==e},resetAutosave(){this.autosaveReset=!0,Object(ft.a)(this.descriptionAutosaveKey),Object(ft.a)(this.titleAutosaveKey)},keepAutosave(){this.$refs.description.focus(),this.showOutdatedDescriptionWarning=!1},discardAutosave(){this.formData.description=this.initialDescriptionText,Object(ft.a)(this.descriptionAutosaveKey),this.$refs.description.focus(),this.showOutdatedDescriptionWarning=!1},updateTitleDraft(e){Object(ft.e)(this.titleAutosaveKey,e)},updateDescriptionDraft(e){this.autosaveReset||Object(ft.e)(this.descriptionAutosaveKey,e,this.formState.lock_version)}}},Mt=Object(x.a)(Bt,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{attrs:{"data-testid":"issuable-form"}},[e.showLockedWarning?i("locked-warning"):e._e(),e._v(" "),e.showOutdatedDescriptionWarning?i("gl-alert",{staticClass:"gl-mb-5",attrs:{variant:"warning","primary-button-text":e.__("Keep"),"secondary-button-text":e.__("Discard"),dismissible:!1},on:{primaryAction:e.keepAutosave,secondaryAction:e.discardAutosave}},[e._v(e._s(e.__("The comment you are editing has been changed by another user. Would you like to keep your changes and overwrite the new description or discard your changes?")))]):e._e(),e._v(" "),i("div",{staticClass:"row gl-mb-3"},[i("div",{staticClass:"col-12"},[i("issuable-title-field",{ref:"title",on:{input:e.updateTitleDraft},model:{value:e.formData.title,callback:function(t){e.$set(e.formData,"title",t)},expression:"formData.title"}})],1)]),e._v(" "),i("div",{staticClass:"row"},[e.isIssueType?i("div",{staticClass:"col-12 col-md-4 pr-md-0"},[i("issuable-type-field",{ref:"issue-type"})],1):e._e(),e._v(" "),e.hasIssuableTemplates?i("div",{staticClass:"col-12 col-md-4 pl-md-2"},[i("description-template-field",{attrs:{"issuable-templates":e.issuableTemplates,"project-path":e.projectPath,"project-id":e.projectId,"project-namespace":e.projectNamespace},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1):e._e()]),e._v(" "),i("description-field",{ref:"description",attrs:{"markdown-preview-path":e.markdownPreviewPath,"markdown-docs-path":e.markdownDocsPath,"can-attach-file":e.canAttachFile,"enable-autocomplete":e.enableAutocomplete},on:{input:e.updateDescriptionDraft},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}}),e._v(" "),i("edit-actions",{attrs:{endpoint:e.endpoint,"form-state":e.formState,"issuable-type":e.issuableType}})],1)}),[],!1,null,null,null).exports,Ut={components:{GlButton:gt.a},props:{zoomMeetingUrl:{type:String,required:!1,default:""},publishedIncidentUrl:{type:String,required:!1,default:""}},computed:{pinnedLinks(){const e=[];return this.publishedIncidentUrl&&e.push({id:"publishedIncidentUrl",url:this.publishedIncidentUrl,text:Ae,icon:"tanuki"}),this.zoomMeetingUrl&&e.push({id:"zoomMeetingUrl",url:this.zoomMeetingUrl,text:xe,icon:"brand-zoom"}),e}},methods:{needsPaddingClass(e){return e<this.pinnedLinks.length-1}}},Vt=Object(x.a)(Ut,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.pinnedLinks&&e.pinnedLinks.length?i("div",{staticClass:"gl-display-flex gl-justify-content-start"},[e._l(e.pinnedLinks,(function(t,n){return[t.url?i("div",{key:t.id,class:{"gl-pr-3":e.needsPaddingClass(n)}},[i("gl-button",{staticClass:"gl-font-weight-bold gl-mb-5",attrs:{href:t.url,target:"_blank",icon:t.icon,size:"small","data-testid":t.id}},[e._v(e._s(t.text))])],1):e._e()]}))],2):e._e()}),[],!1,null,null,null).exports,zt={i18n:{editTitleAndDescription:Object(b.a)("Edit title and description")},components:{GlButton:gt.a},directives:{GlTooltip:z.a,SafeHtml:Ve.a},mixins:[ot],props:{issuableRef:{type:[String,Number],required:!0},canUpdate:{required:!1,type:Boolean,default:!1},titleHtml:{type:String,required:!0},titleText:{type:String,required:!0},showInlineEditButton:{type:Boolean,required:!1,default:!1}},data:()=>({preAnimation:!1,pulseAnimation:!1,titleEl:document.querySelector("title")}),watch:{titleHtml(){this.setPageTitle(),this.animateChange()}},methods:{setPageTitle(){const e=this.titleEl.innerText.split("");e[0]=`${this.titleText} (${this.issuableRef}) `,this.titleEl.textContent=e.join("")},edit(){Pe.$emit("open.form")}}},Wt=Object(x.a)(zt,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title-container"},[i("h1",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.titleHtml,expression:"titleHtml"}],staticClass:"title gl-font-size-h-display",class:{"issue-realtime-pre-pulse":e.preAnimation,"issue-realtime-trigger-pulse":e.pulseAnimation},attrs:{"data-qa-selector":"title_content",dir:"auto"}}),e._v(" "),e.showInlineEditButton&&e.canUpdate?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"btn-edit js-issuable-edit",attrs:{icon:"pencil",title:e.$options.i18n.editTitleAndDescription,"aria-label":e.$options.i18n.editTitleAndDescription},on:{click:e.edit}}):e._e()],1)}),[],!1,null,null,null).exports,Ht={WorkspaceType:p.e,components:{GlIcon:S.a,GlBadge:De.a,GlIntersectionObserver:Te.a,TitleComponent:Wt,EditedComponent:ht.a,FormComponent:Mt,PinnedLinks:Vt,ConfidentialityBadge:je.a},directives:{GlTooltip:z.a},props:{endpoint:{required:!0,type:String},updateEndpoint:{required:!0,type:String},canUpdate:{required:!0,type:Boolean},showInlineEditButton:{type:Boolean,required:!1,default:!0},enableAutocomplete:{type:Boolean,required:!1,default:!0},zoomMeetingUrl:{type:String,required:!1,default:""},publishedIncidentUrl:{type:String,required:!1,default:""},issuableRef:{type:String,required:!0},issuableStatus:{type:String,required:!1,default:""},initialTitleHtml:{type:String,required:!0},initialTitleText:{type:String,required:!0},initialDescriptionHtml:{type:String,required:!1,default:""},initialDescriptionText:{type:String,required:!1,default:""},initialTaskStatus:{type:String,required:!1,default:""},updatedAt:{type:String,required:!1,default:""},updatedByName:{type:String,required:!1,default:""},updatedByPath:{type:String,required:!1,default:""},issuableTemplateNamesPath:{type:String,required:!1,default:""},markdownPreviewPath:{type:String,required:!0},markdownDocsPath:{type:String,required:!0},projectPath:{type:String,required:!0},projectId:{type:Number,required:!0},projectNamespace:{type:String,required:!0},isConfidential:{type:Boolean,required:!1,default:!1},isLocked:{type:Boolean,required:!1,default:!1},issuableType:{type:String,required:!1,default:p.c.Issue},canAttachFile:{type:Boolean,required:!1,default:!0},lockVersion:{type:Number,required:!1,default:0},descriptionComponent:{type:Object,required:!1,default:function(){return pt}},showTitleBorder:{type:Boolean,required:!1,default:!0},isHidden:{type:Boolean,required:!1,default:!1},issueId:{type:Number,required:!1,default:null}},data(){const e=new Me({titleHtml:this.initialTitleHtml,titleText:this.initialTitleText,descriptionHtml:this.initialDescriptionHtml,descriptionText:this.initialDescriptionText,updatedAt:this.updatedAt,updatedByName:this.updatedByName,updatedByPath:this.updatedByPath,taskStatus:this.initialTaskStatus,lock_version:this.lockVersion});return{store:e,state:e.state,showForm:!1,templatesRequested:!1,isStickyHeaderShowing:!1,issueState:{}}},apollo:{issueState:{query:qe.a}},computed:{issuableTemplates(){return this.store.formState.issuableTemplates},formState(){return this.store.formState},hasUpdated(){return Boolean(this.state.updatedAt)},issueChanged(){const{store:{formState:{description:e,title:t}},initialDescriptionText:i,initialTitleText:n}=this;return i||e?i!==e:!(!n&&!t)&&n!==t},defaultErrorMessage(){return Object(b.h)(Object(b.a)("Error updating %{issuableType}"),{issuableType:this.issuableType})},isClosed(){return this.issuableStatus===p.a.Closed},pinnedLinkClasses(){return this.showTitleBorder?"gl-border-b-1 gl-border-b-gray-100 gl-border-b-solid gl-mb-6":""},statusIcon(){return this.issuableType===p.c.Issue?this.isClosed?"issue-closed":"issues":this.isClosed?"epic-closed":"epic"},statusVariant(){return this.isClosed?"info":"success"},statusText(){return p.b[this.issuableStatus]},shouldShowStickyHeader(){return[p.c.Issue,p.c.Epic].includes(this.issuableType)}},created(){var e=this;this.flashContainer=null,this.service=new $e(this.endpoint),this.poll=new Oe.a({resource:this.service,method:"getData",successCallback:function(t){return e.store.updateState(t.data)},errorCallback(e){throw new Error(e)}}),Ie.a.hidden()||this.poll.makeDelayedRequest(2e3),Ie.a.change((function(){Ie.a.hidden()?e.poll.stop():e.poll.restart()})),window.addEventListener("beforeunload",this.handleBeforeUnloadEvent),Pe.$on("update.issuable",this.updateIssuable),Pe.$on("close.form",this.closeForm),Pe.$on("open.form",this.openForm)},beforeDestroy(){Pe.$off("update.issuable",this.updateIssuable),Pe.$off("close.form",this.closeForm),Pe.$off("open.form",this.openForm),window.removeEventListener("beforeunload",this.handleBeforeUnloadEvent)},methods:{handleBeforeUnloadEvent(e){const t=e;this.showForm&&this.issueChanged&&!this.issueState.isDirty&&(t.returnValue=Object(b.a)("Are you sure you want to lose your issue information?"))},updateStoreState(){var e=this;return this.service.getData().then((function(e){return e.data})).then((function(t){e.store.updateState(t)})).catch((function(){Object(m.default)({message:e.defaultErrorMessage})}))},setFormState(e){this.store.setFormState(e)},updateFormState(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setFormState({title:this.state.titleText,description:this.state.descriptionText,lock_version:this.state.lock_version,lockedWarningVisible:!1,updateLoading:!1,issuableTemplates:e})},updateAndShowForm(e){this.showForm||(this.updateFormState(e),this.showForm=!0)},requestTemplatesAndShowForm(){var e=this;return this.service.loadTemplates(this.issuableTemplateNamesPath).then((function(t){e.updateAndShowForm(t.data)})).catch((function(){Object(m.default)({message:e.defaultErrorMessage}),e.updateAndShowForm()}))},openForm(){this.templatesRequested?this.updateAndShowForm(this.issuableTemplates):(this.templatesRequested=!0,this.requestTemplatesAndShowForm())},closeForm(){this.showForm=!1},updateIssuable(){var e=this;this.setFormState({updateLoading:!0});const{store:{formState:t},issueState:i}=this,n=i.isDirty?{...t,issue_type:i.issueType}:t;return this.clearFlash(),this.service.updateIssuable(n).then((function(e){return e.data})).then((function(e){if(window.location.pathname.includes(e.web_url)||"incident"===i.issueType||Object(h.O)(e.web_url),i.isDirty){const t="incident"===i.issueType?e.web_url.replace("issues","issues/incident"):e.web_url;Object(h.O)(t)}})).then(this.updateStoreState).then((function(){Pe.$emit("close.form")})).catch((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{message:i,response:n={}}=t;let s=e.defaultErrorMessage;n.data&&n.data.errors?s+=". "+n.data.errors.join(" "):i&&(s+=". "+i),e.flashContainer=Object(m.default)({message:s})})).finally((function(){e.setFormState({updateLoading:!1})}))},hideStickyHeader(){this.isStickyHeaderShowing=!1},showStickyHeader(){this.isStickyHeaderShowing=!0},clearFlash(){this.flashContainer&&(this.flashContainer.close(),this.flashContainer=null)},handleListItemReorder(e){this.updateFormState(),this.setFormState({description:e}),this.updateIssuable()},taskListUpdateStarted(){this.poll.stop()},taskListUpdateSucceeded(){this.poll.enable(),this.poll.makeDelayedRequest(2e3)},taskListUpdateFailed(){this.poll.enable(),this.poll.makeDelayedRequest(2e3),this.updateStoreState()}}},Gt=Object(x.a)(Ht,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.canUpdate&&e.showForm?i("div",[i("form-component",{attrs:{endpoint:e.endpoint,"form-state":e.formState,"initial-description-text":e.initialDescriptionText,"issuable-templates":e.issuableTemplates,"markdown-docs-path":e.markdownDocsPath,"markdown-preview-path":e.markdownPreviewPath,"project-path":e.projectPath,"project-id":e.projectId,"project-namespace":e.projectNamespace,"can-attach-file":e.canAttachFile,"enable-autocomplete":e.enableAutocomplete,"issuable-type":e.issuableType},on:{updateForm:e.setFormState}})],1):i("div",[i("title-component",{attrs:{"issuable-ref":e.issuableRef,"can-update":e.canUpdate,"title-html":e.state.titleHtml,"title-text":e.state.titleText,"show-inline-edit-button":e.showInlineEditButton}}),e._v(" "),e.shouldShowStickyHeader?i("gl-intersection-observer",{on:{appear:e.hideStickyHeader,disappear:e.showStickyHeader}},[i("transition",{attrs:{name:"issuable-header-slide"}},[e.isStickyHeaderShowing?i("div",{staticClass:"issue-sticky-header gl-fixed gl-z-index-3 gl-bg-white gl-border-1 gl-border-b-solid gl-border-b-gray-100 gl-py-3",attrs:{"data-testid":"issue-sticky-header"}},[i("div",{staticClass:"issue-sticky-header-text gl-display-flex gl-align-items-center gl-mx-auto gl-px-5"},[i("gl-badge",{staticClass:"gl-mr-2",attrs:{variant:e.statusVariant}},[i("gl-icon",{attrs:{name:e.statusIcon}}),e._v(" "),i("span",{staticClass:"gl-display-none gl-sm-display-block gl-ml-2"},[e._v(e._s(e.statusText))])],1),e._v(" "),e.isLocked?i("span",{staticClass:"issuable-warning-icon",attrs:{"data-testid":"locked"}},[i("gl-icon",{attrs:{name:"lock","aria-label":e.__("Locked")}})],1):e._e(),e._v(" "),e.isConfidential?i("confidentiality-badge",{attrs:{"data-testid":"confidential","workspace-type":e.$options.WorkspaceType.project,"issuable-type":e.issuableType}}):e._e(),e._v(" "),e.isHidden?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"issuable-warning-icon",attrs:{title:e.__("This issue is hidden because its author has been banned"),"data-testid":"hidden"}},[i("gl-icon",{attrs:{name:"spam"}})],1):e._e(),e._v(" "),i("p",{staticClass:"gl-font-weight-bold gl-overflow-hidden gl-white-space-nowrap gl-text-overflow-ellipsis gl-my-0",attrs:{title:e.state.titleText}},[e._v("\n              "+e._s(e.state.titleText)+"\n            ")])],1)]):e._e()])],1):e._e(),e._v(" "),i("pinned-links",{class:e.pinnedLinkClasses,attrs:{"zoom-meeting-url":e.zoomMeetingUrl,"published-incident-url":e.publishedIncidentUrl}}),e._v(" "),i(e.descriptionComponent,{tag:"component",attrs:{"issue-id":e.issueId,"can-update":e.canUpdate,"description-html":e.state.descriptionHtml,"description-text":e.state.descriptionText,"updated-at":e.state.updatedAt,"task-status":e.state.taskStatus,"issuable-type":e.issuableType,"update-url":e.updateEndpoint,"lock-version":e.state.lock_version,"is-updating":e.formState.updateLoading},on:{listItemReorder:e.handleListItemReorder,taskListUpdateStarted:e.taskListUpdateStarted,taskListUpdateSucceeded:e.taskListUpdateSucceeded,taskListUpdateFailed:e.taskListUpdateFailed,updateDescription:function(t){e.state.descriptionHtml=t}}}),e._v(" "),e.hasUpdated?i("edited-component",{attrs:{"updated-at":e.state.updatedAt,"updated-by-name":e.state.updatedByName,"updated-by-path":e.state.updatedByPath}}):e._e()],1)])}),[],!1,null,null,null).exports,Kt=i("OqKX"),Yt=i("lT7T"),Qt=i("RewC"),Xt=i("FjhJ"),Jt=i.n(Xt),Zt=i("V4WY"),ei=i.n(Zt),ti=i("AFSh"),ii={actionCancel:{text:Object(b.a)("Cancel")},csrf:ti.a,components:{GlModal:Yt.a},props:{issuePath:{type:String,required:!1,default:""},issueType:{type:String,required:!0},modalId:{type:String,required:!0},title:{type:String,required:!0}},computed:{actionPrimary(){return{attributes:{variant:"danger","data-qa-selector":"confirm_delete_issue_button"},text:this.title}},bodyText(){return"epic"===this.issueType.toLowerCase()?Object(b.a)("Delete this epic and all descendants?"):Object(b.h)(Object(b.a)("%{issuableType} will be removed! Are you sure?"),{issuableType:Object(v.f)(this.issueType)})}},methods:{submitForm(){this.$emit("delete"),this.$refs.form.submit()}}},ni=Object(x.a)(ii,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-modal",{attrs:{"action-cancel":e.$options.actionCancel,"action-primary":e.actionPrimary,"modal-id":e.modalId,size:"sm",title:e.title},on:{primary:e.submitForm}},[i("form",{ref:"form",attrs:{action:e.issuePath,method:"post"}},[i("input",{attrs:{type:"hidden",name:"_method",value:"delete"}}),e._v(" "),i("input",{attrs:{type:"hidden",name:"authenticity_token"},domProps:{value:e.$options.csrf.token}}),e._v(" "),i("input",{attrs:{type:"hidden",name:"destroy_confirm",value:"true"}}),e._v("\n    "+e._s(e.bodyText)+"\n  ")])])}),[],!1,null,null,null).exports;const si=Xe.a.mixin({label:"delete_issue"});var ri={actionCancel:{text:Object(b.a)("Cancel")},actionPrimary:{text:Object(b.a)("Yes, close issue")},deleteModalId:"delete-modal-id",i18n:{promoteErrorMessage:Object(b.a)("Something went wrong while promoting the issue to an epic. Please try again."),promoteSuccessMessage:Object(b.a)("The issue was successfully promoted to an epic. Redirecting to epic...")},components:{DeleteIssueModal:ni,GlButton:gt.a,GlDropdown:I.a,GlDropdownDivider:Kt.a,GlDropdownItem:O.a,GlLink:E.a,GlModal:Yt.a},directives:{GlModal:ze.a,GlTooltip:z.a},mixins:[si],inject:{canCreateIssue:{default:!1},canDestroyIssue:{default:!1},canPromoteToEpic:{default:!1},canReopenIssue:{default:!1},canReportSpam:{default:!1},canUpdateIssue:{default:!1},iid:{default:""},isIssueAuthor:{default:!1},issuePath:{default:""},issueType:{default:p.d.Issue},newIssuePath:{default:""},projectPath:{default:""},reportAbusePath:{default:""},submitAsSpamPath:{default:""}},computed:{...Object(oe.f)(["isToggleStateButtonLoading"]),...Object(oe.d)(["openState","getBlockedByIssues"]),isClosed(){return this.openState===p.a.Closed},issueTypeText(){var e;return null!==(e={[p.d.Issue]:Object(b.g)("HeaderAction|issue"),[p.d.Incident]:Object(b.g)("HeaderAction|incident")}[this.issueType])&&void 0!==e?e:this.issueType},buttonText(){return this.isClosed?Object(b.h)(Object(b.a)("Reopen %{issueType}"),{issueType:this.issueTypeText}):Object(b.h)(Object(b.a)("Close %{issueType}"),{issueType:this.issueTypeText})},deleteButtonText(){return Object(b.h)(Object(b.a)("Delete %{issuableType}"),{issuableType:this.issueTypeText})},qaSelector(){return this.isClosed?"reopen_issue_button":"close_issue_button"},dropdownText(){return Object(b.h)(Object(b.a)("%{issueType} actions"),{issueType:Object(v.f)(this.issueType)})},newIssueTypeText(){return Object(b.h)(Object(b.a)("New related %{issueType}"),{issueType:this.issueType})},showToggleIssueStateButton(){const e=!this.isClosed&&this.canUpdateIssue,t=this.isClosed&&this.canReopenIssue;return e||t},hasDesktopDropdown(){return this.canCreateIssue||this.canPromoteToEpic||!this.isIssueAuthor||this.canReportSpam},hasMobileDropdown(){return this.hasDesktopDropdown||this.showToggleIssueStateButton}},created(){Qt.a.$on("toggle.issuable.state",this.toggleIssueState)},beforeDestroy(){Qt.a.$off("toggle.issuable.state",this.toggleIssueState)},methods:{...Object(oe.c)(["toggleStateButtonLoading"]),toggleIssueState(){var e;this.isClosed||null===(e=this.getBlockedByIssues)||void 0===e||!e.length?this.invokeUpdateIssueMutation():this.$refs.blockedByIssuesModal.show()},invokeUpdateIssueMutation(){var e=this;this.toggleStateButtonLoading(!0),this.$apollo.mutate({mutation:ei.a,variables:{input:{iid:this.iid.toString(),projectPath:this.projectPath,stateEvent:this.isClosed?"REOPEN":"CLOSE"}}}).then((function(t){let{data:i}=t;if(i.updateIssue.errors.length)throw new Error;const n={detail:{data:{id:e.iid},isClosed:!e.isClosed}};document.dispatchEvent(new CustomEvent(f.a,n))})).catch((function(){return Object(m.default)({message:Object(b.a)("Error occurred while updating the issue status")})})).finally((function(){e.toggleStateButtonLoading(!1)}))},promoteToEpic(){var e=this;this.toggleStateButtonLoading(!0),this.$apollo.mutate({mutation:Jt.a,variables:{input:{iid:this.iid,projectPath:this.projectPath}}}).then((function(t){let{data:i}=t;if(i.promoteToEpic.errors.length)throw new Error;Object(m.default)({message:e.$options.i18n.promoteSuccessMessage,type:m.FLASH_TYPES.SUCCESS}),Object(h.O)(i.promoteToEpic.epic.webPath)})).catch((function(){return Object(m.default)({message:e.$options.i18n.promoteErrorMessage})})).finally((function(){e.toggleStateButtonLoading(!1)}))}}},ai=Object(x.a)(ri,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"detail-page-header-actions gl-display-flex gl-align-self-start"},[e.hasMobileDropdown?i("gl-dropdown",{staticClass:"gl-sm-display-none! w-100",attrs:{block:"",text:e.dropdownText,"data-qa-selector":"issue_actions_dropdown","data-testid":"mobile-dropdown",loading:e.isToggleStateButtonLoading}},[e.showToggleIssueStateButton?i("gl-dropdown-item",{attrs:{"data-qa-selector":"mobile_"+e.qaSelector},on:{click:e.toggleIssueState}},[e._v("\n      "+e._s(e.buttonText)+"\n    ")]):e._e(),e._v(" "),e.canCreateIssue?i("gl-dropdown-item",{attrs:{href:e.newIssuePath}},[e._v("\n      "+e._s(e.newIssueTypeText)+"\n    ")]):e._e(),e._v(" "),e.canPromoteToEpic?i("gl-dropdown-item",{on:{click:e.promoteToEpic}},[e._v("\n      "+e._s(e.__("Promote to epic"))+"\n    ")]):e._e(),e._v(" "),e.isIssueAuthor?e._e():i("gl-dropdown-item",{attrs:{href:e.reportAbusePath}},[e._v("\n      "+e._s(e.__("Report abuse"))+"\n    ")]),e._v(" "),e.canReportSpam?i("gl-dropdown-item",{attrs:{href:e.submitAsSpamPath,"data-method":"post",rel:"nofollow"}},[e._v("\n      "+e._s(e.__("Submit as spam"))+"\n    ")]):e._e(),e._v(" "),e.canDestroyIssue?[i("gl-dropdown-divider"),e._v(" "),i("gl-dropdown-item",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.$options.deleteModalId,expression:"$options.deleteModalId"}],attrs:{variant:"danger"},on:{click:function(t){return e.track("click_dropdown")}}},[e._v("\n        "+e._s(e.deleteButtonText)+"\n      ")])]:e._e()],2):e._e(),e._v(" "),e.showToggleIssueStateButton?i("gl-button",{staticClass:"gl-display-none gl-sm-display-inline-flex!",attrs:{"data-qa-selector":e.qaSelector,loading:e.isToggleStateButtonLoading},on:{click:e.toggleIssueState}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")]):e._e(),e._v(" "),e.hasDesktopDropdown?i("gl-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"gl-display-none gl-sm-display-inline-flex! gl-ml-3",attrs:{icon:"ellipsis_v",category:"tertiary","data-qa-selector":"issue_actions_ellipsis_dropdown",text:e.dropdownText,"text-sr-only":!0,title:e.dropdownText,"aria-label":e.dropdownText,"data-testid":"desktop-dropdown","no-caret":"",right:""}},[e.canCreateIssue?i("gl-dropdown-item",{attrs:{href:e.newIssuePath}},[e._v("\n      "+e._s(e.newIssueTypeText)+"\n    ")]):e._e(),e._v(" "),e.canPromoteToEpic?i("gl-dropdown-item",{attrs:{disabled:e.isToggleStateButtonLoading,"data-testid":"promote-button"},on:{click:e.promoteToEpic}},[e._v("\n      "+e._s(e.__("Promote to epic"))+"\n    ")]):e._e(),e._v(" "),e.isIssueAuthor?e._e():i("gl-dropdown-item",{attrs:{href:e.reportAbusePath}},[e._v("\n      "+e._s(e.__("Report abuse"))+"\n    ")]),e._v(" "),e.canReportSpam?i("gl-dropdown-item",{attrs:{href:e.submitAsSpamPath,"data-method":"post",rel:"nofollow"}},[e._v("\n      "+e._s(e.__("Submit as spam"))+"\n    ")]):e._e(),e._v(" "),e.canDestroyIssue?[i("gl-dropdown-divider"),e._v(" "),i("gl-dropdown-item",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.$options.deleteModalId,expression:"$options.deleteModalId"}],attrs:{variant:"danger","data-qa-selector":"delete_issue_button"},on:{click:function(t){return e.track("click_dropdown")}}},[e._v("\n        "+e._s(e.deleteButtonText)+"\n      ")])]:e._e()],2):e._e(),e._v(" "),i("gl-modal",{ref:"blockedByIssuesModal",attrs:{"modal-id":"blocked-by-issues-modal","action-cancel":e.$options.actionCancel,"action-primary":e.$options.actionPrimary,title:e.__("Are you sure you want to close this blocked issue?")},on:{primary:e.invokeUpdateIssueMutation}},[i("p",[e._v(e._s(e.__("This issue is currently blocked by the following issues:")))]),e._v(" "),i("ul",e._l(e.getBlockedByIssues,(function(t){return i("li",{key:t.iid},[i("gl-link",{attrs:{href:t.web_url}},[e._v("#"+e._s(t.iid))])],1)})),0)]),e._v(" "),i("delete-issue-modal",{attrs:{"issue-path":e.issuePath,"issue-type":e.issueType,"modal-id":e.$options.deleteModalId,title:e.deleteButtonText}})],1)}),[],!1,null,null,null).exports,oi=i("uSzn"),li=i("3saJ"),ci=i("sRjF"),di=i("qP35"),ui=i("VnOA"),pi=i.n(ui),hi=i("U1Ws"),mi={components:{GlLink:E.a,IncidentSla:function(){return Promise.resolve().then(i.bind(null,"zcEJ"))}},directives:{GlTooltip:z.a},props:{alert:{type:Object,required:!1,default:null}},data:()=>({childHasData:!1}),computed:{startTime(){return Object(hi.g)(this.alert.startedAt,"yyyy-mm-dd Z")},showHighlightBar(){return this.alert||this.childHasData}},methods:{update(e){this.childHasData=e}}},fi=Object(x.a)(mi,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.showHighlightBar,expression:"showHighlightBar"}],staticClass:"gl-border-solid gl-border-1 gl-border-gray-100 gl-p-5 gl-mb-3 gl-rounded-base gl-display-flex gl-justify-content-space-between gl-xs-flex-direction-column"},[e.alert?i("div",{staticClass:"gl-mr-3"},[i("span",{staticClass:"gl-font-weight-bold"},[e._v(e._s(e.s__("HighlightBar|Original alert:")))]),e._v(" "),i("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:e.alert.title,href:e.alert.detailsUrl}},[e._v("\n      #"+e._s(e.alert.iid)+"\n    ")])],1):e._e(),e._v(" "),e.alert?i("div",{staticClass:"gl-mr-3"},[i("span",{staticClass:"gl-font-weight-bold"},[e._v(e._s(e.s__("HighlightBar|Alert start time:")))]),e._v("\n    "+e._s(e.startTime)+"\n  ")]):e._e(),e._v(" "),e.alert?i("div",{staticClass:"gl-mr-3"},[i("span",{staticClass:"gl-font-weight-bold"},[e._v(e._s(e.s__("HighlightBar|Alert events:")))]),e._v(" "),i("span",[e._v(e._s(e.alert.eventCount))])]):e._e(),e._v(" "),i("incident-sla",{on:{update:e.update}})],1)}),[],!1,null,null,null).exports,gi=i("B0bW"),vi=i("tPfb"),bi=i.n(vi);const yi={comment:"comment",issues:"issues",label:"label",status:"status",default:"comment"},ki=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=e?new Date(e):new Date;return t.setMinutes(t.getMinutes()+t.getTimezoneOffset()),t},wi=Object.freeze({title:Object(b.g)("Incident|Timeline"),emptyDescription:Object(b.g)("Incident|No timeline items have been added yet."),addEventButton:Object(b.g)("Incident|Add new timeline event")}),_i=Object.freeze({createError:Object(b.g)("Incident|Error creating incident timeline event: %{error}"),createErrorGeneric:Object(b.g)("Incident|Something went wrong while creating the incident timeline event."),areaPlaceholder:Object(b.g)("Incident|Timeline text..."),save:Object(b.a)("Save"),cancel:Object(b.a)("Cancel"),description:Object(b.a)("Description"),hint:Object(b.a)("You can enter up to 280 characters"),textRemaining:function(e){return Object(b.f)("%d character remaining","%d characters remaining",e)},saveAndAdd:Object(b.g)("Incident|Save and add another event"),areaLabel:Object(b.g)("Incident|Timeline text")}),Si=Object.freeze({deleteButton:Object(b.g)("Incident|Delete event"),deleteError:Object(b.g)("Incident|Error deleting incident timeline event: %{error}"),deleteErrorGeneric:Object(b.g)("Incident|Something went wrong while deleting the incident timeline event."),deleteModal:Object(b.g)("Incident|Are you sure you want to delete this event?"),editError:Object(b.g)("Incident|Error updating incident timeline event: %{error}"),editErrorGeneric:Object(b.g)("Incident|Something went wrong while updating the incident timeline event.")}),Ei=Object.freeze({delete:Object(b.a)("Delete"),edit:Object(b.a)("Edit"),moreActions:Object(b.a)("More actions"),timeUTC:Object(b.a)("%{time} UTC")});var Di=i("ZMwX"),Ti=i.n(Di),Ci=i("ENs1"),Ii=i("x3KW"),Oi=i("tSMP"),ji=i("1IiZ"),xi={name:"TimelineEventsForm",restrictedToolBarItems:["quote","strikethrough","bullet-list","numbered-list","task-list","collapsible-section","table","attach-file","full-screen"],components:{MarkdownField:_t.a,GlDatepicker:Ii.a,GlFormInput:Oi.a,GlFormGroup:Nt.a,GlButton:gt.a},i18n:_i,MAX_TEXT_LENGTH:280,directives:{autofocusonshow:ji.a},props:{showSaveAndAdd:{type:Boolean,required:!1,default:!1},isEventProcessed:{type:Boolean,required:!0},previousOccurredAt:{type:String,required:!1,default:null},previousNote:{type:String,required:!1,default:""}},data(){const e=ki(this.previousOccurredAt);return{timelineText:this.previousNote,placeholderDate:e,hourPickerInput:e.getHours(),minutePickerInput:e.getMinutes(),datePickerInput:e}},computed:{isTimelineTextValid(){return this.timelineTextCount>0&&this.timelineTextRemainingCount>=0},occurredAtString(){const e=this.datePickerInput.getFullYear(),t=this.datePickerInput.getMonth(),i=this.datePickerInput.getDate();return new Date(Date.UTC(e,t,i,this.hourPickerInput,this.minutePickerInput)).toISOString()},timelineTextRemainingCount(){return 280-this.timelineTextCount},timelineTextCount(){return this.timelineText.length}},mounted(){this.focusDate()},methods:{clear(){const e=ki();this.datePickerInput=e,this.hourPickerInput=e.getHours(),this.minutePickerInput=e.getMinutes(),this.timelineText=""},focusDate(){this.$refs.datepicker.$el.querySelector("input").focus()},handleSave(e){const t={note:this.timelineText,occurredAt:this.occurredAtString};this.$emit("save-event",t,e)}}},Ai=Object(x.a)(xi,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{staticClass:"gl-flex-grow-1 gl-border-gray-50"},[i("div",{staticClass:"gl-display-flex gl-flex-direction-column gl-sm-flex-direction-row"},[i("gl-form-group",{staticClass:"gl-mt-5 gl-mr-5",attrs:{label:e.__("Date")}},[i("gl-datepicker",{ref:"datepicker",attrs:{id:"incident-date"},model:{value:e.datePickerInput,callback:function(t){e.datePickerInput=t},expression:"datePickerInput"}})],1),e._v(" "),i("div",{staticClass:"gl-display-flex gl-mt-5"},[i("gl-form-group",{attrs:{label:e.__("Time")}},[i("div",{staticClass:"gl-display-flex"},[i("label",{staticClass:"sr-only",attrs:{"label-for":"timeline-input-hours"}}),e._v(" "),i("gl-form-input",{attrs:{id:"timeline-input-hours","data-testid":"input-hours",size:"xs",type:"number",min:"00",max:"23"},model:{value:e.hourPickerInput,callback:function(t){e.hourPickerInput=t},expression:"hourPickerInput"}}),e._v(" "),i("label",{staticClass:"sr-only",attrs:{"label-for":"timeline-input-minutes"}}),e._v(" "),i("gl-form-input",{staticClass:"gl-ml-3",attrs:{id:"timeline-input-minutes","data-testid":"input-minutes",size:"xs",type:"number",min:"00",max:"59"},model:{value:e.minutePickerInput,callback:function(t){e.minutePickerInput=t},expression:"minutePickerInput"}})],1)]),e._v(" "),i("p",{staticClass:"gl-ml-3 gl-align-self-end gl-line-height-32"},[e._v(e._s(e.__("UTC")))])],1)],1),e._v(" "),i("div",{staticClass:"common-note-form"},[i("gl-form-group",{staticClass:"gl-mb-3",attrs:{label:e.$options.i18n.areaLabel}},[i("markdown-field",{staticClass:"bordered-box gl-mt-0",attrs:{"can-attach-file":!1,"add-spacing-classes":!1,"show-comment-tool-bar":!1,"textarea-value":e.timelineText,"restricted-tool-bar-items":e.$options.restrictedToolBarItems,"markdown-docs-path":"","enable-preview":!1},scopedSlots:e._u([{key:"textarea",fn:function(){return[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.timelineText,expression:"timelineText"}],staticClass:"note-textarea js-gfm-input js-autosize markdown-area",attrs:{"data-testid":"input-note",dir:"auto","data-supports-quick-actions":"false","aria-label":e.$options.i18n.description,"aria-describedby":"timeline-form-hint",placeholder:e.$options.i18n.areaPlaceholder,maxlength:e.$options.MAX_TEXT_LENGTH},domProps:{value:e.timelineText},on:{input:function(t){t.target.composing||(e.timelineText=t.target.value)}}}),e._v(" "),i("div",{staticClass:"gl-sr-only",attrs:{id:"timeline-form-hint"}},[e._v(e._s(e.$options.i18n.hint))]),e._v(" "),i("div",{staticClass:"gl-absolute gl-text-gray-500 gl-font-sm gl-line-height-14 gl-right-4 gl-bottom-3",attrs:{"aria-hidden":"true"}},[e._v("\n            "+e._s(e.timelineTextRemainingCount)+"\n          ")]),e._v(" "),i("div",{staticClass:"gl-sr-only",attrs:{role:"status"}},[e._v("\n            "+e._s(e.$options.i18n.textRemaining(e.timelineTextRemainingCount))+"\n          ")])]},proxy:!0}])})],1)],1),e._v(" "),i("gl-form-group",{staticClass:"gl-mb-0"},[i("gl-button",{staticClass:"gl-mr-3",attrs:{variant:"confirm",category:"primary","data-testid":"save-button",disabled:!e.isTimelineTextValid,loading:e.isEventProcessed},on:{click:function(t){return e.handleSave(!1)}}},[e._v("\n      "+e._s(e.$options.i18n.save)+"\n    ")]),e._v(" "),e.showSaveAndAdd?i("gl-button",{staticClass:"gl-mr-3 gl-ml-n2",attrs:{variant:"confirm",category:"secondary","data-testid":"save-and-add-button",disabled:!e.isTimelineTextValid,loading:e.isEventProcessed},on:{click:function(t){return e.handleSave(!0)}}},[e._v("\n      "+e._s(e.$options.i18n.saveAndAdd)+"\n    ")]):e._e(),e._v(" "),i("gl-button",{staticClass:"gl-ml-n2",attrs:{disabled:e.isEventProcessed},on:{click:function(t){return e.$emit("cancel")}}},[e._v("\n      "+e._s(e.$options.i18n.cancel)+"\n    ")]),e._v(" "),i("div",{staticClass:"timeline-event-bottom-border"})],1)],1)}),[],!1,null,null,null).exports,Ni=i("x94u"),Fi=i.n(Ni),Li={name:"CreateTimelineEvent",i18n:_i,components:{TimelineEventsForm:Ai,GlIcon:S.a},inject:["fullPath","issuableId"],props:{hasTimelineEvents:{type:Boolean,required:!0}},data:()=>({createTimelineEventActive:!1}),methods:{clearForm(){this.$refs.eventForm.clear()},updateCache(e,t){let{data:i}=t;const{timelineEvent:n,errors:s}=(null==i?void 0:i.timelineEventCreate)||{};if(s.length)return;const r={incidentId:Object(He.c)(Ge.h,this.issuableId),fullPath:this.fullPath},a=e.readQuery({query:bi.a,variables:r}),o=Object(Ci.b)(a,(function(e){const{nodes:t}=e.project.incidentManagementTimelineEvents;t.push(n);const i=Ti()(t,"occurredAt");e.project.incidentManagementTimelineEvents.nodes=i}));e.writeQuery({query:bi.a,variables:r,data:o})},createIncidentTimelineEvent(e){var t=this;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.createTimelineEventActive=!0,this.$apollo.mutate({mutation:Fi.a,variables:{input:{incidentId:Object(He.c)(Ge.h,this.issuableId),note:e.note,occurredAt:e.occurredAt}},update:this.updateCache}).then((function(e){var n;let{data:s={}}=e;t.createTimelineEventActive=!1;const r=null===(n=s.timelineEventCreate)||void 0===n?void 0:n.errors;r.length?Object(m.createAlert)({message:Object(b.h)(t.$options.i18n.createError,{error:r.join(". ")},!1)}):i?t.$refs.eventForm.clear():t.$emit("hide-new-timeline-events-form")})).catch((function(e){Object(m.createAlert)({message:t.$options.i18n.createErrorGeneric,captureError:!0,error:e})}))}}},Pi=Object(x.a)(Li,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"create-timeline-event gl-relative gl-display-flex gl-align-items-start",class:{"timeline-entry-vertical-line":e.hasTimelineEvents}},[e.hasTimelineEvents?i("div",{staticClass:"gl-display-flex gl-align-items-center gl-justify-content-center gl-align-self-start gl-bg-white gl-text-gray-200 gl-border-gray-100 gl-border-1 gl-border-solid gl-rounded-full gl-mt-2 gl-mr-3 gl-w-8 gl-h-8 gl-z-index-1"},[i("gl-icon",{staticClass:"note-icon",attrs:{name:"comment"}})],1):e._e(),e._v(" "),i("timeline-events-form",{ref:"eventForm",class:{"gl-border-gray-50 gl-border-t":e.hasTimelineEvents},attrs:{"is-event-processed":e.createTimelineEventActive,"show-save-and-add":""},on:{"save-event":e.createIncidentTimelineEvent,cancel:function(t){return e.$emit("hide-new-timeline-events-form")}}})],1)}),[],!1,null,null,null).exports,Ri=i("0nrL"),qi=i("XELT"),$i={name:"IncidentTimelineEventListItem",i18n:Ei,components:{GlDropdown:I.a,GlDropdownItem:O.a,GlIcon:S.a,GlSprintf:D.a},directives:{SafeHtml:Ve.a},inject:["canUpdateTimelineEvent"],props:{occurredAt:{type:String,required:!0},action:{type:String,required:!0},noteHtml:{type:String,required:!0}},computed:{time(){return Object(hi.g)(this.occurredAt,"HH:MM",!0)}},methods:{getEventIcon:function(e){var t;return null!==(t=yi[e])&&void 0!==t?t:yi.default}}},Bi=Object(x.a)($i,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-display-flex gl-align-items-start"},[i("div",{staticClass:"gl-display-flex gl-align-items-center gl-justify-content-center gl-bg-white gl-text-gray-200 gl-border-gray-100 gl-border-1 gl-border-solid gl-rounded-full gl-mt-2 gl-mr-3 gl-w-8 gl-h-8 gl-p-3 gl-z-index-1"},[i("gl-icon",{staticClass:"note-icon",attrs:{name:e.getEventIcon(e.action)}})],1),e._v(" "),i("div",{staticClass:"timeline-event-note timeline-event-border gl-w-full gl-display-flex gl-flex-direction-row",attrs:{"data-testid":"event-text-container"}},[i("div",[i("strong",{staticClass:"gl-font-lg",attrs:{"data-testid":"event-time"}},[i("gl-sprintf",{attrs:{message:e.$options.i18n.timeUTC},scopedSlots:e._u([{key:"time",fn:function(){return[e._v(e._s(e.time))]},proxy:!0}])})],1),e._v(" "),i("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.noteHtml,expression:"noteHtml"}]})]),e._v(" "),e.canUpdateTimelineEvent?i("gl-dropdown",{staticClass:"event-note-actions gl-ml-auto gl-align-self-start",attrs:{right:"",icon:"ellipsis_v","text-sr-only":"",text:e.$options.i18n.moreActions,category:"tertiary","no-caret":""}},[i("gl-dropdown-item",{on:{click:function(t){return e.$emit("edit")}}},[e._v("\n        "+e._s(e.$options.i18n.edit)+"\n      ")]),e._v(" "),i("gl-dropdown-item",{on:{click:function(t){return e.$emit("delete")}}},[e._v("\n        "+e._s(e.$options.i18n.delete)+"\n      ")])],1):e._e()],1)])}),[],!1,null,null,null).exports,Mi={name:"EditTimelineEvent",components:{TimelineEventsForm:Ai,GlIcon:S.a},props:{event:{type:Object,required:!0,validator:function(e){return["occurredAt","note"].every((function(t){return e[t]}))}},editTimelineEventActive:{type:Boolean,required:!0}},methods:{saveEvent(e){this.$emit("handle-save-edit",{...e,id:this.event.id},!1)}}},Ui=Object(x.a)(Mi,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-relative gl-display-flex gl-align-items-center"},[i("div",{staticClass:"gl-display-flex gl-align-items-center gl-justify-content-center gl-align-self-start gl-bg-white gl-text-gray-200 gl-border-gray-100 gl-border-1 gl-border-solid gl-rounded-full gl-mt-2 gl-mr-3 gl-w-8 gl-h-8 gl-z-index-1"},[i("gl-icon",{staticClass:"note-icon",attrs:{name:"comment"}})],1),e._v(" "),i("timeline-events-form",{ref:"eventForm",staticClass:"timeline-event-border",attrs:{"is-event-processed":e.editTimelineEventActive,"previous-occurred-at":e.event.occurredAt,"previous-note":e.event.note},on:{"save-event":e.saveEvent,cancel:function(t){return e.$emit("hide-edit")}}})],1)}),[],!1,null,null,null).exports,Vi=i("VqxQ"),zi=i.n(Vi),Wi=i("u5hK"),Hi=i.n(Wi),Gi={name:"IncidentTimelineEventList",i18n:Si,components:{IncidentTimelineEventItem:Bi,EditTimelineEvent:Ui},props:{timelineEventLoading:{type:Boolean,required:!1,default:!0},timelineEvents:{type:Array,required:!0,default:function(){return[]}}},data:()=>({eventToEdit:null,editTimelineEventActive:!1}),computed:{dateGroupedEvents(){const e=new Map;return this.timelineEvents.forEach((function(t){const i=Object(hi.g)(t.occurredAt,"isoDate",!0);e.has(i)?e.get(i).push(t):e.set(i,[t])})),e}},methods:{handleEditSelection(e){this.eventToEdit=e.id,this.$emit("hide-new-incident-timeline-event-form")},hideEdit(){this.eventToEdit=null},handleDelete:Object(qi.a)((async function(e){const t=this.$options.i18n.deleteModal;if(await Object(Ri.a)(t,{primaryBtnVariant:"danger",primaryBtnText:this.$options.i18n.deleteButton}))try{const t=await this.$apollo.mutate({mutation:zi.a,variables:{input:{id:e.id}},update:function(t){const i=t.identify(e);t.evict({id:i})}}),{errors:i}=t.data.timelineEventDestroy;null!=i&&i.length&&Object(m.createAlert)({message:Object(b.h)(this.$options.i18n.deleteError,{error:i.join(". ")},!1)})}catch(e){Object(m.createAlert)({message:this.$options.i18n.deleteErrorGeneric,captureError:!0,error:e})}})),handleSaveEdit(e){var t=this;return this.editTimelineEventActive=!0,this.$apollo.mutate({mutation:Hi.a,variables:{input:{id:e.id,note:e.note,occurredAt:e.occurredAt}}}).then((function(e){var i;let{data:n}=e;t.editTimelineEventActive=!1;const s=null===(i=n.timelineEventUpdate)||void 0===i?void 0:i.errors;s.length?Object(m.createAlert)({message:Object(b.h)(t.$options.i18n.editError,{error:s.join(". ")},!1)}):t.hideEdit()})).catch((function(e){Object(m.createAlert)({message:t.$options.i18n.editErrorGeneric,captureError:!0,error:e})}))}}},Ki=Object(x.a)(Gi,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"issuable-discussion incident-timeline-events"},e._l(e.dateGroupedEvents,(function(t){var n=t[0],s=t[1];return i("div",{key:n,staticClass:"timeline-group",attrs:{"data-testid":"timeline-group"}},[i("div",{staticClass:"gl-pb-3 gl-border-gray-50 gl-border-1 gl-border-b-solid"},[i("strong",{staticClass:"gl-font-size-h2",attrs:{"data-testid":"event-date"}},[e._v(e._s(n))])]),e._v(" "),i("ul",{staticClass:"notes main-notes-list"},e._l(s,(function(t,n){return i("li",{key:n,staticClass:"timeline-entry-vertical-line timeline-entry note system-note note-wrapper gl-my-2! gl-pr-0!"},[e.eventToEdit===t.id?i("edit-timeline-event",{key:"edit-"+t.id,ref:"eventForm",refInFor:!0,attrs:{event:t,"edit-timeline-event-active":e.editTimelineEventActive},on:{"handle-save-edit":e.handleSaveEdit,"hide-edit":function(t){return e.hideEdit()}}}):i("incident-timeline-event-item",{key:t.id,attrs:{action:t.action,"occurred-at":t.occurredAt,"note-html":t.noteHtml},on:{delete:function(i){return e.handleDelete(t)},edit:function(i){return e.handleEditSelection(t)}}})],1)})),0)])})),0)}),[],!1,null,null,null).exports,Yi={components:{GlButton:gt.a,GlEmptyState:gi.a,GlLoadingIcon:ae.a,GlTab:oi.a,CreateTimelineEvent:Pi,IncidentTimelineEventsList:Ki},i18n:wi,inject:["canUpdateTimelineEvent","fullPath","issuableId"],data:()=>({isEventFormVisible:!1,timelineEvents:[]}),apollo:{timelineEvents:{fetchPolicy:V.b.CACHE_AND_NETWORK,query:bi.a,variables(){return{fullPath:this.fullPath,incidentId:Object(He.c)(Ge.h,this.issuableId)}},update:e=>e.project.incidentManagementTimelineEvents.nodes,error(e){!function(e){Object(m.createAlert)({message:Object(b.g)("Incident|Something went wrong while fetching incident timeline events."),captureError:!0,error:e})}(e)}}},computed:{timelineEventLoading(){return this.$apollo.queries.timelineEvents.loading},hasTimelineEvents(){return Boolean(this.timelineEvents.length)},showEmptyState(){return!this.timelineEventLoading&&!this.hasTimelineEvents}},mounted(){Qt.a.$on("comment-promoted-to-timeline-event",this.refreshTimelineEvents)},destroyed(){Qt.a.$off("comment-promoted-to-timeline-event",this.refreshTimelineEvents)},methods:{refreshTimelineEvents(){this.$apollo.queries.timelineEvents.refetch()},hideEventForm(){this.isEventFormVisible=!1},showEventForm(){this.isEventFormVisible=!0}}},Qi=Object(x.a)(Yi,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-tab",{attrs:{title:e.$options.i18n.title}},[e.timelineEventLoading?i("gl-loading-icon",{staticClass:"gl-mt-5",attrs:{size:"lg",color:"dark"}}):e.showEmptyState?i("gl-empty-state",{attrs:{compact:!0,description:e.$options.i18n.emptyDescription}}):e._e(),e._v(" "),e.hasTimelineEvents?i("incident-timeline-events-list",{attrs:{"timeline-event-loading":e.timelineEventLoading,"timeline-events":e.timelineEvents},on:{"hide-new-timeline-events-form":e.hideEventForm}}):e._e(),e._v(" "),e.isEventFormVisible?i("create-timeline-event",{ref:"createEventForm",staticClass:"timeline-event-note timeline-event-note-form",class:{"gl-pl-0":!e.hasTimelineEvents},attrs:{"has-timeline-events":e.hasTimelineEvents},on:{"hide-new-timeline-events-form":e.hideEventForm}}):e._e(),e._v(" "),e.canUpdateTimelineEvent?i("gl-button",{staticClass:"gl-mb-3 gl-mt-7",attrs:{variant:"default"},on:{click:e.showEventForm}},[e._v("\n    "+e._s(e.$options.i18n.addEventButton)+"\n  ")]):e._e()],1)}),[],!1,null,null,null).exports,Xi={components:{AlertDetailsTable:di.a,DescriptionComponent:pt,GlTab:oi.a,GlTabs:li.a,HighlightBar:fi,TimelineTab:Qi,IncidentMetricTab:function(){return Promise.resolve().then(i.bind(null,"zcEJ"))}},mixins:[Object(st.a)()],inject:["fullPath","iid"],apollo:{alert:{query:pi.a,variables(){return{fullPath:this.fullPath,iid:this.iid}},update(e){var t,i;return null==e||null===(t=e.project)||void 0===t||null===(i=t.issue)||void 0===i?void 0:i.alertManagementAlert},error(){Object(m.default)({message:Object(b.g)("Incident|There was an issue loading alert data. Please try again.")})}}},data:()=>({alert:null}),computed:{loading(){return this.$apollo.queries.alert.loading}},mounted(){this.trackPageViews()},methods:{trackPageViews(){const{category:e,action:t}=ci.k;Xe.a.event(e,t)},handleTabChange(e){const t=document.querySelector(".js-issue-details");if(null!==t){const i=t.querySelectorAll(".js-issue-widgets"),n=t.querySelector(".js-detail-page-description"),s=document.querySelector(".js-issuable-edit"),r=0===e;n.classList.toggle("gl-border-b-0",!r),i.forEach((function(e){e.classList.toggle("gl-display-none",!r)})),s.classList.toggle("gl-display-none",!r),s.classList.toggle("gl-sm-display-inline-flex!",r)}}}},Ji=Object(x.a)(Xi,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("gl-tabs",{staticClass:"gl-mt-n3",attrs:{"content-class":"gl-reset-line-height","data-testid":"incident-tabs"},on:{input:e.handleTabChange}},[i("gl-tab",{attrs:{title:e.s__("Incident|Summary")}},[i("highlight-bar",{attrs:{alert:e.alert}}),e._v(" "),i("description-component",e._g(e._b({},"description-component",e.$attrs,!1),e.$listeners))],1),e._v(" "),i("incident-metric-tab"),e._v(" "),e.alert?i("gl-tab",{staticClass:"alert-management-details",attrs:{title:e.s__("Incident|Alert details"),"data-testid":"alert-details-tab"}},[i("alert-details-table",{attrs:{alert:e.alert,loading:e.loading}})],1):e._e(),e._v(" "),i("timeline-tab")],1)],1)}),[],!1,null,null,null).exports,Zi={name:"SentryErrorStackTrace",components:{Stacktrace:i("wLNQ").a,GlLoadingIcon:ae.a},props:{issueStackTracePath:{type:String,required:!0}},computed:{...Object(oe.f)("details",["loadingStacktrace","stacktraceData"]),...Object(oe.d)("details",["stacktrace"])},mounted(){this.startPollingStacktrace(this.issueStackTracePath)},methods:{...Object(oe.c)("details",["startPollingStacktrace"])}},en=Object(x.a)(Zi,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"card card-slim mt-4 mb-0",class:{"border-bottom-0":this.loadingStacktrace}},[t("div",{staticClass:"card-header border-bottom-0"},[t("h5",{staticClass:"card-title my-1"},[this._v(this._s(this.__("Stack trace")))])])]),this._v(" "),this.loadingStacktrace?t("div",{staticClass:"card"},[t("gl-loading-icon",{staticClass:"py-2",attrs:{label:"Fetching stack trace",size:"sm"}})],1):t("stacktrace",{attrs:{entries:this.stacktrace}})],1)}),[],!1,null,null,null).exports,tn=i("cPWL");const nn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tn.a.clients.defaultClient.cache.writeQuery({query:qe.a,data:{issueState:e}})};function sn(e,t){const i=document.getElementById("js-issuable-app");if(!i)return;const{fullPath:n}=i.dataset;!function(){let{targetId:e=window.location.hash.slice(1),container:t="#content-body"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return null;const i=Ee(),n=document.querySelector(t);let s=!1;function r(){const t=document.getElementById(e);if(!t)return;const i=t.getBoundingClientRect().top+window.scrollY-Object(_.g)();document.documentElement.scrollTo({top:i}),s||(Se.forEach((function(e){return document.addEventListener(e,a)})),s=!0)}function a(){Se.forEach((function(e){return document.removeEventListener(e,a)})),i.unobserve(n),n.removeEventListener("ResizeUpdate",r)}n.addEventListener("ResizeUpdate",r),i.observe(n)}(),nn({...Fe,issueType:i.dataset.issueType});const{canCreateIncident:s,hasIssueWeightsFeature:r,...a}=e;return new w.default({el:i,name:"DescriptionRoot",apolloProvider:tn.a,store:t,provide:{canCreateIncident:s,fullPath:n,hasIssueWeightsFeature:r},computed:{...Object(oe.d)(["getNoteableData"])},render(e){var t,i,n,s;return e(Gt,{props:{...a,isConfidential:null===(t=this.getNoteableData)||void 0===t?void 0:t.confidential,isLocked:null===(i=this.getNoteableData)||void 0===i?void 0:i.discussion_locked,issuableStatus:null===(n=this.getNoteableData)||void 0===n?void 0:n.state,issueId:null===(s=this.getNoteableData)||void 0===s?void 0:s.id}})}})}function rn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const i=document.querySelector(".js-issue-header-actions");if(!i)return;nn({...Fe,issueType:i.dataset.issueType});const n="incident"===t?i.dataset.canCreateIncident:i.dataset.canCreateIssue;return new w.default({el:i,name:"HeaderActionsRoot",apolloProvider:tn.a,store:e,provide:{canCreateIssue:Object(_.F)(n),canDestroyIssue:Object(_.F)(i.dataset.canDestroyIssue),canPromoteToEpic:Object(_.F)(i.dataset.canPromoteToEpic),canReopenIssue:Object(_.F)(i.dataset.canReopenIssue),canReportSpam:Object(_.F)(i.dataset.canReportSpam),canUpdateIssue:Object(_.F)(i.dataset.canUpdateIssue),iid:i.dataset.iid,isIssueAuthor:Object(_.F)(i.dataset.isIssueAuthor),issuePath:i.dataset.issuePath,issueType:i.dataset.issueType,newIssuePath:i.dataset.newIssuePath,projectPath:i.dataset.projectPath,projectId:i.dataset.projectId,reportAbusePath:i.dataset.reportAbusePath,submitAsSpamPath:i.dataset.submitAsSpamPath},render:function(e){return e(ai)}})}var an=i("t+zI"),on=i("J6KD"),ln=i("eT5B"),cn=i("Y4M3"),dn=i("4stm"),un=i("GyXH"),pn=i("ieV+"),hn=i("zcEJ");w.default.use(U.b);var mn=i("eSRO"),fn=i("59gv");class gn extends mn.a{constructor(e){super({page:"service_desk",filteredSearchTokenKeys:fn.a,useDefaultState:!0}),this.supportBotData=e}canEdit(e){return"author"!==e}modifyUrlParams(e){const t="author_username="+this.supportBotData.username,i=e.filter((function(e){return-1===e.indexOf("author_username")}));return i.unshift(t),i}}function vn(){if(document.querySelector(".filtered-search")){const e=JSON.parse(document.querySelector(".js-service-desk-issues").dataset.supportBot);new gn(e).setup()}}function bn(){new c.a(r()(".issue-form")),new a.a(r()(".issue-form")),new u.a({warnTemplateOverride:!0}),new an.a,new l.a,function(){const e=document.getElementById("js-suggestions"),t=document.getElementById("issue_title");if(!e)return;w.default.use(U.b);const i=new U.b({defaultClient:Object(V.a)()});new w.default({el:e,name:"TitleSuggestionsRoot",apolloProvider:i,data:()=>({search:t.value}),mounted(){var e=this;t.addEventListener("input",(function(){e.search=t.value}))},render(t){return t(ie,{props:{projectPath:e.dataset.projectPath,search:this.search}})}})}(),function(){const e=document.getElementById("js-type-popover");if(e)new w.default({el:e,name:"TypePopoverRoot",render:function(e){return e(re)}})}(),Object(dn.b)()}function yn(){const e=document.getElementById("js-issuable-app");if(!e)return;const{issueType:t,...s}=pe(e);t===p.d.Incident?(!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=document.getElementById("js-issuable-app");if(!t)return;nn({...Fe,issueType:t.dataset.issueType});const{canCreateIncident:i,canUpdate:n,canUpdateTimelineEvent:s,iid:r,issuableId:a,projectNamespace:o,projectPath:l,projectId:c,slaFeatureAvailable:d,uploadMetricsFeatureAvailable:u,state:p}=e,h=`${o}/${l}`;new w.default({el:t,name:"DescriptionRoot",apolloProvider:tn.a,provide:{issueType:"incident",canCreateIncident:i,canUpdateTimelineEvent:s,canUpdate:n,fullPath:h,iid:r,issuableId:a,projectId:c,slaFeatureAvailable:Object(_.F)(d),uploadMetricsFeatureAvailable:Object(_.F)(u),contentEditorOnIssues:gon.features.contentEditorOnIssues},render:t=>t(Gt,{props:{...e,issueId:Number(a),issuableStatus:p,descriptionComponent:Ji,showTitleBorder:!1}})})}({...s,issuableId:e.dataset.issuableId}),rn(ln.a,p.d.Incident),function(){const e=document.querySelector(".js-linked-resources-root");if(e){const{issuableId:t,canAddResourceLinks:i,helpPath:n}=e.dataset,s=new U.b({defaultClient:Object(V.a)()});new w.default({el:e,name:"LinkedResourcesRoot",apolloProvider:s,components:{ResourceLinksBlock:hn.default},render:function(e){return e("resource-links-block",{props:{helpPath:n,issuableId:parseInt(t,10),canAddResourceLinks:Object(_.F)(i)}})}})}}(),Object(we.a)(p.d.Incident)):(sn(s,ln.a),rn(ln.a)),new M,new o.a,new un.a,Object(d.c)(ln.a),Object(d.d)(),function(){const e=document.getElementById("js-vue-notes");if(!e)return;const t=Object(cn.a)(e),i=Object(_.F)(e.dataset.showTimelineViewToggle);new w.default({el:e,name:"NotesRoot",components:{NotesApp:on.a},store:ln.a,provide:{showTimelineViewToggle:i},data(){const t=e.dataset,i=JSON.parse(t.currentUserData),n=JSON.parse(t.noteableData);let s={};return n.noteableType=t.noteableType,n.targetType=t.targetType,null===n.discussion_locked&&(n.discussion_locked=!1),i&&(s={id:i.id,name:i.name,username:i.username,avatar_url:i.avatar_path||i.avatar_url,path:i.path,can_add_timeline_events:Object(_.F)(t.canAddTimelineEvents)}),{noteableData:n,currentUserData:s,notesData:JSON.parse(t.notesData)}},render(e){return e("notes-app",{props:{noteableData:this.noteableData,notesData:this.notesData,userData:this.currentUserData,...t}})}})}(),function(){const e=document.querySelector("#js-related-merge-requests");if(!e)return;const{endpoint:t,projectPath:i,projectNamespace:s}=e.dataset;new w.default({el:e,name:"RelatedMergeRequestsRoot",store:new oe.b.Store({state:{apiEndpoint:"",isFetchingMergeRequests:!1,hasErrorFetchingMergeRequests:!1,mergeRequests:[],totalCount:0},actions:n,mutations:ke}),render:function(e){return e(me,{props:{endpoint:t,projectNamespace:s,projectPath:i}})}})}(),function(){const e=document.querySelector("#js-sentry-error-stack-trace");if(!e)return;const{issueStackTracePath:t}=e.dataset;new w.default({el:e,name:"SentryErrorStackTraceRoot",store:_e.a,render:function(e){return e(en,{props:{issueStackTracePath:t}})}})}(),Object(pn.a)(document.getElementById("js-vue-awards-block")),Promise.all([i.e(171),i.e(686),i.e(180)]).then(i.bind(null,"UJk7")).then((function(e){return e.default()})).catch((function(){}))}},cPWL:function(e,t,i){"use strict";var n=i("q+nE"),s=i("EfTh"),r=i("ZfsP");n.default.use(s.b),t.a=new s.b({defaultClient:r.b})},cZCd:function(e,t,i){(e.exports=i("ZSrL")(!1)).push([e.i,"\n.hide-select-decoration:not(:focus, :hover),\n.hide-select-decoration:disabled {\n  background-image: none;\n  box-shadow: none;\n}\n",""])},cd08:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));i("JHu5"),i("3R5X"),i("XUYm"),i("WmlO"),i("W9Nl");var n=i("6oy4"),s=i.n(n),r=(i("nEd5"),i("t9l/")),a=i("teVv"),o=i("mphk");class l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selector=e.selector,this.dataType=e.dataType,this.fieldName=e.fieldName,this.lockVersion=e.lockVersion,this.taskListContainerSelector=this.selector+" .js-task-list-container",this.updateHandler=this.update.bind(this),this.onUpdate=e.onUpdate||function(){},this.onSuccess=e.onSuccess||function(){},this.onError=e.onError||function(e){let t="";return e.response.data&&"object"==typeof e.response.data&&(t=e.response.data.errors.join(" ")),Object(a.createAlert)({message:t||Object(r.a)("Update failed")})},this.init()}init(){this.disable();document.querySelectorAll(this.taskListContainerSelector+" .js-task-list-field[data-value]").forEach((function(e){e.value=e.dataset.value})),this.enable()}getTaskListTarget(e){return e&&e.currentTarget?s()(e.currentTarget):s()(this.taskListContainerSelector)}disableNonMarkdownTaskListItems(e){this.getTaskListTarget(e).find(".task-list-item").not("[data-sourcepos]").find(".task-list-item-checkbox").prop("disabled",!0)}updateInapplicableTaskListItems(e){this.getTaskListTarget(e).find(".task-list-item-checkbox[data-inapplicable]").prop("disabled",!0)}disableTaskListItems(e){this.getTaskListTarget(e).taskList("disable"),this.updateInapplicableTaskListItems()}enableTaskListItems(e){this.getTaskListTarget(e).taskList("enable"),this.disableNonMarkdownTaskListItems(e),this.updateInapplicableTaskListItems(e)}enable(){this.enableTaskListItems(),s()(document).on("tasklist:changed",this.taskListContainerSelector,this.updateHandler)}disable(){this.disableTaskListItems(),s()(document).off("tasklist:changed",this.taskListContainerSelector)}update(e){var t=this;const i=s()(e.target),{index:n,checked:r,lineNumber:a,lineSource:l}=e.detail,c={};return c[this.dataType]={[this.fieldName]:i.val(),lock_version:this.lockVersion,update_task:{index:n,checked:r,line_number:a,line_source:l}},this.onUpdate(),this.disableTaskListItems(e),o.a.patch(i.data("updateUrl")||s()("form.js-issuable-update").attr("action"),c).then((function(i){let{data:n}=i;return t.lockVersion=n.lock_version,t.enableTaskListItems(e),t.onSuccess(n)})).catch((function(i){let{response:n}=i;return t.enableTaskListItems(e),t.onError(n.data)}))}}},ceBC:function(e,t,i){var n=i("ueyC"),s=i("kTp2"),r=i("d8So"),a=Math.ceil,o=Math.max;e.exports=function(e,t,i){t=(i?s(e,t,i):void 0===t)?1:o(r(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var c=0,d=0,u=Array(a(l/t));c<l;)u[d++]=n(e,c,c+=t);return u}},d80H:function(e,t,i){"use strict";
/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),n.forEach((function(t){s(e,t,i[t])}))}return e}function o(e,t){if(null==e)return{};var i,n,s=function(e,t){if(null==e)return{};var i,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(s[i]=e[i]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i.r(t),i.d(t,"MultiDrag",(function(){return yt})),i.d(t,"Sortable",(function(){return Be})),i.d(t,"Swap",(function(){return lt}));function c(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var d=c(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),u=c(/Edge/i),p=c(/firefox/i),h=c(/safari/i)&&!c(/chrome/i)&&!c(/android/i),m=c(/iP(ad|od|hone)/i),f=c(/chrome/i)&&c(/android/i),g={capture:!1,passive:!1};function v(e,t,i){e.addEventListener(t,i,!d&&g)}function b(e,t,i){e.removeEventListener(t,i,!d&&g)}function y(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function k(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function w(e,t,i,n){if(e){i=i||document;do{if(null!=t&&(">"===t[0]?e.parentNode===i&&y(e,t):y(e,t))||n&&e===i)return e;if(e===i)break}while(e=k(e))}return null}var _,S=/\s+/g;function E(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(S," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(S," ")}}function D(e,t,i){var n=e&&e.style;if(n){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),void 0===t?i:i[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=i+("string"==typeof i?"":"px")}}function T(e,t){var i="";if("string"==typeof e)i=e;else do{var n=D(e,"transform");n&&"none"!==n&&(i=n+" "+i)}while(!t&&(e=e.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(i)}function C(e,t,i){if(e){var n=e.getElementsByTagName(t),s=0,r=n.length;if(i)for(;s<r;s++)i(n[s],s);return n}return[]}function I(){var e=document.scrollingElement;return e||document.documentElement}function O(e,t,i,n,s){if(e.getBoundingClientRect||e===window){var r,a,o,l,c,u,p;if(e!==window&&e!==I()?(a=(r=e.getBoundingClientRect()).top,o=r.left,l=r.bottom,c=r.right,u=r.height,p=r.width):(a=0,o=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,p=window.innerWidth),(t||i)&&e!==window&&(s=s||e.parentNode,!d))do{if(s&&s.getBoundingClientRect&&("none"!==D(s,"transform")||i&&"static"!==D(s,"position"))){var h=s.getBoundingClientRect();a-=h.top+parseInt(D(s,"border-top-width")),o-=h.left+parseInt(D(s,"border-left-width")),l=a+r.height,c=o+r.width;break}}while(s=s.parentNode);if(n&&e!==window){var m=T(s||e),f=m&&m.a,g=m&&m.d;m&&(l=(a/=g)+(u/=g),c=(o/=f)+(p/=f))}return{top:a,left:o,bottom:l,right:c,width:p,height:u}}}function j(e,t,i){for(var n=L(e,!0),s=O(e)[t];n;){var r=O(n)[i];if(!("top"===i||"left"===i?s>=r:s<=r))return n;if(n===I())break;n=L(n,!1)}return!1}function x(e,t,i){for(var n=0,s=0,r=e.children;s<r.length;){if("none"!==r[s].style.display&&r[s]!==Be.ghost&&r[s]!==Be.dragged&&w(r[s],i.draggable,e,!1)){if(n===t)return r[s];n++}s++}return null}function A(e,t){for(var i=e.lastElementChild;i&&(i===Be.ghost||"none"===D(i,"display")||t&&!y(i,t));)i=i.previousElementSibling;return i||null}function N(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Be.clone||t&&!y(e,t)||i++;return i}function F(e){var t=0,i=0,n=I();if(e)do{var s=T(e),r=s.a,a=s.d;t+=e.scrollLeft*r,i+=e.scrollTop*a}while(e!==n&&(e=e.parentNode));return[t,i]}function L(e,t){if(!e||!e.getBoundingClientRect)return I();var i=e,n=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var s=D(i);if(i.clientWidth<i.scrollWidth&&("auto"==s.overflowX||"scroll"==s.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==s.overflowY||"scroll"==s.overflowY)){if(!i.getBoundingClientRect||i===document.body)return I();if(n||t)return i;n=!0}}}while(i=i.parentNode);return I()}function P(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function R(e,t){return function(){if(!_){var i=arguments,n=this;1===i.length?e.call(n,i[0]):e.apply(n,i),_=setTimeout((function(){_=void 0}),t)}}}function q(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function $(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}function B(e,t){D(e,"position","absolute"),D(e,"top",t.top),D(e,"left",t.left),D(e,"width",t.width),D(e,"height",t.height)}function M(e){D(e,"position",""),D(e,"top",""),D(e,"left",""),D(e,"width",""),D(e,"height","")}var U="Sortable"+(new Date).getTime();function V(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==D(e,"display")&&e!==Be.ghost){t.push({target:e,rect:O(e)});var i=a({},t[t.length-1].rect);if(e.thisAnimationDuration){var n=T(e,!0);n&&(i.top-=n.f,i.left-=n.e)}e.fromRect=i}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var i in e)if(e.hasOwnProperty(i))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[i][n])return Number(i);return-1}(t,{target:e}),1)},animateAll:function(i){var n=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof i&&i());var s=!1,r=0;t.forEach((function(e){var t=0,i=e.target,a=i.fromRect,o=O(i),l=i.prevFromRect,c=i.prevToRect,d=e.rect,u=T(i,!0);u&&(o.top-=u.f,o.left-=u.e),i.toRect=o,i.thisAnimationDuration&&P(l,o)&&!P(a,o)&&(d.top-o.top)/(d.left-o.left)==(a.top-o.top)/(a.left-o.left)&&(t=function(e,t,i,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*n.animation}(d,l,c,n.options)),P(o,a)||(i.prevFromRect=a,i.prevToRect=o,t||(t=n.options.animation),n.animate(i,d,o,t)),t&&(s=!0,r=Math.max(r,t),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),t),i.thisAnimationDuration=t)})),clearTimeout(e),s?e=setTimeout((function(){"function"==typeof i&&i()}),r):"function"==typeof i&&i(),t=[]},animate:function(e,t,i,n){if(n){D(e,"transition",""),D(e,"transform","");var s=T(this.el),r=s&&s.a,a=s&&s.d,o=(t.left-i.left)/(r||1),l=(t.top-i.top)/(a||1);e.animatingX=!!o,e.animatingY=!!l,D(e,"transform","translate3d("+o+"px,"+l+"px,0)"),function(e){e.offsetWidth}(e),D(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),D(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){D(e,"transition",""),D(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),n)}}}}var z=[],W={initializeByDefault:!0},H={mount:function(e){for(var t in W)W.hasOwnProperty(t)&&!(t in e)&&(e[t]=W[t]);z.push(e)},pluginEvent:function(e,t,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var s=e+"Global";z.forEach((function(n){t[n.pluginName]&&(t[n.pluginName][s]&&t[n.pluginName][s](a({sortable:t},i)),t.options[n.pluginName]&&t[n.pluginName][e]&&t[n.pluginName][e](a({sortable:t},i)))}))},initializePlugins:function(e,t,i,n){for(var s in z.forEach((function(n){var s=n.pluginName;if(e.options[s]||n.initializeByDefault){var a=new n(e,t,e.options);a.sortable=e,a.options=e.options,e[s]=a,r(i,a.defaults)}})),e.options)if(e.options.hasOwnProperty(s)){var a=this.modifyOption(e,s,e.options[s]);void 0!==a&&(e.options[s]=a)}},getEventProperties:function(e,t){var i={};return z.forEach((function(n){"function"==typeof n.eventProperties&&r(i,n.eventProperties.call(t[n.pluginName],e))})),i},modifyOption:function(e,t,i){var n;return z.forEach((function(s){e[s.pluginName]&&s.optionListeners&&"function"==typeof s.optionListeners[t]&&(n=s.optionListeners[t].call(e[s.pluginName],i))})),n}};function G(e){var t=e.sortable,i=e.rootEl,n=e.name,s=e.targetEl,r=e.cloneEl,o=e.toEl,l=e.fromEl,c=e.oldIndex,p=e.newIndex,h=e.oldDraggableIndex,m=e.newDraggableIndex,f=e.originalEvent,g=e.putSortable,v=e.extraEventProperties;if(t=t||i&&i[U]){var b,y=t.options,k="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||d||u?(b=document.createEvent("Event")).initEvent(n,!0,!0):b=new CustomEvent(n,{bubbles:!0,cancelable:!0}),b.to=o||i,b.from=l||i,b.item=s||i,b.clone=r,b.oldIndex=c,b.newIndex=p,b.oldDraggableIndex=h,b.newDraggableIndex=m,b.originalEvent=f,b.pullMode=g?g.lastPutMode:void 0;var w=a({},v,H.getEventProperties(n,t));for(var _ in w)b[_]=w[_];i&&i.dispatchEvent(b),y[k]&&y[k].call(t,b)}}var K=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.evt,s=o(i,["evt"]);H.pluginEvent.bind(Be)(e,t,a({dragEl:Q,parentEl:X,ghostEl:J,rootEl:Z,nextEl:ee,lastDownEl:te,cloneEl:ie,cloneHidden:ne,dragStarted:ge,putSortable:ce,activeSortable:Be.active,originalEvent:n,oldIndex:se,oldDraggableIndex:ae,newIndex:re,newDraggableIndex:oe,hideGhostForTarget:Pe,unhideGhostForTarget:Re,cloneNowHidden:function(){ne=!0},cloneNowShown:function(){ne=!1},dispatchSortableEvent:function(e){Y({sortable:t,name:e,originalEvent:n})}},s))};function Y(e){G(a({putSortable:ce,cloneEl:ie,targetEl:Q,rootEl:Z,oldIndex:se,oldDraggableIndex:ae,newIndex:re,newDraggableIndex:oe},e))}var Q,X,J,Z,ee,te,ie,ne,se,re,ae,oe,le,ce,de,ue,pe,he,me,fe,ge,ve,be,ye,ke,we=!1,_e=!1,Se=[],Ee=!1,De=!1,Te=[],Ce=!1,Ie=[],Oe="undefined"!=typeof document,je=m,xe=u||d?"cssFloat":"float",Ae=Oe&&!f&&!m&&"draggable"in document.createElement("div"),Ne=function(){if(Oe){if(d)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Fe=function(e,t){var i=D(e),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),s=x(e,0,t),r=x(e,1,t),a=s&&D(s),o=r&&D(r),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+O(s).width,c=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+O(r).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&"none"!==a.float){var d="left"===a.float?"left":"right";return!r||"both"!==o.clear&&o.clear!==d?"horizontal":"vertical"}return s&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=n&&"none"===i[xe]||r&&"none"===i[xe]&&l+c>n)?"vertical":"horizontal"},Le=function(e){function t(e,i){return function(n,s,r,a){var o=n.options.group.name&&s.options.group.name&&n.options.group.name===s.options.group.name;if(null==e&&(i||o))return!0;if(null==e||!1===e)return!1;if(i&&"clone"===e)return e;if("function"==typeof e)return t(e(n,s,r,a),i)(n,s,r,a);var l=(i?n:s).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var i={},s=e.group;s&&"object"==n(s)||(s={name:s}),i.name=s.name,i.checkPull=t(s.pull,!0),i.checkPut=t(s.put),i.revertClone=s.revertClone,e.group=i},Pe=function(){!Ne&&J&&D(J,"display","none")},Re=function(){!Ne&&J&&D(J,"display","")};Oe&&document.addEventListener("click",(function(e){if(_e)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),_e=!1,!1}),!0);var qe=function(e){if(Q){e=e.touches?e.touches[0]:e;var t=(s=e.clientX,r=e.clientY,Se.some((function(e){if(!A(e)){var t=O(e),i=e[U].options.emptyInsertThreshold,n=s>=t.left-i&&s<=t.right+i,o=r>=t.top-i&&r<=t.bottom+i;return i&&n&&o?a=e:void 0}})),a);if(t){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[U]._onDragOver(i)}}var s,r,a},$e=function(e){Q&&Q.parentNode[U]._isOutsideThisEl(e.target)};function Be(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=r({},t),e[U]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Fe(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Be.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var n in H.initializePlugins(this,e,i),i)!(n in t)&&(t[n]=i[n]);for(var s in Le(t),this)"_"===s.charAt(0)&&"function"==typeof this[s]&&(this[s]=this[s].bind(this));this.nativeDraggable=!t.forceFallback&&Ae,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?v(e,"pointerdown",this._onTapStart):(v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Se.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),r(this,V())}function Me(e,t,i,n,s,r,a,o){var l,c,p=e[U],h=p.options.onMove;return!window.CustomEvent||d||u?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=i,l.draggedRect=n,l.related=s||t,l.relatedRect=r||O(t),l.willInsertAfter=o,l.originalEvent=a,e.dispatchEvent(l),h&&(c=h.call(p,l,a)),c}function Ue(e){e.draggable=!1}function Ve(){Ce=!1}function ze(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;i--;)n+=t.charCodeAt(i);return n.toString(36)}function We(e){return setTimeout(e,0)}function He(e){return clearTimeout(e)}Be.prototype={constructor:Be,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ve=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,Q):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,n=this.options,s=n.preventOnFilter,r=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,o=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||o,c=n.filter;if(function(e){Ie.length=0;var t=e.getElementsByTagName("input"),i=t.length;for(;i--;){var n=t[i];n.checked&&Ie.push(n)}}(i),!Q&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||n.disabled||l.isContentEditable||(o=w(o,n.draggable,i,!1))&&o.animated||te===o)){if(se=N(o),ae=N(o,n.draggable),"function"==typeof c){if(c.call(this,e,o,this))return Y({sortable:t,rootEl:l,name:"filter",targetEl:o,toEl:i,fromEl:i}),K("filter",t,{evt:e}),void(s&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(n){if(n=w(l,n.trim(),i,!1))return Y({sortable:t,rootEl:n,name:"filter",targetEl:o,fromEl:i,toEl:i}),K("filter",t,{evt:e}),!0}))))return void(s&&e.cancelable&&e.preventDefault());n.handle&&!w(l,n.handle,i,!1)||this._prepareDragStart(e,a,o)}}},_prepareDragStart:function(e,t,i){var n,s=this,r=s.el,a=s.options,o=r.ownerDocument;if(i&&!Q&&i.parentNode===r){var l=O(i);if(Z=r,X=(Q=i).parentNode,ee=Q.nextSibling,te=i,le=a.group,Be.dragged=Q,de={target:Q,clientX:(t||e).clientX,clientY:(t||e).clientY},me=de.clientX-l.left,fe=de.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Q.style["will-change"]="all",n=function(){K("delayEnded",s,{evt:e}),Be.eventCanceled?s._onDrop():(s._disableDelayedDragEvents(),!p&&s.nativeDraggable&&(Q.draggable=!0),s._triggerDragStart(e,t),Y({sortable:s,name:"choose",originalEvent:e}),E(Q,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){C(Q,e.trim(),Ue)})),v(o,"dragover",qe),v(o,"mousemove",qe),v(o,"touchmove",qe),v(o,"mouseup",s._onDrop),v(o,"touchend",s._onDrop),v(o,"touchcancel",s._onDrop),p&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Q.draggable=!0),K("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(u||d))n();else{if(Be.eventCanceled)return void this._onDrop();v(o,"mouseup",s._disableDelayedDrag),v(o,"touchend",s._disableDelayedDrag),v(o,"touchcancel",s._disableDelayedDrag),v(o,"mousemove",s._delayedDragTouchMoveHandler),v(o,"touchmove",s._delayedDragTouchMoveHandler),a.supportPointer&&v(o,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(n,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Q&&Ue(Q),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._disableDelayedDrag),b(e,"touchend",this._disableDelayedDrag),b(e,"touchcancel",this._disableDelayedDrag),b(e,"mousemove",this._delayedDragTouchMoveHandler),b(e,"touchmove",this._delayedDragTouchMoveHandler),b(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):v(document,t?"touchmove":"mousemove",this._onTouchMove):(v(Q,"dragend",this),v(Z,"dragstart",this._onDragStart));try{document.selection?We((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(we=!1,Z&&Q){K("dragStarted",this,{evt:t}),this.nativeDraggable&&v(document,"dragover",$e);var i=this.options;!e&&E(Q,i.dragClass,!1),E(Q,i.ghostClass,!0),Be.active=this,e&&this._appendGhost(),Y({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ue){this._lastX=ue.clientX,this._lastY=ue.clientY,Pe();for(var e=document.elementFromPoint(ue.clientX,ue.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ue.clientX,ue.clientY))!==t;)t=e;if(Q.parentNode[U]._isOutsideThisEl(e),t)do{if(t[U]){if(t[U]._onDragOver({clientX:ue.clientX,clientY:ue.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Re()}},_onTouchMove:function(e){if(de){var t=this.options,i=t.fallbackTolerance,n=t.fallbackOffset,s=e.touches?e.touches[0]:e,r=J&&T(J,!0),a=J&&r&&r.a,o=J&&r&&r.d,l=je&&ke&&F(ke),c=(s.clientX-de.clientX+n.x)/(a||1)+(l?l[0]-Te[0]:0)/(a||1),d=(s.clientY-de.clientY+n.y)/(o||1)+(l?l[1]-Te[1]:0)/(o||1);if(!Be.active&&!we){if(i&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(J){r?(r.e+=c-(pe||0),r.f+=d-(he||0)):r={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");D(J,"webkitTransform",u),D(J,"mozTransform",u),D(J,"msTransform",u),D(J,"transform",u),pe=c,he=d,ue=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!J){var e=this.options.fallbackOnBody?document.body:Z,t=O(Q,!0,je,!0,e),i=this.options;if(je){for(ke=e;"static"===D(ke,"position")&&"none"===D(ke,"transform")&&ke!==document;)ke=ke.parentNode;ke!==document.body&&ke!==document.documentElement?(ke===document&&(ke=I()),t.top+=ke.scrollTop,t.left+=ke.scrollLeft):ke=I(),Te=F(ke)}E(J=Q.cloneNode(!0),i.ghostClass,!1),E(J,i.fallbackClass,!0),E(J,i.dragClass,!0),D(J,"transition",""),D(J,"transform",""),D(J,"box-sizing","border-box"),D(J,"margin",0),D(J,"top",t.top),D(J,"left",t.left),D(J,"width",t.width),D(J,"height",t.height),D(J,"opacity","0.8"),D(J,"position",je?"absolute":"fixed"),D(J,"zIndex","100000"),D(J,"pointerEvents","none"),Be.ghost=J,e.appendChild(J),D(J,"transform-origin",me/parseInt(J.style.width)*100+"% "+fe/parseInt(J.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,n=e.dataTransfer,s=i.options;K("dragStart",this,{evt:e}),Be.eventCanceled?this._onDrop():(K("setupClone",this),Be.eventCanceled||((ie=$(Q)).draggable=!1,ie.style["will-change"]="",this._hideClone(),E(ie,this.options.chosenClass,!1),Be.clone=ie),i.cloneId=We((function(){K("clone",i),Be.eventCanceled||(i.options.removeCloneOnHide||Z.insertBefore(ie,Q),i._hideClone(),Y({sortable:i,name:"clone"}))})),!t&&E(Q,s.dragClass,!0),t?(_e=!0,i._loopId=setInterval(i._emulateDragOver,50)):(b(document,"mouseup",i._onDrop),b(document,"touchend",i._onDrop),b(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",s.setData&&s.setData.call(i,n,Q)),v(document,"drop",i),D(Q,"transform","translateZ(0)")),we=!0,i._dragStartId=We(i._dragStarted.bind(i,t,e)),v(document,"selectstart",i),ge=!0,h&&D(document.body,"user-select","none"))},_onDragOver:function(e){var t,i,n,s,r=this.el,o=e.target,l=this.options,c=l.group,d=Be.active,u=le===c,p=l.sort,h=ce||d,m=this,f=!1;if(!Ce){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),o=w(o,l.draggable,r,!0),P("dragOver"),Be.eventCanceled)return f;if(Q.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||m._ignoreWhileAnimating===o)return $(!1);if(_e=!1,d&&!l.disabled&&(u?p||(n=!Z.contains(Q)):ce===this||(this.lastPutMode=le.checkPull(this,d,Q,e))&&c.checkPut(this,d,Q,e))){if(s="vertical"===this._getDirection(e,o),t=O(Q),P("dragOverValid"),Be.eventCanceled)return f;if(n)return X=Z,R(),this._hideClone(),P("revert"),Be.eventCanceled||(ee?Z.insertBefore(Q,ee):Z.appendChild(Q)),$(!0);var g=A(r,l.draggable);if(!g||function(e,t,i){var n=O(A(i.el,i.options.draggable));return t?e.clientX>n.right+10||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+10}(e,s,this)&&!g.animated){if(g===Q)return $(!1);if(g&&r===e.target&&(o=g),o&&(i=O(o)),!1!==Me(Z,r,Q,t,o,i,e,!!o))return R(),r.appendChild(Q),X=r,B(),$(!0)}else if(o.parentNode===r){i=O(o);var v,b,y,k=Q.parentNode!==r,_=!function(e,t,i){var n=i?e.left:e.top,s=i?e.right:e.bottom,r=i?e.width:e.height,a=i?t.left:t.top,o=i?t.right:t.bottom,l=i?t.width:t.height;return n===a||s===o||n+r/2===a+l/2}(Q.animated&&Q.toRect||t,o.animated&&o.toRect||i,s),S=s?"top":"left",T=j(o,"top","top")||j(Q,"top","top"),C=T?T.scrollTop:void 0;if(ve!==o&&(b=i[S],Ee=!1,De=!_&&l.invertSwap||k),0!==(v=function(e,t,i,n,s,r,a,o){var l=n?e.clientY:e.clientX,c=n?i.height:i.width,d=n?i.top:i.left,u=n?i.bottom:i.right,p=!1;if(!a)if(o&&ye<c*s){if(!Ee&&(1===be?l>d+c*r/2:l<u-c*r/2)&&(Ee=!0),Ee)p=!0;else if(1===be?l<d+ye:l>u-ye)return-be}else if(l>d+c*(1-s)/2&&l<u-c*(1-s)/2)return function(e){return N(Q)<N(e)?1:-1}(t);if((p=p||a)&&(l<d+c*r/2||l>u-c*r/2))return l>d+c/2?1:-1;return 0}(e,o,i,s,_?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,De,ve===o))){var I=N(Q);do{I-=v,y=X.children[I]}while(y&&("none"===D(y,"display")||y===J))}if(0===v||y===o)return $(!1);ve=o,be=v;var x=o.nextElementSibling,F=!1,L=Me(Z,r,Q,t,o,i,e,F=1===v);if(!1!==L)return 1!==L&&-1!==L||(F=1===L),Ce=!0,setTimeout(Ve,30),R(),F&&!x?r.appendChild(Q):o.parentNode.insertBefore(Q,F?x:o),T&&q(T,0,C-T.scrollTop),X=Q.parentNode,void 0===b||De||(ye=Math.abs(b-O(o)[S])),B(),$(!0)}if(r.contains(Q))return $(!1)}return!1}function P(l,c){K(l,m,a({evt:e,isOwner:u,axis:s?"vertical":"horizontal",revert:n,dragRect:t,targetRect:i,canSort:p,fromSortable:h,target:o,completed:$,onMove:function(i,n){return Me(Z,r,Q,t,i,O(i),e,n)},changed:B},c))}function R(){P("dragOverAnimationCapture"),m.captureAnimationState(),m!==h&&h.captureAnimationState()}function $(t){return P("dragOverCompleted",{insertion:t}),t&&(u?d._hideClone():d._showClone(m),m!==h&&(E(Q,ce?ce.options.ghostClass:d.options.ghostClass,!1),E(Q,l.ghostClass,!0)),ce!==m&&m!==Be.active?ce=m:m===Be.active&&ce&&(ce=null),h===m&&(m._ignoreWhileAnimating=o),m.animateAll((function(){P("dragOverAnimationComplete"),m._ignoreWhileAnimating=null})),m!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(o===Q&&!Q.animated||o===r&&!o.animated)&&(ve=null),l.dragoverBubble||e.rootEl||o===document||(Q.parentNode[U]._isOutsideThisEl(e.target),!t&&qe(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function B(){re=N(Q),oe=N(Q,l.draggable),Y({sortable:m,name:"change",toEl:r,newIndex:re,newDraggableIndex:oe,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",qe),b(document,"mousemove",qe),b(document,"touchmove",qe)},_offUpEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._onDrop),b(e,"touchend",this._onDrop),b(e,"pointerup",this._onDrop),b(e,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;re=N(Q),oe=N(Q,i.draggable),K("drop",this,{evt:e}),X=Q&&Q.parentNode,re=N(Q),oe=N(Q,i.draggable),Be.eventCanceled||(we=!1,De=!1,Ee=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),He(this.cloneId),He(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),h&&D(document.body,"user-select",""),D(Q,"transform",""),e&&(ge&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),J&&J.parentNode&&J.parentNode.removeChild(J),(Z===X||ce&&"clone"!==ce.lastPutMode)&&ie&&ie.parentNode&&ie.parentNode.removeChild(ie),Q&&(this.nativeDraggable&&b(Q,"dragend",this),Ue(Q),Q.style["will-change"]="",ge&&!we&&E(Q,ce?ce.options.ghostClass:this.options.ghostClass,!1),E(Q,this.options.chosenClass,!1),Y({sortable:this,name:"unchoose",toEl:X,newIndex:null,newDraggableIndex:null,originalEvent:e}),Z!==X?(re>=0&&(Y({rootEl:X,name:"add",toEl:X,fromEl:Z,originalEvent:e}),Y({sortable:this,name:"remove",toEl:X,originalEvent:e}),Y({rootEl:X,name:"sort",toEl:X,fromEl:Z,originalEvent:e}),Y({sortable:this,name:"sort",toEl:X,originalEvent:e})),ce&&ce.save()):re!==se&&re>=0&&(Y({sortable:this,name:"update",toEl:X,originalEvent:e}),Y({sortable:this,name:"sort",toEl:X,originalEvent:e})),Be.active&&(null!=re&&-1!==re||(re=se,oe=ae),Y({sortable:this,name:"end",toEl:X,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){K("nulling",this),Z=Q=X=J=ee=ie=te=ne=de=ue=ge=re=oe=se=ae=ve=be=ce=le=Be.dragged=Be.ghost=Be.clone=Be.active=null,Ie.forEach((function(e){e.checked=!0})),Ie.length=pe=he=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Q&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],i=this.el.children,n=0,s=i.length,r=this.options;n<s;n++)w(e=i[n],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||ze(e));return t},sort:function(e){var t={},i=this.el;this.toArray().forEach((function(e,n){var s=i.children[n];w(s,this.options.draggable,i,!1)&&(t[e]=s)}),this),e.forEach((function(e){t[e]&&(i.removeChild(t[e]),i.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return w(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(void 0===t)return i[e];var n=H.modifyOption(this,e,t);i[e]=void 0!==n?n:t,"group"===e&&Le(i)},destroy:function(){K("destroy",this);var e=this.el;e[U]=null,b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart),b(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Se.splice(Se.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ne){if(K("hideClone",this),Be.eventCanceled)return;D(ie,"display","none"),this.options.removeCloneOnHide&&ie.parentNode&&ie.parentNode.removeChild(ie),ne=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ne){if(K("showClone",this),Be.eventCanceled)return;Z.contains(Q)&&!this.options.group.revertClone?Z.insertBefore(ie,Q):ee?Z.insertBefore(ie,ee):Z.appendChild(ie),this.options.group.revertClone&&this.animate(Q,ie),D(ie,"display",""),ne=!1}}else this._hideClone()}},Oe&&v(document,"touchmove",(function(e){(Be.active||we)&&e.cancelable&&e.preventDefault()})),Be.utils={on:v,off:b,css:D,find:C,is:function(e,t){return!!w(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},throttle:R,closest:w,toggleClass:E,clone:$,index:N,nextTick:We,cancelNextTick:He,detectDirection:Fe,getChild:x},Be.get=function(e){return e[U]},Be.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Be.utils=a({},Be.utils,e.utils)),H.mount(e)}))},Be.create=function(e,t){return new Be(e,t)},Be.version="1.10.2";var Ge,Ke,Ye,Qe,Xe,Je,Ze=[],et=!1;function tt(){Ze.forEach((function(e){clearInterval(e.pid)})),Ze=[]}function it(){clearInterval(Je)}var nt,st=R((function(e,t,i,n){if(t.scroll){var s,r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,o=t.scrollSensitivity,l=t.scrollSpeed,c=I(),d=!1;Ke!==i&&(Ke=i,tt(),Ge=t.scroll,s=t.scrollFn,!0===Ge&&(Ge=L(i,!0)));var u=0,p=Ge;do{var h=p,m=O(h),f=m.top,g=m.bottom,v=m.left,b=m.right,y=m.width,k=m.height,w=void 0,_=void 0,S=h.scrollWidth,E=h.scrollHeight,T=D(h),C=h.scrollLeft,j=h.scrollTop;h===c?(w=y<S&&("auto"===T.overflowX||"scroll"===T.overflowX||"visible"===T.overflowX),_=k<E&&("auto"===T.overflowY||"scroll"===T.overflowY||"visible"===T.overflowY)):(w=y<S&&("auto"===T.overflowX||"scroll"===T.overflowX),_=k<E&&("auto"===T.overflowY||"scroll"===T.overflowY));var x=w&&(Math.abs(b-r)<=o&&C+y<S)-(Math.abs(v-r)<=o&&!!C),A=_&&(Math.abs(g-a)<=o&&j+k<E)-(Math.abs(f-a)<=o&&!!j);if(!Ze[u])for(var N=0;N<=u;N++)Ze[N]||(Ze[N]={});Ze[u].vx==x&&Ze[u].vy==A&&Ze[u].el===h||(Ze[u].el=h,Ze[u].vx=x,Ze[u].vy=A,clearInterval(Ze[u].pid),0==x&&0==A||(d=!0,Ze[u].pid=setInterval(function(){n&&0===this.layer&&Be.active._onTouchMove(Xe);var t=Ze[this.layer].vy?Ze[this.layer].vy*l:0,i=Ze[this.layer].vx?Ze[this.layer].vx*l:0;"function"==typeof s&&"continue"!==s.call(Be.dragged.parentNode[U],i,t,e,Xe,Ze[this.layer].el)||q(Ze[this.layer].el,i,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&p!==c&&(p=L(p,!1)));et=d}}),30),rt=function(e){var t=e.originalEvent,i=e.putSortable,n=e.dragEl,s=e.activeSortable,r=e.dispatchSortableEvent,a=e.hideGhostForTarget,o=e.unhideGhostForTarget;if(t){var l=i||s;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);o(),l&&!l.el.contains(d)&&(r("spill"),this.onSpill({dragEl:n,putSortable:i}))}};function at(){}function ot(){}function lt(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;nt=t},dragOverValid:function(e){var t=e.completed,i=e.target,n=e.onMove,s=e.activeSortable,r=e.changed,a=e.cancel;if(s.options.swap){var o=this.sortable.el,l=this.options;if(i&&i!==o){var c=nt;!1!==n(i)?(E(i,l.swapClass,!0),nt=i):nt=null,c&&c!==nt&&E(c,l.swapClass,!1)}r(),t(!0),a()}},drop:function(e){var t=e.activeSortable,i=e.putSortable,n=e.dragEl,s=i||this.sortable,r=this.options;nt&&E(nt,r.swapClass,!1),nt&&(r.swap||i&&i.options.swap)&&n!==nt&&(s.captureAnimationState(),s!==t&&t.captureAnimationState(),function(e,t){var i,n,s=e.parentNode,r=t.parentNode;if(!s||!r||s.isEqualNode(t)||r.isEqualNode(e))return;i=N(e),n=N(t),s.isEqualNode(r)&&i<n&&n++;s.insertBefore(t,s.children[i]),r.insertBefore(e,r.children[n])}(n,nt),s.animateAll(),s!==t&&t.animateAll())},nulling:function(){nt=null}},r(e,{pluginName:"swap",eventProperties:function(){return{swapItem:nt}}})}at.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=x(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:rt},r(at,{pluginName:"revertOnSpill"}),ot.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:rt},r(ot,{pluginName:"removeOnSpill"});var ct,dt,ut,pt,ht,mt=[],ft=[],gt=!1,vt=!1,bt=!1;function yt(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?v(document,"pointerup",this._deselectMultiDrag):(v(document,"mouseup",this._deselectMultiDrag),v(document,"touchend",this._deselectMultiDrag)),v(document,"keydown",this._checkKeyDown),v(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,i){var n="";mt.length&&dt===e?mt.forEach((function(e,t){n+=(t?", ":"")+e.textContent})):n=i.textContent,t.setData("Text",n)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;ut=t},delayEnded:function(){this.isMultiDrag=~mt.indexOf(ut)},setupClone:function(e){var t=e.sortable,i=e.cancel;if(this.isMultiDrag){for(var n=0;n<mt.length;n++)ft.push($(mt[n])),ft[n].sortableIndex=mt[n].sortableIndex,ft[n].draggable=!1,ft[n].style["will-change"]="",E(ft[n],this.options.selectedClass,!1),mt[n]===ut&&E(ft[n],this.options.chosenClass,!1);t._hideClone(),i()}},clone:function(e){var t=e.sortable,i=e.rootEl,n=e.dispatchSortableEvent,s=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||mt.length&&dt===t&&(kt(!0,i),n("clone"),s()))},showClone:function(e){var t=e.cloneNowShown,i=e.rootEl,n=e.cancel;this.isMultiDrag&&(kt(!1,i),ft.forEach((function(e){D(e,"display","")})),t(),ht=!1,n())},hideClone:function(e){var t=this,i=(e.sortable,e.cloneNowHidden),n=e.cancel;this.isMultiDrag&&(ft.forEach((function(e){D(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),i(),ht=!0,n())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&dt&&dt.multiDrag._deselectMultiDrag(),mt.forEach((function(e){e.sortableIndex=N(e)})),mt=mt.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),bt=!0},dragStarted:function(e){var t=this,i=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){mt.forEach((function(e){e!==ut&&D(e,"position","absolute")}));var n=O(ut,!1,!0,!0);mt.forEach((function(e){e!==ut&&B(e,n)})),vt=!0,gt=!0}i.animateAll((function(){vt=!1,gt=!1,t.options.animation&&mt.forEach((function(e){M(e)})),t.options.sort&&wt()}))}},dragOver:function(e){var t=e.target,i=e.completed,n=e.cancel;vt&&~mt.indexOf(t)&&(i(!1),n())},revert:function(e){var t=e.fromSortable,i=e.rootEl,n=e.sortable,s=e.dragRect;mt.length>1&&(mt.forEach((function(e){n.addAnimationState({target:e,rect:vt?O(e):s}),M(e),e.fromRect=s,t.removeAnimationState(e)})),vt=!1,function(e,t){mt.forEach((function(i,n){var s=t.children[i.sortableIndex+(e?Number(n):0)];s?t.insertBefore(i,s):t.appendChild(i)}))}(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(e){var t=e.sortable,i=e.isOwner,n=e.insertion,s=e.activeSortable,r=e.parentEl,a=e.putSortable,o=this.options;if(n){if(i&&s._hideClone(),gt=!1,o.animation&&mt.length>1&&(vt||!i&&!s.options.sort&&!a)){var l=O(ut,!1,!0,!0);mt.forEach((function(e){e!==ut&&(B(e,l),r.appendChild(e))})),vt=!0}if(!i)if(vt||wt(),mt.length>1){var c=ht;s._showClone(t),s.options.animation&&!ht&&c&&ft.forEach((function(e){s.addAnimationState({target:e,rect:pt}),e.fromRect=pt,e.thisAnimationDuration=null}))}else s._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,i=e.isOwner,n=e.activeSortable;if(mt.forEach((function(e){e.thisAnimationDuration=null})),n.options.animation&&!i&&n.multiDrag.isMultiDrag){pt=r({},t);var s=T(ut,!0);pt.top-=s.f,pt.left-=s.e}},dragOverAnimationComplete:function(){vt&&(vt=!1,wt())},drop:function(e){var t=e.originalEvent,i=e.rootEl,n=e.parentEl,s=e.sortable,r=e.dispatchSortableEvent,a=e.oldIndex,o=e.putSortable,l=o||this.sortable;if(t){var c=this.options,d=n.children;if(!bt)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),E(ut,c.selectedClass,!~mt.indexOf(ut)),~mt.indexOf(ut))mt.splice(mt.indexOf(ut),1),ct=null,G({sortable:s,rootEl:i,name:"deselect",targetEl:ut,originalEvt:t});else{if(mt.push(ut),G({sortable:s,rootEl:i,name:"select",targetEl:ut,originalEvt:t}),t.shiftKey&&ct&&s.el.contains(ct)){var u,p,h=N(ct),m=N(ut);if(~h&&~m&&h!==m)for(m>h?(p=h,u=m):(p=m,u=h+1);p<u;p++)~mt.indexOf(d[p])||(E(d[p],c.selectedClass,!0),mt.push(d[p]),G({sortable:s,rootEl:i,name:"select",targetEl:d[p],originalEvt:t}))}else ct=ut;dt=l}if(bt&&this.isMultiDrag){if((n[U].options.sort||n!==i)&&mt.length>1){var f=O(ut),g=N(ut,":not(."+this.options.selectedClass+")");if(!gt&&c.animation&&(ut.thisAnimationDuration=null),l.captureAnimationState(),!gt&&(c.animation&&(ut.fromRect=f,mt.forEach((function(e){if(e.thisAnimationDuration=null,e!==ut){var t=vt?O(e):f;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),wt(),mt.forEach((function(e){d[g]?n.insertBefore(e,d[g]):n.appendChild(e),g++})),a===N(ut))){var v=!1;mt.forEach((function(e){e.sortableIndex===N(e)||(v=!0)})),v&&r("update")}mt.forEach((function(e){M(e)})),l.animateAll()}dt=l}(i===n||o&&"clone"!==o.lastPutMode)&&ft.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=bt=!1,ft.length=0},destroyGlobal:function(){this._deselectMultiDrag(),b(document,"pointerup",this._deselectMultiDrag),b(document,"mouseup",this._deselectMultiDrag),b(document,"touchend",this._deselectMultiDrag),b(document,"keydown",this._checkKeyDown),b(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==bt&&bt||dt!==this.sortable||e&&w(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;mt.length;){var t=mt[0];E(t,this.options.selectedClass,!1),mt.shift(),G({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},r(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[U];t&&t.options.multiDrag&&!~mt.indexOf(e)&&(dt&&dt!==t&&(dt.multiDrag._deselectMultiDrag(),dt=t),E(e,t.options.selectedClass,!0),mt.push(e))},deselect:function(e){var t=e.parentNode[U],i=mt.indexOf(e);t&&t.options.multiDrag&&~i&&(E(e,t.options.selectedClass,!1),mt.splice(i,1))}},eventProperties:function(){var e=this,t=[],i=[];return mt.forEach((function(n){var s;t.push({multiDragElement:n,index:n.sortableIndex}),s=vt&&n!==ut?-1:vt?N(n,":not(."+e.options.selectedClass+")"):N(n),i.push({multiDragElement:n,index:s})})),{items:l(mt),clones:[].concat(ft),oldIndicies:t,newIndicies:i}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function kt(e,t){ft.forEach((function(i,n){var s=t.children[i.sortableIndex+(e?Number(n):0)];s?t.insertBefore(i,s):t.appendChild(i)}))}function wt(){mt.forEach((function(e){e!==ut&&e.parentNode&&e.parentNode.removeChild(e)}))}Be.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):t.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),it(),tt(),clearTimeout(_),_=void 0},nulling:function(){Xe=Ke=Ge=et=Je=Ye=Qe=null,Ze.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var i=this,n=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,r=document.elementFromPoint(n,s);if(Xe=e,t||u||d||h){st(e,this.options,r,t);var a=L(r,!0);!et||Je&&n===Ye&&s===Qe||(Je&&it(),Je=setInterval((function(){var r=L(document.elementFromPoint(n,s),!0);r!==a&&(a=r,tt()),st(e,i.options,r,t)}),10),Ye=n,Qe=s)}else{if(!this.options.bubbleScroll||L(r,!0)===I())return void tt();st(e,this.options,L(r,!1),!1)}}},r(e,{pluginName:"scroll",initializeByDefault:!0})}),Be.mount(ot,at),t.default=Be},dNbP:function(e,t,i){"use strict";var n=i("CkNe"),s=i("t9l/");t.a={props:{discussionId:{type:String,required:!1,default:null},resolveDiscussion:{type:Boolean,required:!1,default:!1},isDraft:{type:Boolean,required:!1,default:!1}},computed:{...Object(n.d)(["isDiscussionResolved"]),resolvedStatusMessage(){let e;const t=this.isDiscussionResolved(this.draft?this.draft.discussion_id:this.discussionId),i=this.draft?this.draft.resolve_discussion:this.resolveDiscussion;if(!i||!t||this.$options.showStaysResolved)return i?e=t?Object(s.g)("MergeRequests|Thread stays resolved"):Object(s.g)("MergeRequests|Thread will be resolved"):t?e=Object(s.g)("MergeRequests|Thread will be unresolved"):this.$options.showStaysResolved&&(e=Object(s.g)("MergeRequests|Thread stays unresolved")),e},componentClasses(){return this.resolveDiscussion?"is-resolving-discussion":"is-unresolving-discussion"},resolveButtonTitle(){if(this.isDraft||this.discussionId)return this.resolvedStatusMessage;let e=Object(s.a)("Resolve thread");return this.resolvedBy&&(e=Object(s.h)(Object(s.a)("Resolved by %{name}"),{name:this.resolvedBy.name},!1)),e}},showStaysResolved:!0}},dTzf:function(e,t,i){"use strict";var n=i("RlQ7"),s=i.n(n),r=i("cuRJ"),a=i("ly/8"),o=i("dkv8"),l=i.n(o),c=i("/LsX"),d={components:{GlButton:r.a},directives:{GlTooltip:a.a},props:{text:{type:String,required:!1,default:""},id:{type:String,required:!1,default:function(){return s()("modal-copy-button-")}},container:{type:String,required:!1,default:""},cssClasses:{type:String,required:!1,default:""},modalId:{type:String,required:!1,default:""},target:{type:String,required:!1,default:""},title:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},tooltipContainer:{type:String,required:!1,default:null},category:{type:String,required:!1,default:"primary"},size:{type:String,required:!1,default:"medium"}},computed:{modalDomId(){return this.modalId?"#"+this.modalId:""}},mounted(){var e=this;this.$nextTick((function(){e.clipboard=new l.a(e.$el,{container:document.querySelector(e.modalDomId+" div.modal-content")||document.getElementById(e.container)||document.body}),e.clipboard.on("success",(function(t){e.$root.$emit(c.d,e.id),e.$emit("success",t),t.clearSelection(),t.trigger.blur()})).on("error",(function(t){return e.$emit("error",t)}))}))},destroyed(){this.clipboard&&this.clipboard.destroy()}},u=i("bPvS"),p=Object(u.a)(d,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{placement:e.tooltipPlacement,container:e.tooltipContainer},expression:"{ placement: tooltipPlacement, container: tooltipContainer }"}],class:e.cssClasses,attrs:{id:e.id,"data-clipboard-target":e.target,"data-clipboard-text":e.text,title:e.title,"aria-label":e.title,category:e.category,size:e.size,icon:"copy-to-clipboard"}},[e._t("default")],2)}),[],!1,null,null,null);t.a=p.exports},dX8G:function(e,t,i){"use strict";var n=i("CkNe"),s=i("Ks8L"),r=i("yZaS"),a=i("teVv"),o=i("rh11"),l=i("t9l/"),c=i("ZJPx");t.a={computed:{...Object(n.f)({noteableData:function(e){return e.notes.noteableData},notesData:function(e){return e.notes.notesData},withBatchComments:function(e){var t;return null===(t=e.batchComments)||void 0===t?void 0:t.withBatchComments}}),...Object(n.d)("diffs",["getDiffFileByHash"]),...Object(n.d)("batchComments",["shouldRenderDraftRowInDiscussion","draftForDiscussion"]),...Object(n.f)("diffs",["commit"])},methods:{...Object(n.c)("diffs",["cancelCommentForm"]),...Object(n.c)("batchComments",["addDraftToReview","saveDraft","insertDraftIntoDrafts"]),addReplyToReview(e,t){var i=this;const n=Object(s.b)({in_reply_to_discussion_id:this.discussion.reply_id,target_type:this.getNoteableData.targetType,notesData:this.notesData,draft_note:{note:e,resolve_discussion:t}});this.discussion.for_commit&&(n.note_project_id=this.discussion.project_id),this.isReplying=!1,this.saveDraft(n).then((function(){i.handleClearForm(i.discussion.line_code)})).catch((function(){Object(a.createAlert)({message:Object(l.g)("MergeRequests|An error occurred while saving the draft comment.")})}))},addToReview(e){var t,i,n=this;const o=this.line&&this.commentLineStart&&Object(c.b)(this.commentLineStart,this.line)||{},d=this.diffFileCommentForm?r.C:r.db,u=this.getDiffFileByHash(this.diffFileHash),p=Object(s.a)({note:e,notesData:this.notesData,noteableData:this.noteableData,noteableType:this.noteableType,noteTargetLine:this.noteTargetLine,diffViewType:this.diffViewType,diffFile:u,linePosition:this.position,positionType:d,...this.diffFileCommentForm,lineRange:o}),h=this.commit&&(null==this||null===(t=this.diffFile)||void 0===t||null===(i=t.diff_refs)||void 0===i?void 0:i.head_sha);return p.data.note.commit_id=h||null,this.saveDraft(p).then((function(){d===r.C?n.closeDiffFileCommentForm(n.diffFileHash):n.handleClearForm(n.line.line_code)})).catch((function(){Object(a.createAlert)({message:Object(l.g)("MergeRequests|An error occurred while saving the draft comment.")})}))},handleClearForm(e){var t=this;this.cancelCommentForm({lineCode:e,fileHash:this.diffFileHash}),this.$nextTick((function(){t.autosaveKey?Object(o.a)(t.autosaveKey):t.resetAutoSave()}))},showDraft(e){return this.withBatchComments&&this.shouldRenderDraftRowInDiscussion(e)}}}},dYBJ:function(e,t,i){"use strict";var n=i("cuRJ"),s=i("zLBL"),r=i("t9l/"),a={i18n:{unassigned:Object(r.a)("Unassigned")},components:{GlButton:n.a,GlLoadingIcon:s.a},inject:{canUpdate:{},isClassicSidebar:{default:!1}},props:{buttonId:{type:String,required:!1,default:""},title:{type:String,required:!1,default:""},loading:{type:Boolean,required:!1,default:!1},initialLoading:{type:Boolean,required:!1,default:!1},isDirty:{type:Boolean,required:!1,default:!1},tracking:{type:Object,required:!1,default:function(){return{event:null,label:null,property:null}}},canEdit:{type:Boolean,required:!1,default:!0},shouldShowConfirmationPopover:{type:Boolean,required:!1,default:!1}},data:()=>({edit:!1}),computed:{editButtonText(){return this.isDirty?Object(r.a)("Apply"):Object(r.a)("Edit")}},destroyed(){window.removeEventListener("click",this.collapseWhenOffClick),window.removeEventListener("keyup",this.collapseOnEscape)},methods:{collapseWhenOffClick(e){let{target:t}=e;this.$el.contains(t)||this.collapse()},collapseOnEscape(e){let{key:t}=e;"Escape"===t&&this.collapse()},expand(){this.edit||(this.canEdit&&this.canUpdate&&(this.edit=!0),this.$emit("open"),window.addEventListener("click",this.collapseWhenOffClick),window.addEventListener("keyup",this.collapseOnEscape))},collapse(){let{emitEvent:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.edit&&(this.edit=!1,e&&this.$emit("close"),window.removeEventListener("click",this.collapseWhenOffClick),window.removeEventListener("keyup",this.collapseOnEscape))},toggle(){let{emitEvent:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.shouldShowConfirmationPopover?this.$emit("edit-confirm"):this.edit?this.collapse({emitEvent:e}):this.expand()}}},o=i("bPvS"),l=Object(o.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"gl-display-flex gl-align-items-center gl-line-height-20 gl-text-gray-900 gl-font-weight-bold",on:{click:function(t){return t.target!==t.currentTarget?null:e.collapse.apply(null,arguments)}}},[i("span",{staticClass:"hide-collapsed",attrs:{"data-testid":"title"},on:{click:e.collapse}},[e._v("\n      "+e._s(e.title)+"\n    ")]),e._v(" "),e._t("title-extra"),e._v(" "),e.loading||e.initialLoading?i("gl-loading-icon",{staticClass:"gl-ml-2 hide-collapsed",attrs:{size:"sm",inline:""}}):e._e(),e._v(" "),e.loading&&e.isClassicSidebar?i("gl-loading-icon",{staticClass:"gl-mx-auto gl-my-0 hide-expanded",attrs:{size:"sm",inline:""}}):e._e(),e._v(" "),e._t("collapsed-right"),e._v(" "),e.canUpdate&&!e.initialLoading&&e.canEdit?i("gl-button",{staticClass:"gl-text-gray-900! gl-ml-auto hide-collapsed gl-mr-n2 shortcut-sidebar-dropdown-toggle",attrs:{id:e.buttonId,category:"tertiary",size:"small","data-testid":"edit-button","data-track-action":e.tracking.event,"data-track-label":e.tracking.label,"data-track-property":e.tracking.property,"data-qa-selector":"edit_link"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.toggle.apply(null,arguments)},click:e.toggle}},[e._v("\n      "+e._s(e.editButtonText)+"\n    ")]):e._e()],2),e._v(" "),e.initialLoading?e._e():[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.edit,expression:"!edit"}],staticClass:"gl-line-height-14",attrs:{"data-testid":"collapsed-content"}},[e._t("collapsed",(function(){return[e._v(e._s(e.__("None")))]}))],2),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"edit"}],class:{"gl-mt-3":!e.isClassicSidebar},attrs:{"data-testid":"expanded-content"}},[e._t("default",null,{edit:e.edit,toggle:e.toggle})],2)]],2)}),[],!1,null,null,null);t.a=l.exports},dkhw:function(e,t,i){"use strict";var n=i("H8gz"),s=i("F+K/"),r=i("zLBL"),a=i("9LGn"),o=i("ly/8"),l=i("CkNe"),c=i("t9l/"),d={safeHtmlConfig:{ADD_TAGS:["gl-emoji"]},components:{TimeAgoTooltip:i("LcVr").a,GitlabTeamMemberBadge:function(){return i.e(10).then(i.bind(null,"zcEJ"))},GlIcon:n.a,GlBadge:s.a,GlLoadingIcon:r.a},directives:{SafeHtml:a.a,GlTooltip:o.a},props:{author:{type:Object,required:!1,default:function(){return{}}},createdAt:{type:String,required:!1,default:null},actionText:{type:String,required:!1,default:""},noteId:{type:[String,Number],required:!1,default:null},noteableType:{type:String,required:!1,default:""},includeToggle:{type:Boolean,required:!1,default:!1},expanded:{type:Boolean,required:!1,default:!0},showSpinner:{type:Boolean,required:!1,default:!0},isInternalNote:{type:Boolean,required:!1,default:!1},isSystemNote:{type:Boolean,required:!1,default:!1}},data:()=>({isUsernameLinkHovered:!1}),computed:{toggleChevronIconName(){return this.expanded?"chevron-up":"chevron-down"},noteTimestampLink(){return this.noteId?"#note_"+this.noteId:void 0},hasAuthor(){return this.author&&Object.keys(this.author).length},authorLinkClasses(){return{hover:this.isUsernameLinkHovered,"text-underline":this.isUsernameLinkHovered,"author-name-link":!0,"js-user-link":!0}},authorName(){return this.author.name},internalNoteTooltip:()=>Object(c.g)("Notes|This internal note will always remain confidential")},methods:{...Object(l.c)(["setTargetNoteHash"]),handleToggle(){this.$emit("toggleHandler")},updateTargetNoteHash(){this.$store&&this.setTargetNoteHash(this.noteTimestampLink)},handleUsernameMouseEnter(){this.$refs.authorNameLink.dispatchEvent(new Event("mouseenter")),this.isUsernameLinkHovered=!0},handleUsernameMouseLeave(){this.$refs.authorNameLink.dispatchEvent(new Event("mouseleave")),this.isUsernameLinkHovered=!1}},i18n:{showThread:Object(c.a)("Show thread"),hideThread:Object(c.a)("Hide thread")}},u=i("bPvS"),p=Object(u.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"note-header-info"},[e.includeToggle?i("div",{ref:"discussionActions",staticClass:"discussion-actions"},[i("button",{staticClass:"note-action-button discussion-toggle-button js-vue-toggle-button",attrs:{type:"button","data-testid":"thread-toggle"},on:{click:e.handleToggle}},[i("gl-icon",{ref:"chevronIcon",attrs:{name:e.toggleChevronIconName}}),e._v(" "),e.expanded?[e._v("\n        "+e._s(e.$options.i18n.hideThread)+"\n      ")]:[e._v("\n        "+e._s(e.$options.i18n.showThread)+"\n      ")]],2)]):e._e(),e._v(" "),e.hasAuthor?[i("a",{ref:"authorNameLink",class:e.authorLinkClasses,attrs:{href:e.author.path,"data-user-id":e.author.id,"data-username":e.author.username}},[i("span",{staticClass:"note-header-author-name gl-font-weight-bold"},[e._v("\n        "+e._s(e.authorName)+"\n      ")])]),e._v(" "),e.isSystemNote?e._e():i("span",{staticClass:"text-nowrap author-username"},[i("a",{ref:"authorUsernameLink",staticClass:"author-username-link",attrs:{href:e.author.path},on:{mouseenter:e.handleUsernameMouseEnter,mouseleave:e.handleUsernameMouseLeave}},[i("span",{staticClass:"note-headline-light"},[e._v("@"+e._s(e.author.username))])]),e._v(" "),e._t("note-header-info"),e._v(" "),e.author&&e.author.is_gitlab_employee?i("gitlab-team-member-badge"):e._e()],2)]:i("span",[e._v(e._s(e.__("A deleted user")))]),e._v(" "),i("span",{staticClass:"note-headline-light note-headline-meta"},[i("span",{staticClass:"system-note-message",attrs:{"data-qa-selector":"system_note_content"}},[e._t("default")],2),e._v(" "),e.createdAt?[i("span",{ref:"actionText",staticClass:"system-note-separator"},[e.actionText?[e._v(e._s(e.actionText))]:e._e()],2),e._v(" "),e.noteTimestampLink?i("a",{ref:"noteTimestampLink",staticClass:"note-timestamp system-note-separator",attrs:{href:e.noteTimestampLink},on:{click:e.updateTargetNoteHash}},[i("time-ago-tooltip",{attrs:{time:e.createdAt,"tooltip-placement":"bottom"}})],1):i("time-ago-tooltip",{ref:"noteTimestamp",attrs:{time:e.createdAt,"tooltip-placement":"bottom"}})]:e._e(),e._v(" "),e.isInternalNote?i("gl-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip:tooltipcontainer.bottom",arg:"tooltipcontainer",modifiers:{bottom:!0}}],staticClass:"gl-ml-2",attrs:{"data-testid":"internal-note-indicator",variant:"warning",size:"sm",title:e.internalNoteTooltip}},[e._v("\n      "+e._s(e.__("Internal note"))+"\n    ")]):e._e(),e._v(" "),e._t("extra-controls"),e._v(" "),e.showSpinner?i("gl-loading-icon",{ref:"spinner",staticClass:"editing-spinner",attrs:{size:"sm",label:e.__("Comment is being updated")}}):e._e()],2)],2)}),[],!1,null,null,null);t.a=p.exports},dlq9:function(e,t,i){var n=i("vniq");e.exports=function(e,t,i){for(var s=-1,r=e.criteria,a=t.criteria,o=r.length,l=i.length;++s<o;){var c=n(r[s],a[s]);if(c)return s>=l?c:c*("desc"==i[s]?-1:1)}return e.index-t.index}},eSRO:function(e,t,i){"use strict";i.d(t,"a",(function(){return ee}));var n=i("AaGz"),s=i.n(n),r=(i("JHu5"),i("3R5X"),i("XUYm"),i("h8Et"),i("uHfJ"),i("R0RX"),i("QdQS")),a=i("59gv"),o=i("teVv"),l=i("AiIx"),c=i("t9l/"),d=i("4zBw"),u=i("yYHy");let p=document;var h=new class{set container(e){p=e}get container(){return p}},m=(i("ylB9"),i("XexO"),i("tEGv")),f=i("F87h");var g={_loadData:function(e,t,i){if(t.loadingTemplate){var n=i.hook.list.list.querySelector("[data-loading-template]");n&&(n.outerHTML=i.listTemplate)}i.destroyed||i.hook.list[t.method].call(i.hook.list,e)},preprocessing:function(e,t){let i=t;return e.preprocessing&&!t.preprocessed&&(i=e.preprocessing(t),f.a.override(e.endpoint,i)),i},init:function(e){var t=this;t.destroyed=!1;var i=e.config.Ajax;if(this.hook=e,i&&i.endpoint&&i.method&&("setData"===i.method||"addData"===i.method)){if(i.loadingTemplate){var n=e.list.list.querySelector("[data-dynamic]"),s=document.createElement("div");s.innerHTML=i.loadingTemplate,s.setAttribute("data-loading-template",""),this.listTemplate=n.outerHTML,n.outerHTML=s.outerHTML}return f.a.retrieve(i.endpoint).then(t.preprocessing.bind(null,i)).then((function(e){return t._loadData(e,i,t)})).catch(i.onError)}},destroy:function(){this.destroyed=!0}};i("ujLG"),i("HaUQ");var v,b,y,k={keydown:function(e){if(!this.destroyed){var t,i=e.detail.hook.list,n=i.data,s=e.detail.hook.trigger.value.toLowerCase(),r=e.detail.hook.config.Filter,a=[];n&&(t=r&&r.filterFunction&&"function"==typeof r.filterFunction?r.filterFunction:function(e){return e.droplab_hidden=-1===e[r.template].toLowerCase().indexOf(s),e},n.filter((function(e){return!e.droplab_hidden})).length!==(a=n.map((function(e){return t(e,s)}))).filter((function(e){return!e.droplab_hidden})).length&&(i.setData(a),i.currentIndex=0))}},debounceKeydown:function(e){[13,16,17,18,20,37,38,39,40,91,92,93].indexOf(e.detail.which||e.detail.keyCode)>-1||(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.keydown.bind(this,e),200))},init:function(e){var t=e.config.Filter;t&&t.template&&(this.hook=e,this.destroyed=!1,this.eventWrapper={},this.eventWrapper.debounceKeydown=this.debounceKeydown.bind(this),this.hook.trigger.addEventListener("keydown.dl",this.eventWrapper.debounceKeydown),this.hook.trigger.addEventListener("mousedown.dl",this.eventWrapper.debounceKeydown))},destroy:function(){this.timeout&&clearTimeout(this.timeout),this.destroyed=!0,this.hook.trigger.removeEventListener("keydown.dl",this.eventWrapper.debounceKeydown),this.hook.trigger.removeEventListener("mousedown.dl",this.eventWrapper.debounceKeydown)}},w=i("+F8P"),_=i("w7Q3"),S=i("oj/M"),E=i("A1CF"),D=i.n(E),T=(i("WmlO"),i("W9Nl"),i("8GQU")),C=i("STaY");class I{constructor(e,t,i){this.tokenValue=e,this.tokenType=t,this.tokenOperator=i}render(e,t){const{tokenType:i,tokenValue:n}=this;["none","any"].includes(n.toLowerCase())||("label"===i?this.updateLabelTokenColor(e):_.e.includes(i)?this.updateUserTokenAppearance(e,t):"my-reaction"===i?this.updateEmojiTokenAppearance(e,t):"epic"===i&&this.updateEpicLabel(e,t))}updateUserTokenAppearance(e,t){const{tokenValue:i}=this,n=this.tokenValue.replace(/^@/,"");return C.a.retrieve(n).then((function(n){n&&(e.dataset.originalValue=i,t.innerHTML=`\n          <img class="avatar s20" src="${n.avatar_url}" alt="">\n          ${D()(n.name)}\n        `)})).catch((function(){}))}updateLabelTokenColor(e){const{tokenValue:t}=this,i=h.container.querySelector(".filtered-search"),{labelsEndpoint:n}=i.dataset,s=O.getEndpointWithQueryParams(n+".json",i.dataset.endpointQueryParams);return f.a.retrieve(s).then((function(i){const n=(i||[]).find((function(e){return"~"+z.getEscapedText(e.title)===t}));n&&I.setTokenStyle(e,n.color,n.text_color)})).catch((function(){return Object(o.createAlert)({message:Object(c.a)("An error occurred while fetching label colors.")})}))}updateEpicLabel(e){const t=this.tokenValue.replace(/^&/,""),i=h.container.querySelector(".filtered-search"),{epicsEndpoint:n}=i.dataset,s=O.getEndpointWithQueryParams(n+".json",i.dataset.endpointQueryParams);return f.a.retrieve(s).then((function(i){const n=(i||[]).find((function(e){return e.id===Number(t)}));n&&I.replaceEpicTitle(e,n.title,n.id)})).catch((function(){return Object(o.createAlert)({message:Object(c.a)("An error occurred while adding formatted title for epic")})}))}static replaceEpicTitle(e,t,i){const n=e,s=n.querySelector(".value");s&&(n.dataset.originalValue=s.innerText,s.innerText=`"${t}"::&${i}`)}static setTokenStyle(e,t,i){const n=e;if(n.style.backgroundColor=t,n.style.color=i,"#FFFFFF"===i){n.querySelector(".remove-token").classList.add("inverted")}return n}updateEmojiTokenAppearance(e,t){const i=e,n=t,s=this.tokenValue;return T.initEmojiMap().then((function(){T.isEmojiNameValid(s)&&(i.dataset.originalValue=s,n.innerHTML=T.glEmojiTag(s))}))}}class O{static getOperatorToken(e){let t=null;return O.permissibleOperatorValues.forEach((function(i){e.startsWith(i)&&(t=i)})),t}static getValueToken(e){let t=e;return O.permissibleOperatorValues.forEach((function(i){e.startsWith(i)&&(t=e.slice(i.length))})),t}static getLastVisualTokenBeforeInput(){const e=h.container.querySelector(".input-token"),t=e&&e.previousElementSibling;return{lastVisualToken:t,isLastVisualTokenValid:null===t||-1!==t.className.indexOf("filtered-search-term")||t&&null!==t.querySelector(".operator")&&null!==t.querySelector(".value")}}static unselectTokens(){const e=h.container.querySelectorAll(".js-visual-token .selectable.selected");[].forEach.call(e,(function(e){return e.classList.remove("selected")}))}static selectToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=e.classList.contains("selected");O.unselectTokens(),i&&!t||e.classList.add("selected")}static removeSelectedToken(){const e=h.container.querySelector(".js-visual-token .selected");if(e){const t=e.closest(".js-visual-token");t.parentElement.removeChild(t)}}static createVisualTokenElementHTML(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{canEdit:t=!0,hasOperator:i=!1,uppercaseTokenName:n=!1,capitalizeTokenValue:s=!1}=e;return`\n      <div class="${t?"selectable":"hidden"}" role="button">\n        <div class="${n?"text-uppercase":""} name"></div>\n        ${i?'<div class="operator"></div>':""}\n        <div class="value-container">\n          <div class="${s?"text-capitalize":""} value"></div>\n          <div class="remove-token" role="button">\n            ${Object(S.M)("close","s16 close-icon")}\n          </div>\n        </div>\n      </div>\n    `}static renderVisualTokenValue(e,t,i,n){const s=t.toLowerCase(),r=e.querySelector(".value-container"),a=r.querySelector(".value");a.textContent=i;new I(i,s,n).render(r,a)}static addVisualTokenElement(e){let{name:t,operator:i,value:n,options:s={}}=e;const{isSearchTerm:r=!1,canEdit:a,uppercaseTokenName:o,capitalizeTokenValue:l,tokenClass:c="search-token-"+t.toLowerCase()}=s,d=document.createElement("li");d.classList.add("js-visual-token"),d.classList.add(r?"filtered-search-term":"filtered-search-token"),r||d.classList.add(c);const u=Boolean(i);if(n)d.innerHTML=O.createVisualTokenElementHTML({canEdit:a,uppercaseTokenName:o,operator:i,hasOperator:u,capitalizeTokenValue:l}),O.renderVisualTokenValue(d,t,n,i);else{const e=`<div class="${o?"text-uppercase":""} name"></div>`;let t="";u&&(t='<div class="operator"></div>'),d.innerHTML=e+t}d.querySelector(".name").textContent=t,u&&(d.querySelector(".operator").textContent=i);const p=h.container.querySelector(".tokens-container"),m=h.container.querySelector(".filtered-search");p.insertBefore(d,m.parentElement)}static addValueToPreviousVisualTokenElement(e){const{lastVisualToken:t,isLastVisualTokenValid:i}=O.getLastVisualTokenBeforeInput();if(!i&&t.classList.contains("filtered-search-token")){const i=O.getLastTokenPartial(),n=O.getLastTokenOperator();t.innerHTML=O.createVisualTokenElementHTML({hasOperator:Boolean(n)}),t.querySelector(".name").textContent=i,t.querySelector(".operator").textContent=n,O.renderVisualTokenValue(t,i,e,n)}}static addFilterVisualToken(e,t,i){let{canEdit:n,uppercaseTokenName:s=!1,capitalizeTokenValue:r=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{lastVisualToken:a,isLastVisualTokenValid:o}=O.getLastVisualTokenBeforeInput(),{addVisualTokenElement:l}=O;if(o)l({name:e,operator:t,value:i,options:{canEdit:n,uppercaseTokenName:s,capitalizeTokenValue:r}});else if(o||!a||a.querySelector(".operator")){const o=a.querySelector(".name").textContent,c=a.querySelector(".operator").textContent;h.container.querySelector(".tokens-container").removeChild(a);let d=i;d||t||(d=e),l({name:o,operator:c,value:d,options:{canEdit:n,uppercaseTokenName:s,capitalizeTokenValue:r}})}else{h.container.querySelector(".tokens-container").removeChild(a),l({name:e,operator:t,value:i,options:{canEdit:n,uppercaseTokenName:s,capitalizeTokenValue:r}})}}static addSearchVisualToken(e){const{lastVisualToken:t}=O.getLastVisualTokenBeforeInput();t&&t.classList.contains("filtered-search-term")?t.querySelector(".name").textContent+=" "+e:O.addVisualTokenElement({name:e,operator:null,value:null,options:{isSearchTerm:!0}})}static getLastTokenPartial(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{lastVisualToken:t}=O.getLastVisualTokenBeforeInput();if(!t)return"";const i=t.querySelector(".value-container"),n=i&&i.dataset.originalValue;if(n)return n;const s=t.querySelector(".value"),r=t.querySelector(".name"),a=s?s.textContent:"",o=r?r.textContent:"";if(e){const e=t.querySelector(".operator"),i=e?e.textContent:"";return a||i||o}return a||o}static getLastTokenOperator(){const{lastVisualToken:e}=O.getLastVisualTokenBeforeInput(),t=e&&e.querySelector(".operator");return null==t?void 0:t.textContent}static removeLastTokenPartial(){const{lastVisualToken:e}=O.getLastVisualTokenBeforeInput();if(e){const t=e.querySelector(".value"),i=e.querySelector(".operator");if(t){const t=e.querySelector(".selectable"),i=e.querySelector(".value-container");t.removeChild(i),e.innerHTML=t.innerHTML}else i?e.removeChild(i):e.closest(".tokens-container").removeChild(e)}}static tokenizeInput(){const e=h.container.querySelector(".filtered-search"),{isLastVisualTokenValid:t}=O.getLastVisualTokenBeforeInput();e.value&&(t?O.addSearchVisualToken(e.value):O.addValueToPreviousVisualTokenElement(e.value),e.value="")}static getEndpointWithQueryParams(e,t){if(!t)return e;return`${e}?${Object(u.z)(JSON.parse(t))}`}static editToken(e){const t=h.container.querySelector(".filtered-search");O.tokenizeInput();const i=e.parentElement,n=t.parentElement;i.replaceChild(n,e);const s=e.querySelector(".name"),r=e.querySelector(".operator");let a;if(e.classList.contains("filtered-search-token")){O.addFilterVisualToken(s.textContent,r.textContent,null,{uppercaseTokenName:s.classList.contains("text-uppercase")});const t=e.querySelector(".value-container");if(a=t.dataset.originalValue,!a){a=t.querySelector(".value").textContent}}a||(a=s.textContent),t.value=a;const o=new Event("input");t.dispatchEvent(o),t.focus()}static moveInputToTheRight(){const e=h.container.querySelector(".filtered-search");if(!e)return;const t=e.parentElement,i=h.container.querySelector(".tokens-container");if(O.tokenizeInput(),!i.lastElementChild.isEqualNode(t)){const{isLastVisualTokenValid:e}=O.getLastVisualTokenBeforeInput();if(!e){const e=O.getLastTokenPartial();O.removeLastTokenPartial(),O.addSearchVisualToken(e)}i.removeChild(t),i.appendChild(t)}}}y=["=","!="],(b="permissibleOperatorValues")in(v=O)?Object.defineProperty(v,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):v[b]=y;class j{constructor(e){let{droplab:t,dropdown:i,input:n,filter:s}=e;this.droplab=t,this.hookId=n&&n.id,this.input=n,this.filter=s,this.dropdown=i,this.loadingTemplate=`<div class="filter-dropdown-loading">\n      ${Object(w.a)().outerHTML}\n    </div>`,this.bindEvents()}bindEvents(){this.itemClickedWrapper=this.itemClicked.bind(this),this.dropdown.addEventListener("click.dl",this.itemClickedWrapper)}unbindEvents(){this.dropdown.removeEventListener("click.dl",this.itemClickedWrapper)}getCurrentHook(){var e=this;return this.droplab.hooks.filter((function(t){return t.id===e.hookId}))[0]||null}itemClicked(e,t){const{selected:i}=e.detail;if("LI"===i.tagName&&i.innerHTML){const{lastVisualToken:e}=O.getLastVisualTokenBeforeInput(),{tokenOperator:n}=z.getVisualTokenValues(e);if(!z.setDataValueIfSelected(this.filter,n,i)){const e=t(i);V.addWordToInput({tokenName:this.filter,tokenOperator:n,tokenValue:e,clicked:!0})}this.resetFilters(),this.dismissDropdown(),this.dispatchInputEvent()}}setAsDropdown(){this.input.setAttribute("data-dropdown-trigger","#"+this.dropdown.id)}setOffset(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;window.innerWidth>480?this.dropdown.style.left=e+"px":this.dropdown.style.left="0px"}renderContent(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getCurrentHook();j.hideDropdownItemsforNotOperator(t),e&&t&&t.list.hidden&&t.list.show()}render(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.setAsDropdown();const n=this.getCurrentHook();(null===n||e||n.list.list.id!==this.dropdown.id)&&this.renderContent(t,i)}dismissDropdown(){this.input.focus()}dispatchInputEvent(){this.input.dispatchEvent(new CustomEvent("input",{bubbles:!0,cancelable:!0}))}dispatchFormSubmitEvent(){this.input.form.dispatchEvent(new Event("submit"))}hideDropdown(){const e=this.getCurrentHook();e&&e.list.hide()}resetFilters(){const e=this.getCurrentHook();if(e){const t=e.list.data||[];if(!t)return;const i=t.map((function(e){const t=e;return t.droplab_hidden=!1,t}));e.list.render(i)}}static hideDropdownItemsforNotOperator(e){if("!="===O.getLastTokenOperator()){const{list:t}=e.list;let i=!0;if(Array.from(t.querySelectorAll("li[data-value]")).forEach((function(e){const{dataset:{value:t}}=e;t.toLowerCase()===_.c.none||t.toLowerCase()===_.c.any?e.classList.add("hidden"):i=!1})),i){const e=t.querySelector("li.divider");e&&e.classList.add("hidden")}}}}class x extends j{constructor(){var e;super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),e=this,this.config={Ajax:{endpoint:(gon.relative_url_root||"")+"/-/autocomplete/award_emojis",method:"setData",loadingTemplate:this.loadingTemplate,onError(){Object(o.createAlert)({message:Object(c.a)("An error occurred fetching the dropdown data.")})}},Filter:{template:"name"}},Promise.resolve().then(i.bind(null,"8GQU")).then((function(t){let{glEmojiTag:i}=t;e.glEmojiTag=i})).catch((function(){})),this.unbindEvents(),this.bindEvents()}bindEvents(){super.bindEvents(),this.listRenderedWrapper=this.listRendered.bind(this),this.dropdown.addEventListener("render.dl",this.listRenderedWrapper)}unbindEvents(){this.dropdown.removeEventListener("render.dl",this.listRenderedWrapper),super.unbindEvents()}listRendered(){this.replaceEmojiElement()}itemClicked(e){super.itemClicked(e,(function(e){const t=e.querySelector(".js-data-value").innerText.trim();return z.getEscapedText(t)}))}renderContent(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.droplab.changeHookList(this.hookId,this.dropdown,[g,k],this.config),super.renderContent(e)}replaceEmojiElement(){var e=this;if(!this.glEmojiTag)return;[...this.dropdown.querySelectorAll(".filter-dropdown-item")].forEach((function(t){const i=t.querySelector(".js-data-value");if(null!==i){const n=i.innerText,s=e.glEmojiTag(n);t.querySelector("gl-emoji").outerHTML=s}}))}init(){this.droplab.addHook(this.input,this.dropdown,[g,k],this.config).init()}}class A extends j{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{input:t,tokenKeys:i}=e;super(e),this.config={Filter:{template:"hint",filterFunction:z.filterHint.bind(null,{input:t,allowedKeys:i.getKeys()})}},this.tokenKeys=i}itemClicked(e){const{selected:t}=e.detail;if("LI"===t.tagName)if(Object.prototype.hasOwnProperty.call(t.dataset,"value"))this.dismissDropdown();else if("submit"===t.dataset.action)this.dismissDropdown(),this.dispatchFormSubmitEvent();else{const e=t.closest(".filter-dropdown-item"),{hint:i,tag:n}=e.dataset;if(n.length){const e=this.input.value.split(" "),t=[];e.forEach((function(n,s){t.push(n),s===e.length-1&&-1!==i.indexOf(n.toLowerCase())&&t.pop()})),t.length>0&&O.addSearchVisualToken(t.join(" "));const n=i.replace(":",""),{uppercaseTokenName:s}=this.tokenKeys.searchByKey(n);V.addWordToInput({tokenName:n,clicked:!1,options:{uppercaseTokenName:s}})}this.dismissDropdown(),this.dispatchInputEvent()}}renderContent(){const e=[{hint:"search",tag:"search",formattedKey:Object(c.a)("Search for this text"),icon:gon.sprite_icons+"#search"}],t=this.tokenKeys.get().map((function(e){return{icon:`${gon.sprite_icons}#${e.icon}`,hint:e.key,tag:":"+e.tag,type:e.type,formattedKey:e.formattedKey}})).concat(e);this.droplab.changeHookList(this.hookId,this.dropdown,[k],this.config),this.droplab.setData(this.hookId,t),super.renderContent()}init(){this.droplab.addHook(this.input,this.dropdown,[k],this.config).init()}}class N extends j{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{input:t,endpoint:i,symbol:n,preprocessing:s}=e;super(e),this.symbol=n,this.config={Ajax:{endpoint:i,method:"setData",loadingTemplate:this.loadingTemplate,preprocessing:s,onError(){Object(o.createAlert)({message:Object(c.a)("An error occurred fetching the dropdown data.")})}},Filter:{filterFunction:z.filterWithSymbol.bind(null,this.symbol,t),template:"title"}}}itemClicked(e){var t=this;super.itemClicked(e,(function(e){const i=e.querySelector(".js-data-value").innerText.trim();return`${t.symbol}${z.getEscapedText(i)}`}))}renderContent(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.droplab.changeHookList(this.hookId,this.dropdown,[g,k],this.config),super.renderContent(e)}init(){this.droplab.addHook(this.input,this.dropdown,[g,k],this.config).init()}}class F extends j{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{input:t,tokenKeys:i}=e;super(e),this.config={Filter:{filterFunction:z.filterWithSymbol.bind(null,"",t),template:"title"}},this.tokenKeys=i}itemClicked(e){const{selected:t}=e.detail;if("LI"===t.tagName&&Object.prototype.hasOwnProperty.call(t.dataset,"value")){const e=O.getLastTokenPartial(),i=t.dataset.value;O.removeLastTokenPartial(),V.addWordToInput({tokenName:e,tokenOperator:i,clicked:!1})}this.dismissDropdown(),this.dispatchInputEvent()}renderContent(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const i=[{tag:"equal",type:"string",title:"=",help:Object(c.a)("is")}],n=this.tokenKeys.searchByKey(t.toLowerCase());null!=n&&n.hideNotEqual||i.push({tag:"not-equal",type:"string",title:"!=",help:Object(c.a)("is not")}),this.droplab.changeHookList(this.hookId,this.dropdown,[k],this.config),this.droplab.setData(this.hookId,i),super.renderContent(e)}init(){this.droplab.addHook(this.input,this.dropdown,[k],this.config).init()}}var L=i("T1XL");var P={init:function(e){this.destroyed=!1,this.hook=e,this.notLoading(),this.eventWrapper={},this.eventWrapper.debounceTrigger=this.debounceTrigger.bind(this),this.hook.trigger.addEventListener("keydown.dl",this.eventWrapper.debounceTrigger),this.hook.trigger.addEventListener("focus",this.eventWrapper.debounceTrigger),this.trigger(!0)},notLoading:function(){this.loading=!1},debounceTrigger:function(e){var t=[16,17,18,20,37,38,39,40,91,93].indexOf(e.detail.which||e.detail.keyCode)>-1,i="focus"===e.type;t||this.loading||(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.trigger.bind(this,i),200))},trigger:function(e){var t=this,i=this.hook.config.AjaxFilter,n=this.trigger.value;if(i&&i.endpoint&&i.searchKey){if(i.searchValueFunction&&(n=i.searchValueFunction()),i.loadingTemplate&&void 0===this.hook.list.data||0===this.hook.list.data.length){var s=this.hook.list.list.querySelector("[data-dynamic]"),r=document.createElement("div");r.innerHTML=i.loadingTemplate,r.setAttribute("data-loading-template",!0),this.listTemplate=s.outerHTML,s.outerHTML=r.outerHTML}if(e&&(n=""),i.searchKey===n)return this.list.show();this.loading=!0;var a=i.params||{};a[i.searchKey]=n;var o=Object(u.y)(a,i.endpoint,{spreadArrays:!0});return f.a.retrieve(o).then((function(e){t._loadData(e,i),i.onLoadingFinished&&i.onLoadingFinished(e)})).catch(i.onError)}},_loadData(e,t){const i=this.hook.list;if(t.loadingTemplate&&void 0===i.data||0===i.data.length){const e=i.list.querySelector("[data-loading-template]");e&&(e.outerHTML=this.listTemplate)}if(!this.destroyed){var n=i.list.children;1===n.length&&n[0].hasAttribute("data-dynamic")&&0===e.length&&i.hide(),i.setData.call(i,e)}this.notLoading(),i.currentIndex=0},buildParams:function(e){return e?"?"+Object.keys(e).map((function(t){return t+"="+(e[t]||"")})).join("&"):""},destroy:function(){this.timeout&&clearTimeout(this.timeout),this.destroyed=!0,this.hook.trigger.removeEventListener("keydown.dl",this.eventWrapper.debounceTrigger),this.hook.trigger.removeEventListener("focus",this.eventWrapper.debounceTrigger)}},R=i("73KY");class q{static processTokens(e,t){const i=new RegExp(`(${t.join("|")}):(=|!=)?([~%@&]?)(?:('[^']*'{0,1})|("[^"]*"{0,1})|(\\S+))`,"g"),n=[],s=[];let r=null;const a=e.replace(i,(function(e,t,i,r,a,o,l){let c=a||o||l,d=r,u="",p=i;return["~","%","@","&"].includes(c)&&(d=c,c=""),["!=","="].includes(c)&&(p=c,c=""),u=`${t}:${c}`,-1===s.indexOf(u)&&(s.push(u),n.push({key:t,value:c||"",symbol:d||"",operator:p||""})),""})).replace(/\s{2,}/g," ").trim()||"";if(n.length>0){const t=n[n.length-1],i=`${t.key}:${t.operator}${t.symbol}${t.value}`;r=e.lastIndexOf(i)===e.length-i.length?t:a}else r=a;return{tokens:n,lastToken:r,searchToken:a}}}class $ extends j{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{tokenKeys:t,endpoint:i,symbol:n}=e;super(e),this.tokenKeys=t,this.endpoint=i,this.symbol=n,this.config={AjaxFilter:this.ajaxFilterConfig()}}ajaxFilterConfig(){return{endpoint:this.endpoint,searchKey:"search",searchValueFunction:this.getSearchInput.bind(this),loadingTemplate:this.loadingTemplate,onError(){Object(o.createAlert)({message:Object(c.a)("An error occurred fetching the dropdown data.")})}}}itemClicked(e){super.itemClicked(e,(function(e){const t=e.querySelector(".dropdown-light-content").innerText.trim();return z.getEscapedText(t)}))}renderContent(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.droplab.changeHookList(this.hookId,this.dropdown,[P],this.config),super.renderContent(e)}getSearchInput(){const e=z.getSearchInput(this.input),{lastToken:t}=q.processTokens(e,this.tokenKeys.getKeys());let i=t||"";return i[0]===this.symbol&&(i=i.slice(1)),'"'!==i[0]&&"'"!==i[0]||(i=i.slice(1)),i}init(){this.droplab.addHook(this.input,this.dropdown,[P],this.config).init()}}class B extends ${constructor(){super({...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},endpoint:(gon.relative_url_root||"")+"/-/autocomplete/users.json",symbol:"@"})}ajaxFilterConfig(){var e=this;return{...super.ajaxFilterConfig(),params:{states:L.a,group_id:this.getGroupId(),project_id:this.getProjectId(),current_user:!0,...this.projectOrGroupId()},onLoadingFinished:function(){e.hideCurrentUser()}}}hideCurrentUser(){Object(d.a)(this.dropdown.querySelector(".js-current-user"),"hidden")}getGroupId(){return this.input.dataset.groupId}getProjectId(){return this.input.dataset.projectId}projectOrGroupId(){const e=this.getProjectId(),t=this.getGroupId();return t?{group_id:t}:{project_id:e}}}class M{constructor(e){let{container:t,labelsEndpoint:i,milestonesEndpoint:n,releasesEndpoint:s,environmentsEndpoint:r,groupsOnly:a,includeAncestorGroups:o,includeDescendantGroups:l}=e;this.container=t,this.labelsEndpoint=i,this.milestonesEndpoint=n,this.releasesEndpoint=s,this.environmentsEndpoint=r,this.groupsOnly=a,this.includeAncestorGroups=o,this.includeDescendantGroups=l,this.filteredSearchInput=this.container.querySelector(".filtered-search")}getAllowedMappings(e){return this.buildMappings(e,this.getMappings())}buildMappings(e,t){const i={hint:{reference:null,gl:A,element:this.container.querySelector("#js-dropdown-hint")},operator:{reference:null,gl:F,element:this.container.querySelector("#js-dropdown-operator")}};return e.forEach((function(e){t[e]&&(i[e]=t[e])})),i}getMappings(){return{author:{reference:null,gl:B,element:this.container.querySelector("#js-dropdown-author")},assignee:{reference:null,gl:B,element:this.container.querySelector("#js-dropdown-assignee")},reviewer:{reference:null,gl:B,element:this.container.querySelector("#js-dropdown-reviewer")},attention:{reference:null,gl:B,element:this.container.getElementById("js-dropdown-attention-requested")},"approved-by":{reference:null,gl:B,element:this.container.querySelector("#js-dropdown-approved-by")},milestone:{reference:null,gl:N,extraArguments:{endpoint:this.getMilestoneEndpoint(),symbol:"%",preprocessing:function(e){return e.sort(m.a)}},element:this.container.querySelector("#js-dropdown-milestone")},release:{reference:null,gl:N,extraArguments:{endpoint:this.getReleasesEndpoint(),symbol:"",preprocessing:function(e){return e.map((function(e){return{...e,title:e.tag}}))}},element:this.container.querySelector("#js-dropdown-release")},label:{reference:null,gl:N,extraArguments:{endpoint:this.getLabelsEndpoint(),symbol:"~",preprocessing:z.duplicateLabelPreprocessing},element:this.container.querySelector("#js-dropdown-label")},"my-reaction":{reference:null,gl:x,element:this.container.querySelector("#js-dropdown-my-reaction")},draft:{reference:null,gl:N,element:this.container.querySelector("#js-dropdown-wip")},confidential:{reference:null,gl:N,element:this.container.querySelector("#js-dropdown-confidential")},"target-branch":{reference:null,gl:N,extraArguments:{endpoint:this.getMergeRequestTargetBranchesEndpoint(),symbol:""},element:this.container.querySelector("#js-dropdown-target-branch")},environment:{reference:null,gl:N,extraArguments:{endpoint:this.getEnvironmentsEndpoint(),symbol:"",preprocessing:function(e){return e.map((function(e){return{title:e}}))}},element:this.container.querySelector("#js-dropdown-environment")}}}getMilestoneEndpoint(){return this.milestonesEndpoint+".json"}getReleasesEndpoint(){return this.releasesEndpoint+".json"}getLabelsEndpoint(){let e=this.labelsEndpoint+".json?";return this.groupsOnly&&(e+="only_group_labels=true&"),this.includeAncestorGroups&&(e+="include_ancestor_groups=true&"),this.includeDescendantGroups&&(e+="include_descendant_groups=true"),e}getMergeRequestTargetBranchesEndpoint(){const e=(gon.relative_url_root||"")+"/-/autocomplete/merge_request_target_branches.json",t={group_id:this.getGroupId(),project_id:this.getProjectId()};return Object(u.y)(t,e)}getEnvironmentsEndpoint(){return this.environmentsEndpoint+".json"}getGroupId(){return this.filteredSearchInput.dataset.groupId||""}getProjectId(){return this.filteredSearchInput.dataset.projectId||""}}var U=i("CoxT");class V{constructor(e){let{labelsEndpoint:t="",milestonesEndpoint:i="",iterationsEndpoint:n="",releasesEndpoint:s="",environmentsEndpoint:r="",epicsEndpoint:a="",tokenizer:o,page:l,isGroup:c,isGroupAncestor:d,isGroupDecendent:u,filteredSearchTokenKeys:p}=e;const m=function(e){return e.replace(/\/$/,"")};this.container=h.container,this.labelsEndpoint=m(t),this.milestonesEndpoint=m(i),this.iterationsEndpoint=m(n),this.releasesEndpoint=m(s),this.epicsEndpoint=m(a),this.environmentsEndpoint=m(r),this.tokenizer=o,this.filteredSearchTokenKeys=p||R.a,this.filteredSearchInput=this.container.querySelector(".filtered-search"),this.page=l,this.groupsOnly=c,this.includeAncestorGroups=d,this.includeDescendantGroups=u,this.setupMapping(),this.cleanupWrapper=this.cleanup.bind(this),document.addEventListener("beforeunload",this.cleanupWrapper)}cleanup(){this.droplab&&(this.droplab.destroy(),this.droplab=null),this.setupMapping(),document.removeEventListener("beforeunload",this.cleanupWrapper)}setupMapping(){const e=this.filteredSearchTokenKeys.getKeys(),t=new M({...this});this.mapping=t.getAllowedMappings(e)}static addWordToInput(e){let{tokenName:t,tokenOperator:i="",tokenValue:n="",clicked:s=!1,options:r={}}=e;const{uppercaseTokenName:a=!1,capitalizeTokenValue:o=!1}=r,l=h.container.querySelector(".filtered-search");O.addFilterVisualToken(t,i,n,{uppercaseTokenName:a,capitalizeTokenValue:o}),l.value="",s&&O.moveInputToTheRight()}updateCurrentDropdownOffset(){this.updateDropdownOffset(this.currentDropdown)}updateDropdownOffset(e){let t=this.filteredSearchInput.getBoundingClientRect().left-this.container.querySelector(".scroll-container").getBoundingClientRect().left;const i=this.mapping[e].element.clientWidth||240,n=this.container.querySelector(".scroll-container").clientWidth-i;n<t&&(t=n),this.mapping[e].reference.setOffset(t)}load(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const n=this.mapping[e],s=n.gl,{element:r}=n;let a=!1;if(!n.reference){const t={...{droplab:this.droplab,dropdown:r,input:this.filteredSearchInput,tokenKeys:this.filteredSearchTokenKeys,filter:e},...n.extraArguments||{}};n.reference=new(Function.prototype.bind.apply(s,[null,t]))}t&&n.reference.init(),this.currentDropdown!==_.a.hint&&this.currentDropdown!==_.a.operator||(a=!0),this.updateDropdownOffset(e),n.reference.render(t,a,i),this.currentDropdown=e}loadDropdown(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=!1;if(this.droplab||(i=!0,this.droplab=new U.a),e===_.a.operator)return void this.load(e,i,t);const n=this.filteredSearchTokenKeys.searchByKey(e.toLowerCase()),s=n&&this.currentDropdown!==n.key&&this.mapping[n.key],r=!n&&this.currentDropdown!==_.a.hint;if(s||r){const e=n&&n.key?n.key:_.a.hint;this.load(e,i,t)}}setDropdown(){const e=z.getSearchQuery(!0),{lastToken:t,searchToken:i}=this.tokenizer.processTokens(e,this.filteredSearchTokenKeys.getKeys());if(this.currentDropdown&&this.updateCurrentDropdownOffset(),t===i&&null!==t){const e=t.split(":"),i=s()(e[0].split(" ")),n=s()(e[1]),r=O.permissibleOperatorValues.includes(n&&n.trim());let a="";if(e.length>1){const e=O.getLastTokenOperator();a=r&&e?i:_.a.operator}this.loadDropdown(a,i)}else if(t){const e=O.getLastTokenOperator();this.loadDropdown(e?t.key:_.a.operator,t.key)}else this.loadDropdown(_.a.hint)}resetDropdowns(){this.currentDropdown&&(this.mapping[this.currentDropdown].reference.hideDropdown(),this.setDropdown(),this.mapping[this.currentDropdown].reference.resetFilters(),this.updateDropdownOffset(this.currentDropdown))}destroyDroplab(){this.droplab.destroy()}}class z{static getEscapedText(e){let t=e;const i=-1!==e.indexOf(" "),n=-1!==e.indexOf('"');return i&&(t=n?`'${e}'`:`"${e}"`),t}static filterWithSymbol(e,t,i){const n=i,s=z.getSearchInput(t),r=n.title.toLowerCase();let a=s.toLowerCase(),o="";a[0]===e&&([o]=a,a=a.slice(1)),'"'!==a[0]&&"'"!==a[0]||-1===r.indexOf(" ")||(a=a.slice(1));const l=o===e&&-1!==r.indexOf(a),c=-1!==r.indexOf(`${o}${a}`);return n.droplab_hidden=!c&&!l,n}static filterHint(e,t){const{input:i,allowedKeys:n}=e,r=t,a=z.getSearchQuery(i),{lastToken:o,tokens:l}=q.processTokens(a,n),c=o.key||o||"",d="array"===t.type,u=l.some((function(e){return e.key===t.hint})),p="search"===r.hint;if(p&&(r.droplab_hidden=!0),!d&&u)r.droplab_hidden=!0;else if(p||c&&" "!==s()(a.split(""))){if(c){const e=c.split(":"),t=s()(e[0].split(" ")),i=p?n.some((function(e){return e.startsWith(t.toLowerCase())})):-1===r.hint.indexOf(t.toLowerCase());r.droplab_hidden=!!t&&i}}else r.droplab_hidden=!1;return r}static setDataValueIfSelected(e,t,i){const n=i.getAttribute("data-value");return n&&V.addWordToInput({tokenName:e,tokenOperator:t,tokenValue:n,clicked:!0,options:{capitalizeTokenValue:i.hasAttribute("data-capitalize")}}),null!==n}static getVisualTokenValues(e){const t=e&&e.querySelector(".name").textContent.trim();let i=e&&e.querySelector(".value")&&e.querySelector(".value").textContent.trim();"label"===t&&i&&(i=i.replace(/^~("|')?(.*)/,"$2").replace(/("|')$/,""));const n=e&&e.querySelector(".operator");return{tokenName:t,tokenOperator:n&&n.textContent.trim(),tokenValue:i}}static getSearchQuery(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{container:t}=h,i=[].slice.call(t.querySelectorAll(".tokens-container li")),n=[];if(e){const e=i.findIndex((function(e){return e.classList.contains("input-token")}));i.splice(e+1)}return i.forEach((function(e){if(e.classList.contains("js-visual-token")){const t=e.querySelector(".name"),i=e.querySelector(".operator"),s=e.querySelector(".value"),r=e.querySelector(".value-container"),a=s&&s.dataset.symbol?s.dataset.symbol:"";let o="",l="";i&&(l=i.textContent.trim()),r&&r.dataset.originalValue?o=r.dataset.originalValue:s&&s.innerText&&(o=s.innerText),-1!==e.className.indexOf("filtered-search-token")?n.push(`${t.innerText.toLowerCase()}:${l}${a}${o}`):n.push(t.innerText)}else if(e.classList.contains("input-token")){const{isLastVisualTokenValid:e}=O.getLastVisualTokenBeforeInput(),t=h.container.querySelector(".filtered-search"),i=t&&t.value;if(e)n.push(i);else{const e=n.pop();n.push(`${e}${i}`)}}})),n.map((function(e){return e.trim()})).join(" ")}static getSearchInput(e){const t=e.value,{right:i}=z.getInputSelectionPosition(e);return t.slice(0,i)}static getInputSelectionPosition(e){const{selectionStart:t}=e;let i=e.value;i=i.replace(/(('[^']*'{0,1})|("[^"]*"{0,1})|:\s+)/g,(function(e){return e.replace(/\s/g,"_")}));let n=i.slice(t).search(/\s/);n>=0?n+=t:n<0&&(n=i.length);let s=i.slice(0,n).search(/\S+$/);return 0===t?s=0:t===i.length&&s<0?s=i.length:s<0&&(s=t),{left:s,right:n}}}var W=i("SYh6"),H=Object(W.a)(),G=i("q+nE"),K={name:"RecentSearchesDropdownContent",props:{items:{type:Array,required:!0},isLocalStorageAvailable:{type:Boolean,required:!1,default:!0},allowedKeys:{type:Array,required:!0}},computed:{compatibleItems(){return this.items.filter((function(e){return"string"==typeof e}))},processedItems(){var e=this;return this.compatibleItems.map((function(t){const{tokens:i,searchToken:n}=q.processTokens(t,e.allowedKeys);return{text:t,tokens:i.map((function(e){return{prefix:e.key+":",operator:e.operator,suffix:`${e.symbol}${e.value}`}})),searchToken:n}}))},hasItems(){return this.compatibleItems.length>0}},methods:{onItemActivated(e){H.$emit("recentSearchesItemSelected",e)},onRequestClearRecentSearches(e){e.stopPropagation(),H.$emit("requestClearRecentSearches")}}},Y=i("bPvS"),Q=Object(Y.a)(K,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isLocalStorageAvailable?e.hasItems?i("ul",[e._l(e.processedItems,(function(t,n){return i("li",{key:"processed-items-"+n,attrs:{"data-testid":"dropdown-item"}},[i("button",{staticClass:"filtered-search-history-dropdown-item js-dropdown-button",attrs:{type:"button"},on:{click:function(i){return e.onItemActivated(t.text)}}},[i("span",e._l(t.tokens,(function(t,n){return i("span",{key:"dropdown-token-"+n,staticClass:"filtered-search-history-dropdown-token js-dropdown-token"},[i("span",{staticClass:"name"},[e._v(e._s(t.prefix))]),e._v(" "),i("span",{staticClass:"name"},[e._v(e._s(t.operator))]),e._v(" "),i("span",{staticClass:"value"},[e._v(e._s(t.suffix))])])})),0),e._v(" "),i("span",{staticClass:"filtered-search-history-dropdown-search-token"},[e._v(e._s(t.searchToken))])])])})),e._v(" "),i("li",{staticClass:"divider"}),e._v(" "),i("li",[i("button",{staticClass:"filtered-search-history-clear-button",attrs:{"data-testid":"clear-button",type:"button"},on:{click:function(t){return e.onRequestClearRecentSearches(t)}}},[e._v("\n        "+e._s(e.__("Clear recent searches"))+"\n      ")])])],2):i("div",{staticClass:"dropdown-info-note",attrs:{"data-testid":"dropdown-note"}},[e._v("\n    "+e._s(e.__("You don't have any recent searches"))+"\n  ")]):i("div",{staticClass:"dropdown-info-note",attrs:{"data-testid":"local-storage-note"}},[e._v("\n    "+e._s(e.__("This feature requires local storage to be enabled"))+"\n  ")])])}),[],!1,null,null,null).exports;var X=class{constructor(e,t,i){this.store=e,this.service=t,this.wrapperElement=i}init(){this.bindEvents(),this.render()}bindEvents(){this.onRequestClearRecentSearchesWrapper=this.onRequestClearRecentSearches.bind(this),H.$on("requestClearRecentSearches",this.onRequestClearRecentSearchesWrapper)}unbindEvents(){H.$off("requestClearRecentSearches",this.onRequestClearRecentSearchesWrapper)}render(){const{state:e}=this.store;this.vm=new G.default({el:this.wrapperElement,data:()=>e,render(e){return e(Q,{props:{items:this.recentSearches,isLocalStorageAvailable:this.isLocalStorageAvailable,allowedKeys:this.allowedKeys}})}})}onRequestClearRecentSearches(){const e=this.store.setRecentSearches([]);this.service.save(e)}destroy(){this.unbindEvents(),this.vm&&this.vm.$destroy()}},J=i("M50o"),Z=i("fefF");class ee{constructor(e){let{page:t,isGroup:i=!1,isGroupAncestor:n=!0,isGroupDecendent:s=!1,useDefaultState:o=!1,filteredSearchTokenKeys:l=a.a,stateFiltersSelector:d=".issues-state-filters",placeholder:u=Object(c.a)("Search or filter results..."),anchor:p=null}=e;this.isGroup=i,this.isGroupAncestor=n,this.isGroupDecendent=s,this.useDefaultState=o,this.states=["opened","closed","merged","all"],this.page=t,this.container=h.container,this.filteredSearchInput=this.container.querySelector(".filtered-search"),this.filteredSearchInputForm=this.filteredSearchInput.form,this.clearSearchButton=this.container.querySelector(".clear-search"),this.tokensContainer=this.container.querySelector(".tokens-container"),this.filteredSearchTokenKeys=l,this.stateFiltersSelector=d,this.placeholder=u,this.anchor=p;const{multipleAssignees:m,epicsEndpoint:f,iterationsEndpoint:g}=this.filteredSearchInput.dataset;m&&this.filteredSearchTokenKeys.enableMultipleAssignees&&this.filteredSearchTokenKeys.enableMultipleAssignees(),!f&&this.filteredSearchTokenKeys.removeEpicToken&&this.filteredSearchTokenKeys.removeEpicToken(),!g&&this.filteredSearchTokenKeys.removeIterationToken&&this.filteredSearchTokenKeys.removeIterationToken(),this.recentSearchesStore=new Z.a({isLocalStorageAvailable:J.a.isAvailable(),allowedKeys:this.filteredSearchTokenKeys.getKeys()}),this.searchHistoryDropdownElement=document.querySelector(".js-filtered-search-history-dropdown");const v=`${this.searchHistoryDropdownElement?this.searchHistoryDropdownElement.dataset.fullPath:"project"}-${r.a[this.page]}`;this.recentSearchesService=new J.a(v)}setup(){var e=this;if(this.fetchingRecentSearchesPromise=this.recentSearchesService.fetch().catch((function(e){if("RecentSearchesServiceError"!==e.name)return Object(o.createAlert)({message:Object(c.a)("An error occurred while parsing recent searches")}),[]})).then((function(t){if(!t)return;const i=e.recentSearchesStore.setRecentSearches(e.recentSearchesStore.state.recentSearches.concat(t));e.recentSearchesService.save(i)})),this.filteredSearchInput){this.tokenizer=q;const{labelsEndpoint:e="",milestonesEndpoint:t="",releasesEndpoint:i="",environmentsEndpoint:n="",epicsEndpoint:s="",iterationsEndpoint:r=""}=this.filteredSearchInput.dataset;this.dropdownManager=new V({labelsEndpoint:e,milestonesEndpoint:t,releasesEndpoint:i,environmentsEndpoint:n,epicsEndpoint:s,iterationsEndpoint:r,tokenizer:this.tokenizer,page:this.page,isGroup:this.isGroup,isGroupAncestor:this.isGroupAncestor,isGroupDecendent:this.isGroupDecendent,filteredSearchTokenKeys:this.filteredSearchTokenKeys}),this.recentSearchesRoot=new X(this.recentSearchesStore,this.recentSearchesService,this.searchHistoryDropdownElement),this.recentSearchesRoot.init(),this.bindEvents(),this.loadSearchParamsFromURL(),this.dropdownManager.setDropdown(),this.cleanupWrapper=this.cleanup.bind(this),document.addEventListener("beforeunload",this.cleanupWrapper)}}cleanup(){this.unbindEvents(),document.removeEventListener("beforeunload",this.cleanupWrapper),this.recentSearchesRoot&&this.recentSearchesRoot.destroy()}bindStateEvents(){var e=this;this.stateFilters=document.querySelector(".container-fluid "+this.stateFiltersSelector),this.stateFilters&&(this.searchStateWrapper=this.searchState.bind(this),this.applyToStateFilters((function(t){t.addEventListener("click",e.searchStateWrapper)})))}unbindStateEvents(){var e=this;this.stateFilters&&this.applyToStateFilters((function(t){t.removeEventListener("click",e.searchStateWrapper)}))}applyToStateFilters(e){var t=this;this.stateFilters.querySelectorAll("a[data-state]").forEach((function(i){t.states.indexOf(i.dataset.state)>-1&&e(i)}))}bindEvents(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.setDropdownWrapper=this.dropdownManager.setDropdown.bind(this.dropdownManager),this.toggleClearSearchButtonWrapper=this.toggleClearSearchButton.bind(this),this.handleInputPlaceholderWrapper=this.handleInputPlaceholder.bind(this),this.handleInputVisualTokenWrapper=this.handleInputVisualToken.bind(this),this.checkForEnterWrapper=this.checkForEnter.bind(this),this.onClearSearchWrapper=this.onClearSearch.bind(this),this.checkForBackspaceWrapper=this.checkForBackspace.call(this),this.checkForMetaBackspaceWrapper=this.checkForMetaBackspace.bind(this),this.checkForAltOrCtrlBackspaceWrapper=this.checkForAltOrCtrlBackspace.bind(this),this.removeSelectedTokenKeydownWrapper=this.removeSelectedTokenKeydown.bind(this),this.unselectEditTokensWrapper=this.unselectEditTokens.bind(this),this.editTokenWrapper=this.editToken.bind(this),this.tokenChange=this.tokenChange.bind(this),this.addInputContainerFocusWrapper=this.addInputContainerFocus.bind(this),this.removeInputContainerFocusWrapper=this.removeInputContainerFocus.bind(this),this.onrecentSearchesItemSelectedWrapper=this.onrecentSearchesItemSelected.bind(this),this.removeTokenWrapper=this.removeToken.bind(this),this.filteredSearchInputForm.addEventListener("submit",this.handleFormSubmit),this.filteredSearchInput.addEventListener("input",this.setDropdownWrapper),this.filteredSearchInput.addEventListener("input",this.toggleClearSearchButtonWrapper),this.filteredSearchInput.addEventListener("input",this.handleInputPlaceholderWrapper),this.filteredSearchInput.addEventListener("keyup",this.handleInputVisualTokenWrapper),this.filteredSearchInput.addEventListener("keydown",this.checkForEnterWrapper),this.filteredSearchInput.addEventListener("keyup",this.checkForBackspaceWrapper),this.filteredSearchInput.addEventListener("keydown",this.checkForMetaBackspaceWrapper),this.filteredSearchInput.addEventListener("keydown",this.checkForAltOrCtrlBackspaceWrapper),this.filteredSearchInput.addEventListener("click",this.tokenChange),this.filteredSearchInput.addEventListener("keyup",this.tokenChange),this.filteredSearchInput.addEventListener("focus",this.addInputContainerFocusWrapper),this.tokensContainer.addEventListener("click",this.removeTokenWrapper),this.tokensContainer.addEventListener("click",this.editTokenWrapper),this.clearSearchButton.addEventListener("click",this.onClearSearchWrapper),document.addEventListener("click",this.unselectEditTokensWrapper),document.addEventListener("click",this.removeInputContainerFocusWrapper),document.addEventListener("keydown",this.removeSelectedTokenKeydownWrapper),H.$on("recentSearchesItemSelected",this.onrecentSearchesItemSelectedWrapper),this.bindStateEvents()}unbindEvents(){this.filteredSearchInputForm.removeEventListener("submit",this.handleFormSubmit),this.filteredSearchInput.removeEventListener("input",this.setDropdownWrapper),this.filteredSearchInput.removeEventListener("input",this.toggleClearSearchButtonWrapper),this.filteredSearchInput.removeEventListener("input",this.handleInputPlaceholderWrapper),this.filteredSearchInput.removeEventListener("keyup",this.handleInputVisualTokenWrapper),this.filteredSearchInput.removeEventListener("keydown",this.checkForEnterWrapper),this.filteredSearchInput.removeEventListener("keydown",this.checkForMetaBackspaceWrapper),this.filteredSearchInput.removeEventListener("keydown",this.checkForAltOrCtrlBackspaceWrapper),this.filteredSearchInput.removeEventListener("keyup",this.checkForBackspaceWrapper),this.filteredSearchInput.removeEventListener("click",this.tokenChange),this.filteredSearchInput.removeEventListener("keyup",this.tokenChange),this.filteredSearchInput.removeEventListener("focus",this.addInputContainerFocusWrapper),this.tokensContainer.removeEventListener("click",this.removeTokenWrapper),this.tokensContainer.removeEventListener("click",this.editTokenWrapper),this.clearSearchButton.removeEventListener("click",this.onClearSearchWrapper),document.removeEventListener("click",this.unselectEditTokensWrapper),document.removeEventListener("click",this.removeInputContainerFocusWrapper),document.removeEventListener("keydown",this.removeSelectedTokenKeydownWrapper),H.$off("recentSearchesItemSelected",this.onrecentSearchesItemSelectedWrapper),this.unbindStateEvents()}checkForBackspace(){var e=this;let t=0;return function(i){if(!(i.altKey||i.ctrlKey||i.metaKey))if(i.keyCode===l.a||i.keyCode===l.b){const{lastVisualToken:i}=O.getLastVisualTokenBeforeInput(),{tokenName:n,tokenValue:s}=z.getVisualTokenValues(i),r=n&&e.canEdit&&e.canEdit(n,s);""===e.filteredSearchInput.value&&i&&r&&(t+=1,2===t&&(t=0,e.filteredSearchInput.value=O.getLastTokenPartial(!0),O.removeLastTokenPartial())),e.dropdownManager.updateCurrentDropdownOffset()}else t=0}}checkForAltOrCtrlBackspace(e){(e.altKey||e.ctrlKey)&&e.keyCode===l.a&&""===this.filteredSearchInput.value&&O.removeLastTokenPartial()}checkForMetaBackspace(e){e.metaKey&&!e.altKey&&!e.ctrlKey&&!e.shiftKey&&e.keyCode===l.a&&this.clearSearch()}checkForEnter(e){if(e.keyCode===l.g||e.keyCode===l.c){const{selectionStart:t}=this.filteredSearchInput;e.preventDefault(),this.filteredSearchInput.setSelectionRange(t,t)}if(e.keyCode===l.d){const t=this.dropdownManager.mapping[this.dropdownManager.currentDropdown].element.querySelectorAll(".droplab-item-active");e.preventDefault(),t.length||(this.isHandledAsync?(e.stopImmediatePropagation(),this.filteredSearchInput.blur(),this.dropdownManager.resetDropdowns()):this.dropdownManager.destroyDroplab(),this.search())}}addInputContainerFocus(){Object(d.a)(this.filteredSearchInput.closest(".filtered-search-box"),"focus")}removeInputContainerFocus(e){const t=this.filteredSearchInput.closest(".filtered-search-box"),i=t&&t.contains(e.target),n=null!==e.target.closest(".filter-dropdown"),s=null!==e.target.closest("ul[data-dropdown]");i||n||s||!t||t.classList.remove("focus")}removeToken(e){if(e.target.closest(".remove-token")){e.preventDefault(),e.stopImmediatePropagation();const t=e.target.closest(".selectable");O.selectToken(t,!0),this.removeSelectedToken()}}unselectEditTokens(e){const t=this.container.querySelector(".filtered-search-box"),i=t&&t.contains(e.target),n=null!==e.target.closest(".filter-dropdown"),s=e.target.classList.contains("tokens-container");(!i&&!n||s)&&(O.moveInputToTheRight(),this.dropdownManager.resetDropdowns())}editToken(e){const t=e.target.closest(".js-visual-token"),i=t&&t.querySelector(".name").textContent.trim(),n=this.canEdit&&this.canEdit(i);t&&n&&(e.preventDefault(),e.stopPropagation(),O.editToken(t),this.tokenChange())}toggleClearSearchButton(){const e=z.getSearchQuery(),t=this.clearSearchButton.classList.contains("hidden");0!==e.length||t?e.length&&t&&this.clearSearchButton.classList.remove("hidden"):this.clearSearchButton.classList.add("hidden")}handleInputPlaceholder(){const e=z.getSearchQuery(),t=this.filteredSearchInput.placeholder;0===e.length&&t!==this.placeholder?this.filteredSearchInput.placeholder=this.placeholder:e.length>0&&""!==t&&(this.filteredSearchInput.placeholder="")}removeSelectedTokenKeydown(e){e.keyCode!==l.a&&e.keyCode!==l.b||this.removeSelectedToken()}removeSelectedToken(){O.removeSelectedToken(),this.handleInputPlaceholder(),this.toggleClearSearchButton(),this.dropdownManager.updateCurrentDropdownOffset()}onClearSearch(e){e.preventDefault(),this.clearSearch()}clearSearch(){var e=this;this.filteredSearchInput.value="";const t=[];[].forEach.call(this.tokensContainer.children,(function(i){let n=i.classList.contains("js-visual-token");if(n){const{tokenName:t,tokenValue:s}=z.getVisualTokenValues(i);n=e.canEdit&&e.canEdit(t,s)}n&&t.push(i)})),t.forEach((function(e){e.parentElement.removeChild(e)})),this.clearSearchButton.classList.add("hidden"),this.handleInputPlaceholder(),this.dropdownManager.resetDropdowns(),this.isHandledAsync&&this.search()}handleInputVisualToken(e){var t=this;if(e.keyCode===l.a)return;const i=this.filteredSearchInput,{tokens:n,searchToken:r}=this.tokenizer.processTokens(i.value,this.filteredSearchTokenKeys.getKeys()),{isLastVisualTokenValid:a}=O.getLastVisualTokenBeforeInput();if(a){n.forEach((function(e){i.value=i.value.replace(`${e.key}:${e.operator}${e.symbol}${e.value}`,""),O.addFilterVisualToken(e.key,e.operator,`${e.symbol}${e.value}`,{uppercaseTokenName:t.filteredSearchTokenKeys.shouldUppercaseTokenName(e.key),capitalizeTokenValue:t.filteredSearchTokenKeys.shouldCapitalizeTokenValue(e.key)})}));const e=r.split(":");if(e.length>1){const t=e[0].split(" "),n=s()(t);if(t.length>1){t.pop();const e=t.join(" ");i.value=i.value.replace(e,""),O.addSearchVisualToken(e)}O.addFilterVisualToken(n,null,null,{uppercaseTokenName:this.filteredSearchTokenKeys.shouldUppercaseTokenName(n),capitalizeTokenValue:this.filteredSearchTokenKeys.shouldCapitalizeTokenValue(n)}),i.value=i.value.replace(n+":","")}}else if(a||O.getLastTokenOperator()){const e=/([~%@]{0,1}".+")|([~%@]{0,1}'.+')|^((?![~%@]')(?![~%@]")(?!')(?!")).*/g;if(r.match(e)&&" "===i.value[i.value.length-1]){const e=O.getLastTokenPartial();O.addFilterVisualToken(r,null,null,{capitalizeTokenValue:this.filteredSearchTokenKeys.shouldCapitalizeTokenValue(e)}),i.value=i.value.replace(r,"").trim()}}else{const e=O.getLastTokenPartial(),t=r&&r.trim();O.permissibleOperatorValues.includes(t)&&(O.removeLastTokenPartial(),O.addFilterVisualToken(e,t,null,{capitalizeTokenValue:this.filteredSearchTokenKeys.shouldCapitalizeTokenValue(e)}),i.value=i.value.replace(r,"").trim())}}handleFormSubmit(e){e.preventDefault(),this.search()}saveCurrentSearchQuery(){var e=this;this.fetchingRecentSearchesPromise.then((function(){const t=z.getSearchQuery();if(t.length>0){const i=e.recentSearchesStore.addRecentSearch(t);e.recentSearchesService.save(i)}})).catch((function(){}))}getAllParams(e){return this.modifyUrlParams?this.modifyUrlParams(e):e}transformParams(e){var t=this;const i=/not\[(\w+)\]\[?\]?=(.*)/;return e.map((function(e){const n=e.match(i);if(n&&3===n.length){const i=n[1];if(ee.notTransformableQueryParams.includes(i)||t.filteredSearchTokenKeys.searchByConditionUrl(e))return e;const s=n[2];return`${i}=${encodeURIComponent("!=")}${s}`}const[s,r]=e.split("=");if(ee.notTransformableQueryParams.includes(s)||t.filteredSearchTokenKeys.searchByConditionUrl(e))return e;return`${s}=${encodeURIComponent("=")}${r}`}))}loadSearchParamsFromURL(){var e=this;const t=Object(u.p)(),i=this.transformParams(t),n=this.getAllParams(i),s=this.getUsernameParams();let r=!1;n.forEach((function(t){const i=t.split("="),n=decodeURIComponent(i[0]),a=i[1],o=e.filteredSearchTokenKeys.searchByConditionUrl(t);if(o){r=!0;const t=e.canEdit&&e.canEdit(o.tokenKey);O.addFilterVisualToken(o.tokenKey,o.operator,o.value,{canEdit:t})}else{const t=a?decodeURIComponent(a.replace(/\+/g," ")):a,i=e.filteredSearchTokenKeys.searchByKeyParam(n);if(i){const{key:n,symbol:s}=i;let a="";-1!==t.indexOf(" ")&&(a=-1===t.indexOf('"')?'"':"'"),r=!0;const o=e.canEdit&&e.canEdit(n,t),{uppercaseTokenName:l,capitalizeTokenValue:c}=i,d=O.getOperatorToken(t),u=O.getValueToken(t);O.addFilterVisualToken(n,d,`${s}${a}${u}${a}`,{canEdit:o,uppercaseTokenName:l,capitalizeTokenValue:c})}else if(i||"assignee_id"!==n)if(i||"author_id"!==n)i||"search"!==n||(r=!0,e.filteredSearchInput.value=t);else{const t=parseInt(a,10);if(s[t]){r=!0;const i="author",n=e.canEdit&&e.canEdit(i),a=O.getOperatorToken(s[t]),o=O.getValueToken(s[t]);O.addFilterVisualToken(i,a,"@"+o,{canEdit:n})}}else{const t=parseInt(a,10);if(s[t]){r=!0;const i="assignee",n=e.canEdit&&e.canEdit(i),a=O.getOperatorToken(s[t]),o=O.getValueToken(s[t]);O.addFilterVisualToken(i,a,"@"+o,{canEdit:n})}}}})),this.saveCurrentSearchQuery(),r&&(this.clearSearchButton.classList.remove("hidden"),this.handleInputPlaceholder())}searchState(e){e.preventDefault();const t=e.currentTarget;t.blur();const i=t.dataset&&t.dataset.state;i&&this.search(i)}getSearchTokens(){const e=z.getSearchQuery();this.saveCurrentSearchQuery();const t=this.filteredSearchTokenKeys.getKeys();return this.tokenizer.processTokens(e,t)}search(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const i=[],{tokens:n,searchToken:s}=this.getSearchTokens();let r=t||Object(u.m)("state");if(!r&&this.useDefaultState&&(r="opened"),this.states.includes(r)&&i.push("state="+r),n.forEach((function(t){const n=e.filteredSearchTokenKeys.searchByConditionKeyValue(t.key,t.operator,t.value),s=e.filteredSearchTokenKeys.searchByKey(t.key)||{},{param:r}=s,a=t.key.replace("-","_"),o=r?`${a}_${r}`:a;let l="";if(n)l=n.replacementUrl||n.url;else{let e=t.value;if(s.lowercaseValueOnSubmit&&(e=e.toLowerCase()),("'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1])&&(e=e.slice(1,e.length-1)),"!="===t.operator){const t=o.endsWith("[]");l=`not[${t?o.slice(0,-2):o}]${t?"[]":""}=${encodeURIComponent(e)}`}else l=`${o}=${encodeURIComponent(e)}`}i.push(l)})),s){const e=s.split(" ").map((function(e){return encodeURIComponent(e)})).join("+");i.push("search="+e)}let a="?scope=all&"+i.join("&");this.anchor&&(a+="#"+this.anchor),this.updateObject?this.updateObject(a):Object(u.O)(a)}getUsernameParams(){const e={};try{const t=this.filteredSearchInput.dataset.usernameParams;JSON.parse(t).forEach((function(t){e[t.id]=t.username}))}catch(e){}return e}tokenChange(){const e=this.dropdownManager.mapping[this.dropdownManager.currentDropdown];if(e){const t=e.reference;this.setDropdownWrapper(),t.dispatchInputEvent()}}onrecentSearchesItemSelected(e){this.clearSearch(),this.filteredSearchInput.value=e,this.filteredSearchInput.dispatchEvent(new CustomEvent("input")),this.search()}canEdit(){return!0}}!function(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(ee,"notTransformableQueryParams",["scope","utf8","state","search"])},eT5B:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("q+nE"),s=i("CkNe"),r=i("aRps");n.default.use(s.b);const a=function(){return new s.b.Store(Object(r.a)())};const o=a()},eV0l:function(e,t,i){var n=i("RGzp"),s=i("87TT"),r=i("MfoV"),a=i("qt7G");e.exports=function(e,t,i){return e=r(e),void 0===(t=i?void 0:t)?s(e)?a(e):n(e):e.match(t)||[]}},eko4:function(e,t,i){"use strict";var n=i("A1CF"),s=i.n(n),r=i("H8gz"),a=i("F+K/"),o=i("cuRJ"),l=i("ZplN"),c=i("OkMp"),d=i("0X+3"),u=i("OqKX"),p=i("OkA1"),h=i("zLBL"),m=i("ly/8"),f=i("9LGn"),g=i("CkNe"),v=i("QJim"),b=i("oj/M"),y=i("vRHk"),k=i("t9l/"),w=i("/MVl"),_=i("Zxcm"),S=i("yZaS"),E=i("Jrby"),D=i("pmYr"),T=i("gZDK"),C=i("WUCt"),I={components:{ClipboardButton:w.a,GlIcon:r.a,DiffStats:C.a,GlBadge:a.a,GlButton:o.a,GlButtonGroup:l.a,GlDropdown:c.a,GlDropdownItem:d.a,GlDropdownDivider:u.a,GlFormCheckbox:p.a,GlLoadingIcon:h.a},directives:{GlTooltip:m.a,SafeHtml:f.a},mixins:[Object(v.IdState)({idProp:function(e){return e.diffFile.file_hash}}),Object(_.a)()],i18n:{...E.c,compareButtonLabel:Object(k.a)("Compare submodule commit revisions")},props:{discussionPath:{type:String,required:!1,default:""},diffFile:{type:Object,required:!0},collapsible:{type:Boolean,required:!1,default:!1},addMergeRequestButtons:{type:Boolean,required:!1,default:!1},expanded:{type:Boolean,required:!1,default:!0},canCurrentUserFork:{type:Boolean,required:!0},viewDiffsFileByFile:{type:Boolean,required:!1,default:!1},showLocalFileReviews:{type:Boolean,required:!1,default:!1},reviewed:{type:Boolean,required:!1,default:!1},codequalityDiff:{type:Array,required:!1,default:function(){return[]}}},idState:()=>({moreActionsShown:!1}),computed:{...Object(g.f)("diffs",["latestDiff"]),...Object(g.d)("diffs",["diffHasExpandedDiscussions","diffHasDiscussions"]),diffContentIDSelector(){return"#diff-content-"+this.diffFile.file_hash},titleLink(){return this.diffFile.submodule?this.diffFile.submodule_tree_url||this.diffFile.submodule_link:this.discussionPath?this.discussionPath:this.diffContentIDSelector},submoduleDiffCompareLinkText(){if(this.diffFile.submodule_compare){const e=s()(Object(y.A)(this.diffFile.submodule_compare.old_sha)),t=s()(Object(y.A)(this.diffFile.submodule_compare.new_sha));return Object(k.h)(Object(k.a)("Compare %{oldCommitId}...%{newCommitId}"),{oldCommitId:`<span class="commit-sha">${e}</span>`,newCommitId:`<span class="commit-sha">${t}</span>`},!1)}return null},filePath(){return this.diffFile.submodule?`${this.diffFile.file_path} @ ${Object(y.A)(this.diffFile.blob.id)}`:this.diffFile.deleted_file?Object(k.h)(Object(k.a)("%{filePath} deleted"),{filePath:this.diffFile.file_path},!1):this.diffFile.file_path},isUsingLfs(){return this.diffFile.stored_externally&&"lfs"===this.diffFile.external_storage},isCollapsed(){return Object(D.c)(this.diffFile,{fileByFile:this.viewDiffsFileByFile})},collapseIcon(){return this.expanded?"chevron-down":"chevron-right"},viewFileButtonText(){const e=s()(Object(y.A)(this.diffFile.content_sha));return Object(k.h)(Object(k.g)("MergeRequests|View file @ %{commitId}"),{commitId:e},!1)},viewReplacedFileButtonText(){const e=s()(Object(y.A)(this.diffFile.diff_refs.base_sha));return Object(k.h)(Object(k.g)("MergeRequests|View replaced file @ %{commitId}"),{commitId:e})},gfmCopyText(){return`\`${this.diffFile.file_path}\``},isFileRenamed(){return this.diffFile.renamed_file},isModeChanged(){return this.diffFile.mode_changed},expandDiffToFullFileTitle(){return this.diffFile.isShowingFullFile?Object(k.g)("MRDiff|Show changes only"):Object(k.g)("MRDiff|Show full file")},showEditButton(){var e;return(null===(e=this.diffFile.blob)||void 0===e?void 0:e.readable_text)&&!this.diffFile.deleted_file&&(this.diffFile.edit_path||this.diffFile.ide_edit_path)},isReviewable(){return Object(T.d)(this.diffFile)},externalUrlLabel(){return Object(k.h)(Object(k.a)("View on %{url}"),{url:this.diffFile.formatted_external_url})}},watch:{"idState.moreActionsShown":{handler(e){const t=this.$el.closest(".vue-recycle-scroller__item-view");t&&(t.style.zIndex=e?"1":null)}}},methods:{...Object(g.c)("diffs",["toggleFileDiscussions","toggleFileDiscussionWrappers","toggleFullDiff","setCurrentFileHash","reviewFile","setFileCollapsedByUser"]),handleToggleFile(){this.$emit("toggleFile")},showForkMessage(e){this.canCurrentUserFork&&!this.diffFile.can_modify_blob&&(e.preventDefault(),this.$emit("showForkMessage"))},handleFileNameClick(e){if(!(this.diffFile.submodule_tree_url||this.diffFile.submodule_link||this.discussionPath)){e.preventDefault();const t=this.diffContentIDSelector;Object(b.K)(document.querySelector(t)),window.location.hash=t,this.viewDiffsFileByFile||this.setCurrentFileHash(this.diffFile.file_hash)}},setMoreActionsShown(e){this.idState.moreActionsShown=e},toggleReview(e){const t=this.isCollapsed&&Object(D.a)(this.diffFile)===S.n,i=this.expanded,n=!i,s=e;this.reviewFile({file:this.diffFile,reviewed:s}),s&&t&&this.setFileCollapsedByUser({filePath:this.diffFile.file_path,collapsed:!0}),(i&&s||n&&!s)&&this.$emit("toggleFile")}}},O=i("bPvS"),j=Object(O.a)(I,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"header",staticClass:"js-file-title file-title file-title-flex-parent gl-border",class:{"gl-z-dropdown-menu!":e.idState.moreActionsShown,"is-sidebar-moved":e.glFeatures.movedMrSidebar},attrs:{"data-qa-selector":"file_title_container","data-qa-file-name":e.filePath},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleToggleFile.apply(null,arguments)}}},[i("div",{staticClass:"file-header-content"},[e.collapsible?i("gl-icon",{ref:"collapseIcon",staticClass:"diff-toggle-caret gl-mr-2",attrs:{name:e.collapseIcon,size:16},on:{click:function(t){return t.stopPropagation(),e.handleToggleFile.apply(null,arguments)}}}):e._e(),e._v(" "),i("a",{ref:"titleWrapper",staticClass:"gl-mr-2 gl-text-decoration-none! gl-word-break-all",attrs:{"v-once":!e.viewDiffsFileByFile,href:e.titleLink},on:{click:e.handleFileNameClick}},[e.isFileRenamed?i("span",[i("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"},{name:"safe-html",rawName:"v-safe-html",value:e.diffFile.old_path_html,expression:"diffFile.old_path_html"}],staticClass:"file-title-name",attrs:{title:e.diffFile.old_path}}),e._v("\n        \n        "),i("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"},{name:"safe-html",rawName:"v-safe-html",value:e.diffFile.new_path_html,expression:"diffFile.new_path_html"}],staticClass:"file-title-name",attrs:{title:e.diffFile.new_path}})]):i("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"file-title-name",attrs:{title:e.filePath,"data-container":"body","data-qa-selector":"file_name_content"}},[e._v("\n        "+e._s(e.filePath)+"\n      ")])]),e._v(" "),i("clipboard-button",{attrs:{title:e.__("Copy file path"),text:e.diffFile.file_path,gfm:e.gfmCopyText,size:"small","data-testid":"diff-file-copy-clipboard",category:"tertiary","data-track-action":"click_copy_file_button","data-track-label":"diff_copy_file_path_button","data-track-property":"diff_copy_file"}}),e._v(" "),e.isModeChanged?i("small",{ref:"fileMode",staticClass:"mr-1"},[e._v("\n      "+e._s(e.diffFile.a_mode)+"  "+e._s(e.diffFile.b_mode)+"\n    ")]):e._e(),e._v(" "),e.isUsingLfs?i("gl-badge",{staticClass:"gl-mr-2",attrs:{variant:"neutral","data-testid":"label-lfs"}},[e._v(e._s(e.__("LFS")))]):e._e()],1),e._v(" "),!e.diffFile.submodule&&e.addMergeRequestButtons?i("div",{staticClass:"file-actions d-flex align-items-center gl-ml-auto gl-align-self-start"},[i("diff-stats",{attrs:{"diff-file":e.diffFile,"added-lines":e.diffFile.added_lines,"removed-lines":e.diffFile.removed_lines}}),e._v(" "),e.isReviewable&&e.showLocalFileReviews?i("gl-form-checkbox",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"gl-mr-5 gl-display-flex gl-align-items-center",attrs:{"data-testid":"fileReviewCheckbox",title:e.$options.i18n.fileReviewTooltip,checked:e.reviewed},on:{change:e.toggleReview}},[e._v("\n      "+e._s(e.$options.i18n.fileReviewLabel)+"\n    ")]):e._e(),e._v(" "),i("gl-button-group",{staticClass:"gl-pt-0!"},[e.diffFile.external_url?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],ref:"externalLink",attrs:{href:e.diffFile.external_url,title:e.externalUrlLabel,"aria-label":e.externalUrlLabel,target:"_blank","data-track-action":"click_toggle_external_button","data-track-label":"diff_toggle_external_button","data-track-property":"diff_toggle_external",icon:"external-link"}}):e._e(),e._v(" "),i("gl-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover.focus",value:e.$options.i18n.optionsDropdownTitle,expression:"$options.i18n.optionsDropdownTitle",modifiers:{hover:!0,focus:!0}}],staticClass:"gl-pt-0!",attrs:{size:"small",category:"tertiary",right:"","toggle-class":"btn-icon js-diff-more-actions","data-qa-selector":"dropdown_button"},on:{show:function(t){return e.setMoreActionsShown(!0)},hidden:function(t){return e.setMoreActionsShown(!1)}},scopedSlots:e._u([{key:"button-content",fn:function(){return[i("gl-icon",{staticClass:"mr-0",attrs:{name:"ellipsis_v"}}),e._v(" "),i("span",{staticClass:"sr-only"},[e._v(e._s(e.$options.i18n.optionsDropdownTitle))])]},proxy:!0}],null,!1,1529039611)},[e._v(" "),e.diffFile.replaced_view_path?i("gl-dropdown-item",{ref:"replacedFileButton",attrs:{href:e.diffFile.replaced_view_path,target:"_blank"}},[e._v("\n          "+e._s(e.viewReplacedFileButtonText)+"\n        ")]):e._e(),e._v(" "),i("gl-dropdown-item",{ref:"viewButton",attrs:{href:e.diffFile.view_path,target:"_blank"}},[e._v("\n          "+e._s(e.viewFileButtonText)+"\n        ")]),e._v(" "),e.showEditButton?[e.diffFile.edit_path?i("gl-dropdown-item",{ref:"editButton",staticClass:"js-edit-blob",attrs:{href:e.diffFile.edit_path},on:{click:e.showForkMessage}},[e._v("\n            "+e._s(e.__("Edit in single-file editor"))+"\n          ")]):e._e(),e._v(" "),e.diffFile.edit_path?i("gl-dropdown-item",{ref:"ideEditButton",staticClass:"js-ide-edit-blob",attrs:{href:e.diffFile.ide_edit_path,"data-qa-selector":"edit_in_ide_button"}},[e._v("\n            "+e._s(e.__("Open in Web IDE"))+"\n          ")]):e._e()]:e._e(),e._v(" "),e.isCollapsed?e._e():[!e.diffFile.is_fully_expanded||e.diffHasDiscussions(e.diffFile)?i("gl-dropdown-divider"):e._e(),e._v(" "),e.diffHasDiscussions(e.diffFile)?i("gl-dropdown-item",{ref:"toggleDiscussionsButton",attrs:{"data-qa-selector":"toggle_comments_button"},on:{click:function(t){return e.toggleFileDiscussionWrappers(e.diffFile)}}},[e.diffHasExpandedDiscussions(e.diffFile)?[e._v("\n              "+e._s(e.__("Hide comments on this file"))+"\n            ")]:[e._v("\n              "+e._s(e.__("Show comments on this file"))+"\n            ")]],2):e._e(),e._v(" "),e.diffFile.is_fully_expanded?e._e():i("gl-dropdown-item",{ref:"expandDiffToFullFileButton",attrs:{disabled:e.diffFile.isLoadingFullFile},on:{click:function(t){return e.toggleFullDiff(e.diffFile.file_path)}}},[e.diffFile.isLoadingFullFile?i("gl-loading-icon",{attrs:{size:"sm",inline:""}}):e._e(),e._v("\n            "+e._s(e.expandDiffToFullFileTitle)+"\n          ")],1)]],2)],1)],1):e._e(),e._v(" "),e.diffFile.submodule_compare?i("div",{staticClass:"file-actions d-none d-sm-flex align-items-center flex-wrap"},[i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}},{name:"safe-html",rawName:"v-safe-html",value:e.submoduleDiffCompareLinkText,expression:"submoduleDiffCompareLinkText"}],staticClass:"submodule-compare",attrs:{title:e.$options.i18n.compareButtonLabel,"aria-label":e.$options.i18n.compareButtonLabel,href:e.diffFile.submodule_compare.url}})],1):e._e()])}),[],!1,null,null,null);t.a=j.exports},fFSh:function(e,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MilestoneFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Milestone"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"expired"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}],loc:{start:0,end:67}};i.loc.source={body:"fragment MilestoneFragment on Milestone {\n  expired\n  id\n  title\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.MilestoneFragment=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"MilestoneFragment")},fJoV:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return r}));var n=i("t9l/");const s={CRITICAL:Object(n.g)("severity|Critical"),HIGH:Object(n.g)("severity|High"),MEDIUM:Object(n.g)("severity|Medium"),LOW:Object(n.g)("severity|Low"),INFO:Object(n.g)("severity|Info"),UNKNOWN:Object(n.g)("severity|Unknown")},r={OPERATIONS:{TITLE:"OPERATIONS",STATUSES:{TRIGGERED:Object(n.g)("AlertManagement|Triggered"),ACKNOWLEDGED:Object(n.g)("AlertManagement|Acknowledged"),RESOLVED:Object(n.g)("AlertManagement|Resolved")},TRACK_ALERTS_DETAILS_VIEWS_OPTIONS:{category:"Alert Management",action:"view_alert_details"},TRACK_ALERT_STATUS_UPDATE_OPTIONS:{category:"Alert Management",action:"update_alert_status",label:"Status"}}}},fQQh:function(e,t,i){var n=i("8RB9"),s=i("LrAm");e.exports=function(e){return n(e,s(e))}},fefF:function(e,t,i){"use strict";var n=i("pY+i"),s=i.n(n),r=i("r4PS"),a=i.n(r),o=(i("uHfJ"),i("R0RX"),i("w7Q3"));t.a=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.state={isLocalStorageAvailable:!0,recentSearches:[],allowedKeys:t,...e}}addRecentSearch(e){return this.setRecentSearches([e].concat(this.state.recentSearches)),this.state.recentSearches}setRecentSearches(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){return"string"==typeof e?e.trim():e}));return this.state.recentSearches=a()(e,s.a).slice(0,o.d),this.state.recentSearches}}},fpFD:function(e,t,i){"use strict";var n=i("mABg"),s=i.n(n),r=i("CkNe"),a=i("MW7a");function o(e,t){return 100*e/t}var l={name:"ImageDiffOverlay",components:{DesignNotePin:i("CgKM").a},mixins:[a.a],props:{discussions:{type:[Array,Object],required:!0},fileHash:{type:String,required:!0},canComment:{type:Boolean,required:!1,default:!1},showCommentIcon:{type:Boolean,required:!1,default:!1},badgeClass:{type:String,required:!1,default:""},shouldToggleDiscussion:{type:Boolean,required:!1,default:!0},renderedWidth:{type:Number,required:!0},renderedHeight:{type:Number,required:!0}},computed:{...Object(r.d)("diffs",["getDiffFileByHash","getCommentFormForDiffFile"]),currentCommentForm(){return this.getCommentFormForDiffFile(this.fileHash)},allDiscussions(){return s()(this.discussions)?this.discussions:[this.discussions]}},methods:{...Object(r.c)("diffs",["openDiffFileCommentForm"]),getImageDimensions(){return{width:Math.round(this.$parent.width),height:Math.round(this.$parent.height)}},getPositionForObject(e){const{x:t,y:i,width:n,height:s}=e;return{x:t/n*100,y:i/s*100}},getPosition(e){const{x:t,y:i}=this.getPositionForObject(e.position);return{left:t+"%",top:i+"%"}},clickedImage(e,t){const{width:i,height:n}=this.getImageDimensions(),s=o(e,this.renderedWidth),r=o(t,this.renderedHeight);this.openDiffFileCommentForm({fileHash:this.fileHash,width:i,height:n,x:Math.round(i*(s/100)),y:Math.round(n*(r/100)),xPercent:s,yPercent:r})}}},c=i("bPvS"),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"position-absolute w-100 h-100 image-diff-overlay"},[e.canComment?i("button",{staticClass:"btn-transparent position-absolute image-diff-overlay-add-comment w-100 h-100 js-add-image-diff-note-button",attrs:{type:"button"},on:{click:function(t){return e.clickedImage(t.offsetX,t.offsetY)}}},[i("span",{staticClass:"sr-only"},[e._v(" "+e._s(e.__("Add image comment"))+" ")])]):e._e(),e._v(" "),e._l(e.allDiscussions,(function(t,n){return i("design-note-pin",{key:t.id,staticClass:"js-image-badge",class:e.badgeClass,attrs:{label:e.showCommentIcon?null:e.toggleText(t,n),position:e.getPosition(t),"aria-label":e.__("Show comments"),"is-draft":t.isDraft,"is-resolved":t.resolved,"is-on-image":"",disabled:!e.shouldToggleDiscussion},on:{click:function(i){return e.clickedToggle(t)}}})})),e._v(" "),e.canComment&&e.currentCommentForm?i("design-note-pin",{attrs:{position:{left:e.currentCommentForm.xPercent+"%",top:e.currentCommentForm.yPercent+"%"}}}):e._e()],2)}),[],!1,null,null,null);t.a=d.exports},gEtM:function(e,t,i){(e.exports=i("ZSrL")(!1)).push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* hide the existing modal header\n */\n#work-item-detail-modal .modal-header * {\n  display: none;\n}\n",""])},gZDK:function(e,t,i){"use strict";i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a})),i.d(t,"e",(function(){return o})),i.d(t,"d",(function(){return l})),i.d(t,"b",(function(){return c}));i("SXnf"),i("f5Le"),i("TTAZ"),i("W2Di"),i("9gLG"),i("pO+W"),i("DGqX"),i("DuA4"),i("8AuF"),i("bDpz"),i("JbNT"),i("CYm8"),i("s4MS"),i("fDBp"),i("Z+bI"),i("n0qn"),i("0no1"),i("3R5X"),i("gdbl");function n(e){return e+"-file-reviews"}function s(e,t){const i=e[t.file_identifier_hash];return!(null==t||!t.id||null==i||!i.length)&&new Set(i).has(t.id)}function r(e,t){return e.reduce((function(e,i){return{...e,[i.id]:s(t,i)}}),{})}function a(e){const t=localStorage.getItem(n(e));let i={};if(t)try{i=JSON.parse(t)}catch(e){i={}}return i}function o(e,t){return localStorage.setItem(n(e),JSON.stringify(t)),t}function l(e){return Boolean(e.id)&&Boolean(e.file_identifier_hash)}function c(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n={...e||{}},s=n;let r;return l(t)&&(r=new Set(n[t.file_identifier_hash]||[]),i?(r.add(t.id),r.add("hash:"+t.file_hash)):(r.delete(t.id),r.delete("hash:"+t.file_hash)),s[t.file_identifier_hash]=Array.from(r),0===s[t.file_identifier_hash].length&&delete s[t.file_identifier_hash]),s}},gcrt:function(e,t,i){"use strict";var n=i("Fcvx"),s=i("gzws"),r=i("Uklg"),a=i("u1ru"),o=i("5DNK"),l=i("6IRw"),c=i.n(l);const d={components:{GlLink:a.a,GlTooltip:o.a,CloseButton:r.a},props:{backgroundColor:{type:String,required:!0,validator:e=>/^(#|rgb|rgba)/.test(e)},title:{type:String,required:!0,default:""},description:{type:String,required:!1,default:""},size:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},target:{type:String,required:!1,default:""},scoped:{type:Boolean,required:!1,default:!1},showCloseButton:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1}},data(){return{splitScopedLabelIndex:this.title.lastIndexOf("::")}},computed:{cssClasses(){const e=Object(s.a)(this.backgroundColor);return{"gl-label-sm":"sm"===this.size,"gl-label-scoped":this.scoped,"gl-label-text-dark":e===n.y.dark,"gl-label-text-light":e===n.y.light}},cssVariables(){return{"--label-background-color":this.backgroundColor,"--label-inset-border":`inset 0 0 0 ${"sm"===this.size?"1px":"2px"} ${this.backgroundColor}`}},scopedKey(){return this.scoped?this.title.slice(0,this.splitScopedLabelIndex):this.title},scopedValue(){return this.title.slice(this.splitScopedLabelIndex+2)},closeIconSize(){return"sm"===this.size?12:16},labelComponent(){return this.target?a.a:"span"},tooltipTarget(){return this.target?this.$refs.labelTitle.$el:this.$refs.labelTitle}},watch:{title(){this.splitScopedLabelIndex=this.title.lastIndexOf("::")}},methods:{onClick(e){this.$emit("click",e)},onClose(e){this.$emit("close",e)}}};const u=c()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",e._b({staticClass:"gl-label",class:e.cssClasses,style:e.cssVariables,on:{click:e.onClick}},"span",e.$attrs,!1),[i(e.labelComponent,{ref:"labelTitle",tag:"component",staticClass:"gl-label-link",attrs:{href:!!e.target&&e.target,tabindex:"0"}},[i("span",{staticClass:"gl-label-text"},[e._v("\n      "+e._s(e.scopedKey)+"\n    ")]),e._v(" "),e.scoped&&e.scopedValue?i("span",{staticClass:"gl-label-text-scoped"},[e._v("\n      "+e._s(e.scopedValue)+"\n    ")]):e._e()]),e._v(" "),e.showCloseButton?i("close-button",{staticClass:"gl-label-close gl-p-0!",attrs:{label:"Remove label",variant:"reset",disabled:e.disabled},on:{click:e.onClose}}):e._e(),e._v(" "),e.description?i("gl-tooltip",{attrs:{target:function(){return e.tooltipTarget},placement:e.tooltipPlacement,boundary:"viewport"}},[e.scoped?i("span",{staticClass:"gl-label-tooltip-title"},[e._v("Scoped label")]):e._e(),e._v("\n    "+e._s(e.description)+"\n  ")]):e._e()],1)},staticRenderFns:[]},void 0,d,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=u},gmzr:function(e,t,i){"use strict";i("ylB9"),i("3R5X"),i("XexO"),i("ujLG"),i("HaUQ");var n=i("cuRJ"),s=i("nPFI"),r=i("u1ru"),a=i("CkNe"),o=i("rh11"),l=i("yYHy"),c=i("t9l/"),d=i("WW8A"),u=i("RewC"),p=i("L+KC"),h=i("K4Wm"),m=i("A8Nj"),f=i("Z0Ze"),g={i18n:m.a,name:"NoteForm",components:{MarkdownField:d.a,CommentFieldLayout:f.a,GlButton:n.a,GlSprintf:s.a,GlLink:r.a},mixins:[p.a,h.a],props:{noteBody:{type:String,required:!1,default:""},noteId:{type:[String,Number],required:!1,default:""},saveButtonTitle:{type:String,required:!1,default:Object(c.a)("Save comment")},discussion:{type:Object,required:!1,default:function(){return{}}},lineCode:{type:String,required:!1,default:""},resolveDiscussion:{type:Boolean,required:!1,default:!1},line:{type:Object,required:!1,default:null},lines:{type:Array,required:!1,default:function(){return[]}},note:{type:Object,required:!1,default:null},diffFile:{type:Object,required:!1,default:null},helpPagePath:{type:String,required:!1,default:""},autosaveKey:{type:String,required:!1,default:""},showSuggestPopover:{type:Boolean,required:!1,default:!1},isDraft:{type:Boolean,required:!1,default:!1}},data(){let e=this.noteBody;return!e&&this.autosaveKey&&(e=Object(o.c)(this.autosaveKey)||""),{updatedNoteBody:e,conflictWhileEditing:!1,isSubmitting:!1,isResolving:this.resolveDiscussion,isUnresolving:!this.resolveDiscussion,resolveAsThread:!0,isSubmittingWithKeydown:!1}},computed:{...Object(a.d)(["getDiscussionLastNote","getNoteableData","getNoteableDataByProp","getNotesDataByProp","getUserDataByProp"]),...Object(a.f)({withBatchComments:function(e){var t;return null===(t=e.batchComments)||void 0===t?void 0:t.withBatchComments}}),...Object(a.d)("batchComments",["hasDrafts"]),showBatchCommentsActions(){return this.withBatchComments&&""===this.noteId&&!this.discussion.for_commit},showResolveDiscussionToggle(){var e,t;return!(null===(e=this.discussion)||void 0===e||!e.notes)&&((null===(t=this.discussion)||void 0===t?void 0:t.notes.filter((function(e){return e.resolvable})).some((function(e){var t;return null===(t=e.current_user)||void 0===t?void 0:t.can_resolve_discussion})))||this.isDraft)},textareaPlaceholder(){var e;return null!==(e=this.discussionNote)&&void 0!==e&&e.internal?this.$options.i18n.bodyPlaceholderInternal:this.$options.i18n.bodyPlaceholder},noteHash(){return this.noteId?"#note_"+this.noteId:"#"},diffParams(){return this.diffFile?{filePath:this.diffFile.file_path,refs:this.diffFile.diff_refs}:this.note&&this.note.position?{filePath:this.note.position.new_path,refs:this.note.position}:this.discussion&&this.discussion.diff_file?{filePath:this.discussion.diff_file.file_path,refs:this.discussion.diff_file.diff_refs}:null},markdownPreviewPath(){const e=this.getNoteableDataByProp("preview_note_path"),t=this.line&&this.diffParams,i=t?{preview_suggestions:t,line:this.line.new_line,file_path:this.diffParams.filePath,base_sha:this.diffParams.refs.base_sha,start_sha:this.diffParams.refs.start_sha,head_sha:this.diffParams.refs.head_sha}:{};return Object(l.y)(i,e)},markdownDocsPath(){return this.getNotesDataByProp("markdownDocsPath")},quickActionsDocsPath(){return this.getNotesDataByProp("quickActionsDocsPath")},currentUserId(){return this.getUserDataByProp("id")},isDisabled(){return!this.updatedNoteBody.length||this.isSubmitting},discussionNote(){return(this.discussion.id?this.getDiscussionLastNote(this.discussion):this.note)||{}},canSuggest(){return this.getNoteableData.can_receive_suggestion&&this.line&&this.line.can_receive_suggestion},changedCommentText:()=>({text:Object(c.a)("This comment changed after you started editing it. Review the %{startTag}updated comment%{endTag} to ensure information is not lost."),placeholder:{link:["startTag","endTag"]}})},watch:{noteBody(){this.updatedNoteBody===this.noteBody?this.updatedNoteBody=this.noteBody:this.conflictWhileEditing=!0}},mounted(){this.$refs.textarea.focus()},methods:{...Object(a.c)(["toggleResolveNote"]),shouldToggleResolved(e,t){const i=this.shouldBeResolved&&this.shouldBeResolved(e);return e||void 0!==i&&t!==i},editMyLastNote(){if(""===this.updatedNoteBody){const e=this.getDiscussionLastNote(this.discussion);e&&u.a.$emit("enterEditMode",{noteId:e.id})}},cancelHandler(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$refs.textarea.classList.contains("at-who-active")||this.$emit("cancelForm",e,this.noteBody!==this.updatedNoteBody)},onInput(){if(!this.isSubmittingWithKeydown&&this.autosaveKey){const{autosaveKey:e,updatedNoteBody:t}=this;Object(o.e)(e,t)}},handleKeySubmit(){this.showBatchCommentsActions?this.handleAddToReview():(this.isSubmittingWithKeydown=!0,this.handleUpdate())},handleUpdate(e){var t=this;const i=this.discussionResolved;this.isSubmitting=!0,this.$emit("handleFormUpdate",this.updatedNoteBody,this.$refs.editNoteForm,(function(){t.isSubmitting=!1,t.shouldToggleResolved(e,i)&&t.resolveHandler(i)}),this.discussionResolved?!this.isUnresolving:this.isResolving)},shouldBeResolved(e){return this.withBatchComments?this.discussionResolved&&!this.isUnresolving||!this.discussionResolved&&this.isResolving:e},handleAddToReview(){const e=this.discussionResolved&&!this.isUnresolving||!this.discussionResolved&&this.isResolving;this.isSubmitting=!0,this.$emit("handleFormUpdateAddToReview",this.updatedNoteBody,e)},hasEmailParticipants(){var e;return null===(e=this.getNoteableData.issue_email_participants)||void 0===e?void 0:e.length}}},v=i("bPvS"),b=Object(v.a)(g,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"editNoteForm",staticClass:"note-edit-form current-note-edit-form js-discussion-note-form"},[e.conflictWhileEditing?i("div",{staticClass:"js-conflict-edit-warning alert alert-danger"},[i("gl-sprintf",{attrs:{message:e.changedCommentText.text,placeholders:e.changedCommentText.placeholder},scopedSlots:e._u([{key:"link",fn:function(t){var n=t.content;return[i("gl-link",{attrs:{href:e.noteHash,target:"_blank"}},[e._v(e._s(n))])]}}],null,!1,2525184110)})],1):e._e(),e._v(" "),i("div",{staticClass:"flash-container timeline-content"}),e._v(" "),i("form",{staticClass:"edit-note common-note-form js-quick-submit gfm-form",attrs:{"data-line-code":e.lineCode}},[i("comment-field-layout",{attrs:{"noteable-data":e.getNoteableData,"is-internal-note":e.discussion.internal}},[i("markdown-field",{attrs:{"markdown-preview-path":e.markdownPreviewPath,"markdown-docs-path":e.markdownDocsPath,"quick-actions-docs-path":e.quickActionsDocsPath,line:e.line,lines:e.lines,note:e.discussionNote,"can-suggest":e.canSuggest,"add-spacing-classes":!1,"help-page-path":e.helpPagePath,"show-suggest-popover":e.showSuggestPopover,"textarea-value":e.updatedNoteBody},on:{handleSuggestDismissed:function(){return e.$emit("handleSuggestDismissed")}},scopedSlots:e._u([{key:"textarea",fn:function(){return[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.updatedNoteBody,expression:"updatedNoteBody"}],ref:"textarea",staticClass:"note-textarea js-gfm-input js-note-text js-autosize markdown-area js-vue-issue-note-form",attrs:{id:"note_note",disabled:e.isSubmitting,"data-supports-quick-actions":"true",name:"note[note]","data-qa-selector":"reply_field",dir:"auto","aria-label":e.__("Reply to comment"),placeholder:e.textareaPlaceholder},domProps:{value:e.updatedNoteBody},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.handleKeySubmit():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.handleKeySubmit():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.editMyLastNote()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.cancelHandler(!0)}],input:[function(t){t.target.composing||(e.updatedNoteBody=t.target.value)},e.onInput]}})]},proxy:!0}])})],1),e._v(" "),i("div",{staticClass:"note-form-actions"},[e.showBatchCommentsActions?[e.showResolveDiscussionToggle?i("p",[i("label",[e.discussionResolved?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.isUnresolving,expression:"isUnresolving"}],staticClass:"js-unresolve-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isUnresolving)?e._i(e.isUnresolving,null)>-1:e.isUnresolving},on:{change:function(t){var i=e.isUnresolving,n=t.target,s=!!n.checked;if(Array.isArray(i)){var r=e._i(i,null);n.checked?r<0&&(e.isUnresolving=i.concat([null])):r>-1&&(e.isUnresolving=i.slice(0,r).concat(i.slice(r+1)))}else e.isUnresolving=s}}}),e._v("\n              "+e._s(e.__("Unresolve thread"))+"\n            ")]:[i("input",{directives:[{name:"model",rawName:"v-model",value:e.isResolving,expression:"isResolving"}],staticClass:"js-resolve-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isResolving)?e._i(e.isResolving,null)>-1:e.isResolving},on:{change:function(t){var i=e.isResolving,n=t.target,s=!!n.checked;if(Array.isArray(i)){var r=e._i(i,null);n.checked?r<0&&(e.isResolving=i.concat([null])):r>-1&&(e.isResolving=i.slice(0,r).concat(i.slice(r+1)))}else e.isResolving=s}}}),e._v("\n              "+e._s(e.__("Resolve thread"))+"\n            ")]],2)]):e._e(),e._v(" "),i("div",{staticClass:"gl-display-flex gl-flex-wrap gl-mb-n3"},[i("gl-button",{staticClass:"gl-sm-mr-3 gl-mb-3",attrs:{disabled:e.isDisabled,category:"primary",variant:"confirm","data-qa-selector":"start_review_button"},on:{click:e.handleAddToReview}},[e.hasDrafts?[e._v(e._s(e.__("Add to review")))]:[e._v(e._s(e.__("Start a review")))]],2),e._v(" "),i("gl-button",{staticClass:"gl-sm-mr-3 gl-mb-3 js-comment-button",attrs:{disabled:e.isDisabled,category:"secondary",variant:"confirm","data-qa-selector":"comment_now_button"},on:{click:function(t){return e.handleUpdate()}}},[e._v("\n            "+e._s(e.__("Add comment now"))+"\n          ")]),e._v(" "),i("gl-button",{staticClass:"note-edit-cancel gl-mb-3 js-close-discussion-note-form",attrs:{category:"secondary",variant:"default","data-testid":"cancelBatchCommentsEnabled"},on:{click:function(t){return e.cancelHandler(!0)}}},[e._v("\n            "+e._s(e.__("Cancel"))+"\n          ")])],1)]:[i("div",{staticClass:"gl-display-sm-flex gl-flex-wrap"},[i("gl-button",{staticClass:"gl-sm-mr-3 gl-xs-mb-3 js-vue-issue-save js-comment-button",attrs:{disabled:e.isDisabled,category:"primary",variant:"confirm","data-qa-selector":"reply_comment_button"},on:{click:function(t){return e.handleUpdate()}}},[e._v("\n            "+e._s(e.saveButtonTitle)+"\n          ")]),e._v(" "),e.discussion.resolvable?i("gl-button",{staticClass:"gl-sm-mr-3 gl-xs-mb-3 js-comment-resolve-button",attrs:{category:"secondary",variant:"default"},on:{click:function(t){return t.preventDefault(),e.handleUpdate(!0)}}},[e._v("\n            "+e._s(e.resolveButtonTitle)+"\n          ")]):e._e(),e._v(" "),i("gl-button",{staticClass:"note-edit-cancel js-close-discussion-note-form",attrs:{category:"secondary",variant:"default","data-testid":"cancel"},on:{click:function(t){return e.cancelHandler(!0)}}},[e._v("\n            "+e._s(e.__("Cancel"))+"\n          ")])],1)]],2)],1)])}),[],!1,null,null,null);t.a=b.exports},hAnt:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));const{performance:n}=window,s="function"==typeof(null==n?void 0:n.now)&&Date.now()>document.createEvent("Event").timeStamp?()=>n.now():()=>Date.now(),r=new Map;let a=!1;const o=e=>{r.forEach((t,i)=>{let{bindTimeStamp:n,callback:s}=t;if(!(i.contains(e.target)||e.timeStamp<=n))try{s(e)}catch(e){0}})},l={bind:(e,t)=>{let{value:i,arg:n="click"}=t;if("function"!=typeof i)throw new Error(`[GlOutsideDirective] Value must be a function; got ${typeof i}!`);if("click"!==n)throw new Error(`[GlOutsideDirective] Cannot bind ${n} events; only click events are currently supported!`);r.has(e)||(a||a||(document.addEventListener("click",o,{capture:!0}),a=!0),r.set(e,{bindTimeStamp:s(),callback:i}))},unbind:e=>{r.delete(e),0===r.size&&a&&(document.removeEventListener("click",o),a=!1)}}},hK9k:function(e,t,i){"use strict";var n=i("j/k3"),s=i("tOjW"),r={name:"DynamicScroller",components:{RecycleScroller:n.a},inheritAttrs:!1,provide(){return"undefined"!=typeof ResizeObserver&&(this.$_resizeObserver=new ResizeObserver((function(e){for(const t of e)if(t.target){const e=new CustomEvent("resize",{detail:{contentRect:t.contentRect}});t.target.dispatchEvent(e)}}))),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},props:{...s.a,minItemSize:{type:[Number,String],required:!0}},data(){return{vscrollData:{active:!0,sizes:{},validSizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:s.b,itemsWithSize(){const e=[],{items:t,keyField:i,simpleArray:n}=this,s=this.vscrollData.sizes;for(let r=0;r<t.length;r++){const a=t[r],o=n?r:a[i];let l=s[o];void 0!==l||this.$_undefinedMap[o]||(l=0),e.push({item:a,id:o,size:l})}return e},listeners(){const e={};for(const t in this.$listeners)"resize"!==t&&"visible"!==t&&(e[t]=this.$listeners[t]);return e}},watch:{items(){this.forceUpdate(!1)},simpleArray:{handler(e){this.vscrollData.simpleArray=e},immediate:!0},direction(e){this.forceUpdate(!0)}},created(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={}},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible(){this.$emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]||this.simpleArray)&&(this.vscrollData.validSizes={}),this.$emit("vscroll:update",{force:!0})},scrollToItem(e){const t=this.$refs.scroller;t&&t.scrollToItem(e)},getItemSize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const i=this.simpleArray?null!=t?t:this.items.indexOf(e):e[this.keyField];return this.vscrollData.sizes[i]||0},scrollToBottom(){var e=this;if(this.$_scrollingToBottom)return;this.$_scrollingToBottom=!0;const t=this.$el;this.$nextTick((function(){t.scrollTop=t.scrollHeight+5e3;const i=function(){t.scrollTop=t.scrollHeight+5e3,requestAnimationFrame((function(){t.scrollTop=t.scrollHeight+5e3,0===e.$_undefinedSizes?e.$_scrollingToBottom=!1:requestAnimationFrame(i)}))};requestAnimationFrame(i)}))}}},a=i("bPvS"),o=Object(a.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("RecycleScroller",e._g(e._b({ref:"scroller",attrs:{items:e.itemsWithSize,"min-item-size":e.minItemSize,direction:e.direction,"key-field":"id"},on:{resize:e.onScrollerResize,visible:e.onScrollerVisible},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.item,n=t.index,s=t.active;return[e._t("default",null,null,{item:i.item,index:n,active:s,itemWithSize:i})]}},{key:"before",fn:function(){return[e._t("before")]},proxy:!0},{key:"after",fn:function(){return[e._t("after")]},proxy:!0}],null,!0)},"RecycleScroller",e.$attrs,!1),e.listeners))}),[],!1,null,null,null);t.a=o.exports},iAZU:function(e,t,i){var n=i("NZhY"),s=i("ZzVf"),r=i("ri+z"),a=i("qGI4"),o=i("5uIe"),l=i("lj6f");e.exports=function(e,t,i,c){var d=-1,u=s,p=!0,h=e.length,m=[],f=t.length;if(!h)return m;i&&(t=a(t,o(i))),c?(u=r,p=!1):t.length>=200&&(u=l,p=!1,t=new n(t));e:for(;++d<h;){var g=e[d],v=null==i?g:i(g);if(g=c||0!==g?g:0,p&&v==v){for(var b=f;b--;)if(t[b]===v)continue e;m.push(g)}else u(t,v,c)||m.push(g)}return m}},iPqD:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("6oy4"),s=i.n(n);class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.cfg={callback:e.callback,startingInterval:e.startingInterval,maxInterval:e.maxInterval,hiddenInterval:e.hiddenInterval,incrementByFactorOf:e.incrementByFactorOf,lazyStart:e.lazyStart,immediateExecution:e.immediateExecution},this.state={intervalId:null,currentInterval:this.cfg.startingInterval,pagevisibile:!0},this.initInterval()}start(){var e=this;const{cfg:t,state:i}=this;t.immediateExecution&&!this.isLoading&&(t.immediateExecution=!1,this.triggerCallback()),i.intervalId=window.setInterval((function(){e.isLoading||(e.triggerCallback(),e.getCurrentInterval()!==t.maxInterval&&(e.incrementInterval(),e.resume()))}),this.getCurrentInterval())}cancel(){this.setCurrentInterval(this.cfg.startingInterval),this.stopTimer()}onVisibilityHidden(){this.cfg.hiddenInterval?(this.setCurrentInterval(this.cfg.hiddenInterval),this.resume()):this.cancel()}resume(){this.stopTimer(),this.start()}onVisibilityVisible(){this.cancel(),this.start()}destroy(){document.removeEventListener("visibilitychange",this.onVisibilityChange),window.removeEventListener("blur",this.onWindowVisibilityChange),window.removeEventListener("focus",this.onWindowVisibilityChange),this.cancel(),s()(document).off("visibilitychange").off("beforeunload")}initInterval(){const{cfg:e}=this;e.lazyStart||this.start(),this.initVisibilityChangeHandling(),this.initPageUnloadHandling()}triggerCallback(){var e=this;this.isLoading=!0,this.cfg.callback().then((function(){e.isLoading=!1})).catch((function(t){throw e.isLoading=!1,t}))}onWindowVisibilityChange(e){this.state.pagevisibile="focus"===e.type,this.handleVisibilityChange()}onVisibilityChange(e){this.state.pagevisibile="visible"===e.target.visibilityState,this.handleVisibilityChange()}initVisibilityChangeHandling(){document.addEventListener("visibilitychange",this.onVisibilityChange.bind(this)),window.addEventListener("blur",this.onWindowVisibilityChange.bind(this)),window.addEventListener("focus",this.onWindowVisibilityChange.bind(this))}initPageUnloadHandling(){var e=this;s()(document).on("beforeunload",(function(){return e.cancel()}))}handleVisibilityChange(){(this.isPageVisible()?this.onVisibilityVisible:this.onVisibilityHidden).apply(this)}getCurrentInterval(){return this.state.currentInterval}setCurrentInterval(e){this.state.currentInterval=e}incrementInterval(){const{cfg:e}=this,t=this.getCurrentInterval();if(e.hiddenInterval&&!this.isPageVisible())return;let i=t*e.incrementByFactorOf;i>e.maxInterval&&(i=e.maxInterval),this.setCurrentInterval(i)}isPageVisible(){return this.state.pagevisibile}stopTimer(){const{state:e}=this;e.intervalId=window.clearInterval(e.intervalId)}}},iaMy:function(e,t,i){var n=i("g2Ma"),s=i("Iwy8"),r=i("d8So"),a=Math.max,o=Math.min;e.exports=function(e,t,i){var l=null==e?0:e.length;if(!l)return-1;var c=l-1;return void 0!==i&&(c=r(i),c=i<0?a(l+c,0):o(c,l-1)),n(e,s(t,3),c,!0)}},"ieV+":function(e,t,i){"use strict";var n={};i.r(n),i.d(n,"setInitialData",(function(){return h})),i.d(n,"fetchAwards",(function(){return m})),i.d(n,"toggleAward",(function(){return f}));var s=i("q+nE"),r=i("CkNe"),a=i("oj/M"),o=i("IPfS"),l=(i("uHfJ"),i("R0RX"),i("WmlO"),i("3R5X"),i("W9Nl"),i("r2TH")),c=i("mphk"),d=i("yYHy"),u=i("t9l/"),p=i("LuMo");const h=function(e,t){let{commit:i}=e;return i("SET_INITIAL_DATA",t)},m=async function(e){let{commit:t,dispatch:i,state:n}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1";try{const{data:e,headers:r}=await c.a.get(Object(d.x)(gon.relative_url_root||"",n.path),{params:{per_page:100,page:s}}),o=Object(a.E)(r)["X-NEXT-PAGE"];t("FETCH_AWARDS_SUCCESS",e),o&&i("fetchAwards",o)}catch(e){l.a(e)}},f=async function(e,t){let{commit:i,state:n}=e;const s=n.awards.find((function(e){return e.name===t&&e.user.id===n.currentUserId}));try{if(s)i("REMOVE_AWARD",s.id),await c.a.delete(Object(d.x)(gon.relative_url_root||"",`${n.path}/${s.id}`)).catch((function(e){throw i("ADD_NEW_AWARD",s),e})),Object(p.a)(Object(u.a)("Award removed"));else{const e=function(e,t){return{id:Math.min(...t.awards.map((function(e){return e.id})),Number.MAX_SAFE_INTEGER)-1,name:e,user:{id:window.gon.current_user_id,name:window.gon.current_user_fullname,username:window.gon.current_username}}}(t,n);i("ADD_NEW_AWARD",e);const{data:s}=await c.a.post(Object(d.x)(gon.relative_url_root||"",n.path),{name:t}).finally((function(){i("REMOVE_AWARD",e.id)}));i("ADD_NEW_AWARD",s),Object(p.a)(Object(u.a)("Award added"))}}catch(e){l.a(e)}};i("ujLG"),i("HaUQ");var g={SET_INITIAL_DATA(e,t){let{path:i,currentUserId:n,canAwardEmoji:s}=t;e.path=i,e.currentUserId=n,e.canAwardEmoji=s},FETCH_AWARDS_SUCCESS(e,t){e.awards.push(...t)},ADD_NEW_AWARD(e,t){e.awards.push(t)},REMOVE_AWARD(e,t){e.awards=e.awards.filter((function(e){let{id:i}=e;return i!==t}))}};s.default.use(r.b);t.a=function(e){if(!e)return null;const{dataset:{path:t}}=e,i=Object(a.F)(e.dataset.canAwardEmoji);return new s.default({el:e,name:"AwardsListRoot",store:new r.b.Store({state:{awards:[],awardPath:"",currentUserId:null,canAwardEmoji:!1},actions:n,mutations:g}),computed:{...Object(r.f)(["currentUserId","canAwardEmoji","awards"])},created(){this.setInitialData({path:t,currentUserId:window.gon.current_user_id,canAwardEmoji:i})},mounted(){this.fetchAwards()},methods:{...Object(r.c)(["setInitialData","fetchAwards","toggleAward"])},render(e){return e(o.a,{props:{awards:this.awards,canAwardEmoji:this.canAwardEmoji,currentUserId:this.currentUserId,defaultAwards:["thumbsup","thumbsdown"],selectedClass:"selected"},on:{award:this.toggleAward}})}})}},"j/k3":function(e,t,i){"use strict";i("N8nX"),i("c5nz"),i("OZcL"),i("x5O4"),i("lxnW"),i("5sVn"),i("4xRc"),i("LM9r"),i("51O6"),i("une/"),i("Kypc"),i("yt6R"),i("6v3E"),i("RsOv"),i("g+EE");var n=i("qqDB"),s=(i("YLph"),i("KunK")),r=i("YSj/"),a=i.n(r),o=i("zdec"),l=i("tOjW");let c=!1;if("undefined"!=typeof window){c=!1;try{var d=Object.defineProperty({},"passive",{get(){c=!0}});window.addEventListener("test",null,d)}catch(e){}}let u=0;var p={name:"RecycleScroller",components:{ResizeObserver:n.a},directives:{ObserveVisibility:s.a},props:{...l.a,itemSize:{type:Number,default:null},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},useTransform:{type:Boolean,default:!0}},data:()=>({pool:[],totalSize:0,ready:!1,hoverKey:null}),computed:{sizes(){if(null===this.itemSize){const e={"-1":{accumulator:0}},t=this.items,i=this.sizeField,n=this.minItemSize;let s,r=1e4,a=0;for(let o=0,l=t.length;o<l;o++)s=t[o][i]||n,s<r&&(r=s),a+=s,e[o]={accumulator:a,size:s};return this.$_computedMinItemSize=r,e}return[]},simpleArray:l.b},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1))},mounted(){var e=this;this.applyPageMode(),this.$nextTick((function(){e.$_prerender=!1,e.updateVisibleItems(!0),e.ready=!0}))},beforeDestroy(){this.removeListeners()},methods:{addView(e,t,i,n,s){const r={item:i,position:0},a={id:u++,index:t,used:!0,key:n,type:s};return Object.defineProperty(r,"nr",{configurable:!1,value:a}),e.push(r),r},unuseView(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.$_unusedViews,n=e.nr.type;let s=i.get(n);s||(s=[],i.set(n,s)),s.push(e),t||(e.nr.used=!1,e.position=-9999,this.$_views.delete(e.nr.key))},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){var t=this;this.$_scrollDirty||(this.$_scrollDirty=!0,requestAnimationFrame((function(){t.$_scrollDirty=!1;const{continuous:e}=t.updateVisibleItems(!1,!0);e||(clearTimeout(t.$_refreshTimout),t.$_refreshTimout=setTimeout(t.handleScroll,100))})))},handleVisibilityChange(e,t){var i=this;this.ready&&(e||0!==t.boundingClientRect.width||0!==t.boundingClientRect.height?(this.$emit("visible"),requestAnimationFrame((function(){i.updateVisibleItems(!1)}))):this.$emit("hidden"))},updateVisibleItems(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.itemSize,n=this.$_computedMinItemSize,s=this.typeField,r=this.simpleArray?null:this.keyField,a=this.items,l=a.length,c=this.sizes,d=this.$_views,u=this.$_unusedViews,p=this.pool;let h,m,f,g;if(l)if(this.$_prerender)h=0,m=this.prerender,f=null;else{const e=this.getScroll();if(t){let t=e.start-this.$_lastUpdateScrollPosition;if(t<0&&(t=-t),null===i&&t<n||t<i)return{continuous:!0}}this.$_lastUpdateScrollPosition=e.start;const s=this.buffer;if(e.start-=s,e.end+=s,null===i){let t,i,n=0,s=l-1,r=~~(l/2);do{i=r,t=c[r].accumulator,t<e.start?n=r:r<l-1&&c[r+1].accumulator>e.start&&(s=r),r=~~((n+s)/2)}while(r!==i);for(r<0&&(r=0),h=r,f=c[l-1].accumulator,m=r;m<l&&c[m].accumulator<e.end;m++);-1===m?m=a.length-1:(m++,m>l&&(m=l))}else h=~~(e.start/i),m=Math.ceil(e.end/i),h<0&&(h=0),m>l&&(m=l),f=l*i}else h=m=f=0;m-h>o.a.itemsLimit&&this.itemsLimitError(),this.totalSize=f;const v=h<=this.$_endIndex&&m>=this.$_startIndex;if(this.$_continuous!==v){if(v){d.clear(),u.clear();for(let e=0,t=p.length;e<t;e++)g=p[e],this.unuseView(g)}this.$_continuous=v}else if(v)for(let t=0,i=p.length;t<i;t++)g=p[t],g.nr.used&&(e&&(g.nr.index=a.findIndex((function(e){return r?e[r]===g.item[r]:e===g.item}))),(-1===g.nr.index||g.nr.index<h||g.nr.index>=m)&&this.unuseView(g));const b=v?null:new Map;let y,k,w,_;for(let e=h;e<m;e++){y=a[e];const t=r?y[r]:y;if(null==t)throw new Error(`Key is ${t} on item (keyField is '${r}')`);g=d.get(t),i||c[e].size?(g?(g.nr.used=!0,g.item=y):(k=y[s],w=u.get(k),v?w&&w.length?(g=w.pop(),g.item=y,g.nr.used=!0,g.nr.index=e,g.nr.key=t,g.nr.type=k):g=this.addView(p,e,y,t,k):(_=b.get(k)||0,(!w||_>=w.length)&&(g=this.addView(p,e,y,t,k),this.unuseView(g,!0),w=u.get(k)),g=w[_],g.item=y,g.nr.used=!0,g.nr.index=e,g.nr.key=t,g.nr.type=k,b.set(k,_+1),_++),d.set(t,g)),g.position=null===i?c[e-1].accumulator:e*i):g&&this.unuseView(g)}return this.$_startIndex=h,this.$_endIndex=m,this.emitUpdate&&this.$emit("update",h,m),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,300),{continuous:v}},getListenerTarget(){let e=a()(this.$el);return!window.document||e!==window.document.documentElement&&e!==window.document.body||(e=window),e},getScroll(){const{$el:e,direction:t}=this,i="vertical"===t;let n;if(this.pageMode){const t=e.getBoundingClientRect(),s=i?t.height:t.width;let r=-(i?t.top:t.left),a=i?window.innerHeight:window.innerWidth;r<0&&(a+=r,r=0),r+a>s&&(a=s-r),n={start:r,end:r+a}}else n=i?{start:e.scrollTop,end:e.scrollTop+e.clientHeight}:{start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return n},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,!!c&&{passive:!0}),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){var t=this;this.$_scrollDirty=!0;const{viewport:i,scrollDirection:n,scrollDistance:s}=this.scrollToPosition(e);i[n]=s,setTimeout((function(){t.$_scrollDirty=!1,t.updateVisibleItems(!1,!0)}))},scrollToPosition(e){var t=this;const i=function(e){return null===t.itemSize?e>0?t.sizes[e-1].accumulator:0:e*t.itemSize}(e),n="vertical"===this.direction?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};if(this.pageMode){const e=a()(this.$el),t="HTML"===e.tagName?0:e[n.scroll],s=e.getBoundingClientRect(),r=this.$el.getBoundingClientRect()[n.start]-s[n.start];return{viewport:e,scrollDirection:n.scroll,scrollDistance:i+t+r}}return{viewport:this.$el,scrollDirection:n.scroll,scrollDistance:i}},itemsLimitError(){var e=this;throw setTimeout((function(){console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",e.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")})),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((function(e,t){return e.nr.index-t.nr.index}))}}},h=(i("AjOR"),i("bPvS")),m=Object(h.a)(p,(function(){var e,t,i=this,n=i.$createElement,s=i._self._c||n;return s("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:i.handleVisibilityChange,expression:"handleVisibilityChange"}],staticClass:"vue-recycle-scroller",class:(e={ready:i.ready,"page-mode":i.pageMode},e["direction-"+i.direction]=!0,e),on:{"&scroll":function(e){return i.handleScroll.apply(null,arguments)}}},[i.$slots.before?s("div",{staticClass:"vue-recycle-scroller__slot"},[i._t("before")],2):i._e(),i._v(" "),s("div",{ref:"wrapper",staticClass:"vue-recycle-scroller__item-wrapper",style:(t={},t["vertical"===i.direction?"minHeight":"minWidth"]=i.totalSize+"px",t)},i._l(i.pool,(function(e){return s("div",{key:e.nr.id,staticClass:"vue-recycle-scroller__item-view",class:{hover:i.hoverKey===e.nr.key},style:i.ready?{transform:i.useTransform?"translate"+("vertical"===i.direction?"Y":"X")+"("+e.position+"px)":null,top:i.useTransform||"vertical"!==i.direction?null:e.position+"px",left:i.useTransform||"vertical"===i.direction?null:e.position+"px"}:null,on:{mouseenter:function(t){i.hoverKey=e.nr.key},mouseleave:function(e){i.hoverKey=null}}},[i._t("default",null,{item:e.item,index:e.nr.index,active:e.nr.used})],2)})),0),i._v(" "),i.$slots.after?s("div",{staticClass:"vue-recycle-scroller__slot"},[i._t("after")],2):i._e(),i._v(" "),s("ResizeObserver",{on:{notify:i.handleResize}})],1)}),[],!1,null,null,null);t.a=m.exports},j8Yr:function(e,t,i){"use strict";var n=i("SEpv"),s=i.n(n),r=i("pY+i"),a=i.n(r),o={props:{storageKey:{type:String,required:!0},value:{type:[String,Number,Boolean,Array,Object],required:!1,default:""},asString:{type:Boolean,required:!1,default:!1},persist:{type:Boolean,required:!1,default:!0},clear:{type:Boolean,required:!1,default:!1}},watch:{value(e){this.persist&&this.saveValue(this.serialize(e))},clear(e){e&&localStorage.removeItem(this.storageKey)}},mounted(){const{exists:e,value:t}=this.getStorageValue();e&&!a()(t,this.value)&&this.$emit("input",t)},methods:{getStorageValue(){const e=localStorage.getItem(this.storageKey);if(null===e)return{exists:!1};try{return{exists:!0,value:this.deserialize(e)}}catch{return console.warn(`[gitlab] Failed to deserialize value from localStorage (key=${this.storageKey})`,e),{exists:!1}}},saveValue(e){localStorage.setItem(this.storageKey,e)},serialize(e){return!s()(e)&&this.asString&&console.warn("[gitlab] LocalStorageSync is saving",e,`to the key "${this.storageKey}", but it is not a string and the 'asString' prop is true. This will save and restore the stringified value rather than the original value. If this is not intended, please remove or set the 'asString' prop to false.`),this.asString?e:JSON.stringify(e)},deserialize(e){return this.asString?e:JSON.parse(e)}},render(){var e,t;return null===(e=(t=this.$scopedSlots).default)||void 0===e?void 0:e.call(t)}},l=i("bPvS"),c=Object(l.a)(o,void 0,void 0,!1,null,null,null);t.a=c.exports},jiUj:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("DNao"),s=i.n(n),r=i("Musk"),a=i.n(r);function o(e){return e?a.a:s.a}},jmNb:function(e,t,i){e.exports=i("E5Fy")},jodE:function(e,t,i){"use strict";i("h8Et");var n=i("H8gz"),s=i("ly/8"),r=i("CkNe"),a=i("JzpF"),o=i("teVv"),l=i("rh11"),c=i("oj/M"),d=i("0nrL"),u=i("XELT"),p=i("t9l/"),h=i("dX8G"),m=i("1jid"),f=i("4UPE"),g=i("RewC"),v=i("tbUO"),b=i("K4Wm"),y=i("A1CF"),k=i.n(y),w=i("cmjF"),_=i("EtIY"),S=i("9LGn"),E=i("vRHk"),D=i("XPiF"),T=i("dkhw"),C={name:"DiffDiscussionHeader",components:{GlAvatar:w.a,GlAvatarLink:_.a,NoteEditedText:D.a,NoteHeader:T.a},directives:{SafeHtml:S.a},props:{discussion:{type:Object,required:!0}},computed:{notes(){return this.discussion.notes},firstNote(){return this.notes[0]},lastNote(){return this.notes[this.notes.length-1]},author(){return this.firstNote.author},resolvedText(){return this.discussion.resolved_by_push?Object(p.a)("Automatically resolved"):Object(p.a)("Resolved")},lastUpdatedBy(){return this.notes.length>1?this.lastNote.author:null},lastUpdatedAt(){return this.notes.length>1?this.lastNote.created_at:null},headerText(){const e=`<a href="${k()(this.discussion.discussion_path)}">`,{commit_id:t}=this.discussion;let i=t;t&&(i=`<span class="commit-sha">${Object(E.A)(t)}</span>`);const{for_commit:n,diff_discussion:s,active:r}=this.discussion;let a=Object(p.g)("MergeRequests|started a thread");return n?a=Object(p.g)("MergeRequests|started a thread on commit %{linkStart}%{commitDisplay}%{linkEnd}"):s&&t?a=r?Object(p.g)("MergeRequests|started a thread on commit %{linkStart}%{commitDisplay}%{linkEnd}"):Object(p.g)("MergeRequests|started a thread on an outdated change in commit %{linkStart}%{commitDisplay}%{linkEnd}"):s&&(a=r?Object(p.g)("MergeRequests|started a thread on %{linkStart}the diff%{linkEnd}"):Object(p.g)("MergeRequests|started a thread on %{linkStart}an old version of the diff%{linkEnd}")),Object(p.h)(a,{commitDisplay:i,linkStart:e,linkEnd:"</a>"},!1)},toggleClass(){return this.discussion.expanded?"expanded":"collapsed"}},methods:{...Object(r.c)(["toggleDiscussion"]),toggleDiscussionHandler(){this.toggleDiscussion({discussionId:this.discussion.id})}}},I=i("bPvS"),O=Object(I.a)(C,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"discussion-header gl-display-flex gl-align-items-center"},[e._m(0),e._v(" "),i("div",{staticClass:"timeline-content w-100 gl-ml-3",class:e.toggleClass},[i("note-header",{attrs:{author:e.author,"created-at":e.firstNote.created_at,"note-id":e.firstNote.id,"include-toggle":!0,expanded:e.discussion.expanded},on:{toggleHandler:e.toggleDiscussionHandler}},[i("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.headerText,expression:"headerText"}]})]),e._v(" "),e.discussion.resolved?i("note-edited-text",{attrs:{"edited-at":e.discussion.resolved_at,"edited-by":e.discussion.resolved_by,"action-text":e.resolvedText,"class-name":"discussion-headline-light js-discussion-headline gl-pl-3"}}):e.lastUpdatedAt?i("note-edited-text",{attrs:{"edited-at":e.lastUpdatedAt,"edited-by":e.lastUpdatedBy,"action-text":e.__("Last updated"),"class-name":"discussion-headline-light js-discussion-headline gl-pl-3"}}):e._e()],1)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"timeline-avatar gl-align-self-start gl-flex-shrink-0 gl-flex-shrink"},[this.author?t("gl-avatar-link",{attrs:{href:this.author.path}},[t("gl-avatar",{attrs:{src:this.author.avatar_url,alt:this.author.name,size:32}})],1):this._e()],1)}],!1,null,null,null).exports,j=i("Fj12"),x=i("eko4"),A=i("fpFD"),N=i("tY3p"),F=i("1HOK"),L=i("8RVS"),P=i("pmYr");const R=/^(\+|-| )/;var q={components:{DiffFileHeader:x.a,GlSkeletonLoader:j.a,DiffViewer:L.a,ImageDiffOverlay:A.a},directives:{SafeHtml:S.a},props:{discussion:{type:Object,required:!0}},data:()=>({error:!1}),computed:{...Object(r.f)({projectPath:function(e){return e.diffs.projectPath}}),diffMode(){return Object(N.f)(this.discussion.diff_file)},diffViewerMode(){return this.discussion.diff_file.viewer.name},isTextFile(){return this.diffViewerMode===F.y.text},hasTruncatedDiffLines(){return this.discussion.truncated_diff_lines&&0!==this.discussion.truncated_diff_lines.length},isCollapsed(){return Object(P.c)(this.discussion.diff_file)}},mounted(){this.isTextFile&&!this.hasTruncatedDiffLines&&this.fetchDiff()},methods:{...Object(r.c)(["fetchDiscussionDiffLines"]),fetchDiff(){var e=this;this.error=!1,this.fetchDiscussionDiffLines(this.discussion).then(this.highlight).catch((function(){e.error=!0}))},trimChar:e=>e.replace(R,"")},userColorSchemeClass:window.gon.user_color_scheme},$=Object(I.a)(q,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"diff-file file-holder",class:{"text-file":e.isTextFile}},[i("diff-file-header",{attrs:{"discussion-path":e.discussion.discussion_path,"diff-file":e.discussion.diff_file,"can-current-user-fork":!1,expanded:!e.isCollapsed}}),e._v(" "),e.isTextFile?i("div",{staticClass:"diff-content"},[i("table",{staticClass:"code js-syntax-highlight",class:e.$options.userColorSchemeClass},[e.hasTruncatedDiffLines?e._m(0):e._e(),e._v(" "),e.hasTruncatedDiffLines?e._e():i("tr",{staticClass:"line_holder line-holder-placeholder"},[i("td",{staticClass:"old_line diff-line-num"}),e._v(" "),i("td",{staticClass:"new_line diff-line-num"}),e._v(" "),e.error?i("td",{staticClass:"js-error-lazy-load-diff diff-loading-error-block"},[e._v("\n          "+e._s(e.__("Unable to load the diff"))+"\n          "),i("button",{staticClass:"gl-button btn-link btn-link-retry gl-p-0 js-toggle-lazy-diff-retry-button gl-reset-font-size!",on:{click:e.fetchDiff}},[e._v("\n            "+e._s(e.__("Try again"))+"\n          ")])]):i("td",{staticClass:"line_content js-success-lazy-load"},[i("span"),e._v(" "),i("gl-skeleton-loader"),e._v(" "),i("span")],1)]),e._v(" "),i("tr",{staticClass:"notes_holder"},[i("td",{staticClass:"notes-content",attrs:{colspan:"3"}},[e._t("default")],2)])],2)]):i("div",[i("diff-viewer",{attrs:{"diff-file":e.discussion.diff_file,"diff-mode":e.diffMode,"diff-viewer-mode":e.diffViewerMode,"new-path":e.discussion.diff_file.new_path,"new-sha":e.discussion.diff_file.diff_refs.head_sha,"old-path":e.discussion.diff_file.old_path,"old-sha":e.discussion.diff_file.diff_refs.base_sha,"file-hash":e.discussion.diff_file.file_hash,"project-path":e.projectPath},scopedSlots:e._u([{key:"image-overlay",fn:function(t){var n=t.renderedWidth,s=t.renderedHeight;return[n?i("image-diff-overlay",{attrs:{"rendered-width":n,"rendered-height":s,discussions:e.discussion,"file-hash":e.discussion.diff_file.file_hash,"show-comment-icon":!0,"should-toggle-discussion":!1,"badge-class":"image-comment-badge gl-text-gray-500"}}):e._e()]}}])}),e._v(" "),e._t("default")],2)],1)}),[function(){var e=this,t=e.$createElement,i=e._self._c||t;return e._l(e.discussion.truncated_diff_lines,(function(t){return i("tr",{key:t.line_code,staticClass:"line_holder"},[i("td",{staticClass:"diff-line-num old_line",class:t.type},[e._v(e._s(t.old_line))]),e._v(" "),i("td",{staticClass:"diff-line-num new_line",class:t.type},[e._v(e._s(t.new_line))]),e._v(" "),i("td",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.trimChar(t.rich_text),expression:"trimChar(line.rich_text)"}],staticClass:"line_content",class:t.type})])}))}],!1,null,null,null).exports,B=(i("ujLG"),i("3R5X"),i("HaUQ"),i("u6G8"),i("oVeW"),i("Zxcm")),M=i("XR+4"),U=i("cuRJ"),V={name:"ResolveDiscussionButton",components:{GlButton:U.a},props:{isResolving:{type:Boolean,required:!1,default:!1},buttonTitle:{type:String,required:!0}}},z=Object(I.a)(V,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("gl-button",{staticClass:"gl-xs-w-full ml-sm-2",attrs:{loading:e.isResolving},on:{click:function(t){return e.$emit("onClick")}}},[e._v("\n  "+e._s(e.buttonTitle)+"\n")])}),[],!1,null,null,null).exports,W={i18n:{buttonLabel:Object(p.g)("MergeRequests|Create issue to resolve thread")},name:"ResolveWithIssueButton",components:{GlButton:U.a},directives:{GlTooltip:s.a},props:{url:{type:String,required:!0}}},H=Object(I.a)(W,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"btn-group",attrs:{role:"group"}},[t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"new-issue-for-discussion discussion-create-issue-btn gl-xs-w-full",attrs:{href:this.url,title:this.$options.i18n.buttonLabel,"aria-label":this.$options.i18n.buttonLabel,icon:"issue-new"}})],1)}),[],!1,null,null,null).exports,G={name:"DiscussionActions",components:{ReplyPlaceholder:M.a,ResolveDiscussionButton:z,ResolveWithIssueButton:H},mixins:[Object(B.a)()],props:{discussion:{type:Object,required:!0},isResolving:{type:Boolean,required:!0},resolveButtonTitle:{type:String,required:!0},resolveWithIssuePath:{type:String,required:!1,default:""},shouldShowJumpToNextDiscussion:{type:Boolean,required:!0}},computed:{resolvableNotes(){return this.discussion.notes.filter((function(e){return e.resolvable}))},userCanResolveDiscussion(){return this.resolvableNotes.every((function(e){var t;return null===(t=e.current_user)||void 0===t?void 0:t.can_resolve_discussion}))}}},K=Object(I.a)(G,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"discussion-with-resolve-btn clearfix"},[i("reply-placeholder",{attrs:{"data-qa-selector":"discussion_reply_tab","placeholder-text":e.__("Reply")},on:{focus:function(t){return e.$emit("showReplyForm")}}}),e._v(" "),e.userCanResolveDiscussion?i("div",{staticClass:"btn-group discussion-actions",attrs:{role:"group"}},[i("div",{staticClass:"btn-group"},[e.discussion.resolvable?i("resolve-discussion-button",{attrs:{"data-qa-selector":"resolve_discussion_button","data-testid":"resolve-discussion-button","is-resolving":e.isResolving,"button-title":e.resolveButtonTitle},on:{onClick:function(t){return e.$emit("resolve")}}}):e._e()],1),e._v(" "),e.discussion.resolvable&&e.resolveWithIssuePath?i("resolve-with-issue-button",{attrs:{url:e.resolveWithIssuePath}}):e._e()],1):e._e()],1)}),[],!1,null,null,null).exports,Y=i("Gj7Q"),Q=i("R8rx"),X=i("uvwG"),J=i("toOR"),Z={functional:!0,props:{isDiffDiscussion:{type:Boolean,required:!1,default:!1}},render(e,t){let{props:i,children:n}=t;return i.isDiffDiscussion?e("li",{class:"discussion-collapsible gl-border-solid gl-border-gray-100 gl-border-1 gl-rounded-base clearfix"},[e("ul",{class:"notes"},n)]):n}},ee=Object(I.a)(Z,void 0,void 0,!1,null,null,null).exports,te=i("5ggI"),ie=i("ZRbW"),ne=i.n(ie),se=(i("uHfJ"),i("R0RX"),i("u1ru")),re=i("nPFI"),ae=i("LcVr"),oe={i18n:{collapseReplies:Object(p.g)("Notes|Collapse replies"),expandReplies:Object(p.g)("Notes|Expand replies"),lastReplyBy:Object(p.g)("Notes|Last reply by %{name}")},components:{GlButton:U.a,GlLink:se.a,GlSprintf:re.a,UserAvatarLink:f.a,TimeAgoTooltip:ae.a},props:{collapsed:{type:Boolean,required:!0},replies:{type:Array,required:!0}},computed:{lastReply(){return this.replies[this.replies.length-1]},uniqueAuthors(){const e=this.replies.map((function(e){return e.author||{}}));return ne()(e,"username")},liClasses(){return this.collapsed?"gl-text-gray-500 gl-rounded-bottom-left-base gl-rounded-bottom-right-base":"gl-border-b"},buttonIcon(){return this.collapsed?"chevron-right":"chevron-down"},buttonLabel(){return this.collapsed?this.$options.i18n.expandReplies:this.$options.i18n.collapseReplies}},methods:{toggle(){this.$refs.toggle.$el.focus(),this.$emit("toggle")}}},le={name:"DiscussionNotes",components:{ToggleRepliesWidget:Object(I.a)(oe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"toggle-replies-widget gl-display-flex! gl-align-items-center gl-flex-wrap gl-bg-gray-10 gl-py-3 gl-px-5 gl-border",class:e.liClasses},[i("gl-button",{ref:"toggle",staticClass:"gl-my-2 gl-mr-3 gl-p-0!",attrs:{category:"tertiary",icon:e.buttonIcon,"aria-label":e.buttonLabel},on:{click:e.toggle}}),e._v(" "),e.collapsed?[e._l(e.uniqueAuthors,(function(e){return i("user-avatar-link",{key:e.username,staticClass:"gl-mr-3 reply-author-avatar",attrs:{"link-href":e.path,"img-alt":e.name,"img-css-classes":"gl-mr-0!","img-src":e.avatar_url,"img-size":24,"tooltip-text":e.name,"tooltip-placement":"bottom"}})})),e._v(" "),i("gl-button",{staticClass:"gl-mr-2",attrs:{variant:"link","data-qa-selector":"expand_replies_button"},on:{click:e.toggle}},[e._v("\n      "+e._s(e.n__("%d reply","%d replies",e.replies.length))+"\n    ")]),e._v(" "),i("gl-sprintf",{attrs:{message:e.$options.i18n.lastReplyBy},scopedSlots:e._u([{key:"name",fn:function(){return[i("gl-link",{staticClass:"gl-text-body! gl-text-decoration-none! gl-mx-2",attrs:{href:e.lastReply.author.path}},[e._v("\n          "+e._s(e.lastReply.author.name)+"\n        ")])]},proxy:!0}],null,!1,1897997184)}),e._v(" "),i("time-ago-tooltip",{attrs:{time:e.lastReply.created_at,"tooltip-placement":"bottom"}})]:i("gl-button",{staticClass:"gl-text-body! gl-text-decoration-none!",attrs:{variant:"link","data-qa-selector":"collapse_replies_button"},on:{click:e.toggle}},[e._v("\n    "+e._s(e.$options.i18n.collapseReplies)+"\n  ")])],2)}),[],!1,null,null,null).exports,NoteEditedText:D.a,DiscussionNotesRepliesWrapper:ee},props:{discussion:{type:Object,required:!0},isExpanded:{type:Boolean,required:!1,default:!1},diffLine:{type:Object,required:!1,default:null},line:{type:Object,required:!1,default:null},shouldGroupReplies:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""},isOverviewTab:{type:Boolean,required:!1,default:!1},shouldScrollToNote:{type:Boolean,required:!1,default:!0}},computed:{...Object(r.d)(["userCanReply"]),hasReplies(){return Boolean(this.replies.length)},replies(){return this.discussion.notes.slice(1)},firstNote(){return this.discussion.notes.slice(0,1)[0]},resolvedText(){return this.discussion.resolved_by_push?Object(p.a)("Automatically resolved"):Object(p.a)("Resolved")},commit(){return this.discussion.for_commit?{id:this.discussion.commit_id,url:this.discussion.discussion_path}:null}},methods:{...Object(r.c)(["toggleDiscussion","setSelectedCommentPositionHover"]),componentName:e=>e.isPlaceholderNote?e.placeholderType===J.SYSTEM_NOTE?Q.a:Y.a:e.system?X.a:te.a,componentData:e=>e.isPlaceholderNote?e.notes[0]:e,handleMouseEnter(e){e.position&&this.setSelectedCommentPositionHover(e.position.line_range)},handleMouseLeave(e){e.position&&this.setSelectedCommentPositionHover()}}},ce=Object(I.a)(le,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"discussion-notes"},[i("ul",{staticClass:"notes",on:{mouseenter:function(t){return e.handleMouseEnter(e.discussion)},mouseleave:function(t){return e.handleMouseLeave(e.discussion)}}},[e.shouldGroupReplies?[i(e.componentName(e.firstNote),{tag:"component",attrs:{note:e.componentData(e.firstNote),line:e.line||e.diffLine,"discussion-file":e.discussion.diff_file,commit:e.commit,"help-page-path":e.helpPagePath,"show-reply-button":e.userCanReply,"discussion-root":!0,"discussion-resolve-path":e.discussion.resolve_path,"is-overview-tab":e.isOverviewTab,"should-scroll-to-note":e.shouldScrollToNote},on:{handleDeleteNote:function(t){return e.$emit("deleteNote")},startReplying:function(t){return e.$emit("startReplying")}},scopedSlots:e._u([{key:"discussion-resolved-text",fn:function(){return[e.discussion.resolved?i("note-edited-text",{attrs:{"edited-at":e.discussion.resolved_at,"edited-by":e.discussion.resolved_by,"action-text":e.resolvedText,"class-name":"discussion-headline-light js-discussion-headline discussion-resolved-text gl-mb-2 gl-ml-3"}}):e._e()]},proxy:!0},{key:"avatar-badge",fn:function(){return[e._t("avatar-badge")]},proxy:!0}],null,!0)}),e._v(" "),i("discussion-notes-replies-wrapper",{attrs:{"is-diff-discussion":e.discussion.diff_discussion}},[e.hasReplies?i("toggle-replies-widget",{class:{"discussion-toggle-replies":e.discussion.diff_discussion},attrs:{collapsed:!e.isExpanded,replies:e.replies},on:{toggle:function(t){return e.toggleDiscussion({discussionId:e.discussion.id})}}}):e._e(),e._v(" "),e.isExpanded?e._l(e.replies,(function(t){return i(e.componentName(t),{key:t.id,tag:"component",attrs:{note:e.componentData(t),"help-page-path":e.helpPagePath,line:e.line},on:{handleDeleteNote:function(t){return e.$emit("deleteNote")}}})})):e._e(),e._v(" "),e._t("footer",null,{showReplies:e.isExpanded||!e.hasReplies})],2)]:[e._l(e.discussion.notes,(function(t,n){return i(e.componentName(t),{key:t.id,tag:"component",attrs:{note:e.componentData(t),"discussion-file":e.discussion.diff_file,"help-page-path":e.helpPagePath,line:e.diffLine,"discussion-root":0===n,"discussion-resolve-path":e.discussion.resolve_path,"is-overview-tab":e.isOverviewTab,"should-scroll-to-note":e.shouldScrollToNote},on:{handleDeleteNote:function(t){return e.$emit("deleteNote")}},scopedSlots:e._u([{key:"avatar-badge",fn:function(){return[0===n?e._t("avatar-badge"):e._e()]},proxy:!0}],null,!0)})})),e._v(" "),e._t("footer",null,{showReplies:e.isExpanded||!e.hasReplies})]],2)])}),[],!1,null,null,null).exports,de=i("gmzr"),ue=i("9ema"),pe={name:"NoteableDiscussion",components:{GlIcon:n.a,UserAvatarLink:f.a,DiffDiscussionHeader:O,NoteSignedOutWidget:ue.a,NoteForm:de.a,DraftNote:a.a,TimelineEntryItem:m.a,DiscussionNotes:ce,DiscussionActions:K},directives:{GlTooltip:s.a},mixins:[v.a,b.a,h.a],props:{discussion:{type:Object,required:!0},line:{type:Object,required:!1,default:null},renderDiffFile:{type:Boolean,required:!1,default:!0},alwaysExpanded:{type:Boolean,required:!1,default:!1},discussionsByDiffOrder:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""},isOverviewTab:{type:Boolean,required:!1,default:!1},shouldScrollToNote:{type:Boolean,required:!1,default:!0}},data:()=>({isReplying:!1,isResolving:!1,resolveAsThread:!0}),computed:{...Object(r.d)(["convertedDisscussionIds","getNoteableData","userCanReply","showJumpToNextDiscussion","getUserData"]),currentUser(){return this.getUserData},isLoggedIn:()=>Object(c.A)(),commentType(){return this.discussion.internal?Object(p.a)("internal note"):Object(p.a)("comment")},autosaveKey(){return Object(l.b)(this.firstNote.noteable_type,this.discussion.id)},newNotePath(){return this.getNoteableData.create_note_path},firstNote(){return this.discussion.notes.slice(0,1)[0]},saveButtonTitle(){return this.discussion.internal?Object(p.a)("Reply internally"):Object(p.a)("Reply")},shouldShowJumpToNextDiscussion(){return this.showJumpToNextDiscussion(this.discussionsByDiffOrder?"diff":"discussion")},shouldRenderDiffs(){return this.discussion.diff_discussion&&this.renderDiffFile},shouldGroupReplies(){return!this.shouldRenderDiffs},wrapperComponent(){return this.shouldRenderDiffs?$:"div"},wrapperComponentProps(){return this.shouldRenderDiffs?{discussion:this.discussion}:{}},isExpanded(){return this.discussion.expanded||this.alwaysExpanded},shouldHideDiscussionBody(){return this.shouldRenderDiffs&&!this.isExpanded},diffLine(){return this.line?this.line:this.discussion.diff_discussion&&this.discussion.truncated_diff_lines?this.discussion.truncated_diff_lines.slice(-1)[0]:null},resolveWithIssuePath(){return this.discussionResolved?"":this.discussion.resolve_with_issue_path},canShowReplyActions(){return!(this.shouldRenderDiffs&&!this.discussion.diff_file.diff_refs)}},created(){g.a.$on("startReplying",this.onStartReplying)},beforeDestroy(){g.a.$off("startReplying",this.onStartReplying)},methods:{...Object(r.c)(["saveNote","removePlaceholderNotes","toggleResolveNote","removeConvertedDiscussion","expandDiscussion"]),showReplyForm(){this.isReplying=!0,this.discussion.expanded||this.expandDiscussion({discussionId:this.discussion.id})},cancelReplyForm:Object(u.a)((async function(e,t){if(e&&t){const e=Object(p.h)(Object(p.g)("Notes|Are you sure you want to cancel creating this %{commentType}?"),{commentType:this.commentType});if(!await Object(d.a)(e,{primaryBtnText:Object(p.a)("Discard changes"),cancelBtnText:Object(p.a)("Continue editing")}))return}this.convertedDisscussionIds.includes(this.discussion.id)&&this.removeConvertedDiscussion(this.discussion.id),this.isReplying=!1,Object(l.a)(this.autosaveKey)})),saveReply(e,t,i){var n=this;if(!e)return this.cancelReplyForm(),void i();const s={in_reply_to_discussion_id:this.discussion.reply_id,target_type:this.getNoteableData.targetType,note:{note:e}};this.convertedDisscussionIds.includes(this.discussion.id)&&(s.return_discussion=!0),this.discussion.for_commit&&(s.note_project_id=this.discussion.project_id);const r={endpoint:this.newNotePath,flashContainer:this.$el,data:s};this.saveNote(r).then((function(e){!0!==e.hasFlash&&(n.isReplying=!1,Object(l.a)(n.autosaveKey)),i()})).catch((function(t){n.removePlaceholderNotes(),n.handleSaveError(t),n.$refs.noteForm.note=e,i(t)}))},handleSaveError(){const e=Object(p.a)("Your comment could not be submitted! Please check your network connection and try again.");Object(o.createAlert)({message:e,parent:this.$el})},deleteNoteHandler(e){this.$emit("noteDeleted",this.discussion,e)},onStartReplying(e){this.discussion.id===e&&this.showReplyForm()}}},he=Object(I.a)(pe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("timeline-entry-item",{staticClass:"note note-discussion"},[i("div",{staticClass:"timeline-content"},[i("div",{staticClass:"discussion js-discussion-container",attrs:{"data-discussion-id":e.discussion.id,"data-discussion-resolved":e.discussion.resolved,"data-qa-selector":"discussion_content"}},[e.shouldRenderDiffs?i("diff-discussion-header",{attrs:{discussion:e.discussion}}):e._e(),e._v(" "),e.shouldHideDiscussionBody?e._e():i("div",{staticClass:"discussion-body"},[i(e.wrapperComponent,e._b({tag:"component",staticClass:"card discussion-wrapper"},"component",e.wrapperComponentProps,!1),[i("discussion-notes",{attrs:{discussion:e.discussion,"diff-line":e.diffLine,"help-page-path":e.helpPagePath,"is-expanded":e.isExpanded,line:e.line,"should-group-replies":e.shouldGroupReplies,"is-overview-tab":e.isOverviewTab,"should-scroll-to-note":e.shouldScrollToNote},on:{startReplying:e.showReplyForm,deleteNote:e.deleteNoteHandler},scopedSlots:e._u([{key:"avatar-badge",fn:function(){return[e._t("avatar-badge")]},proxy:!0},{key:"footer",fn:function(t){var n=t.showReplies;return[e.showDraft(e.discussion.reply_id)?i("draft-note",{key:"draft_"+e.discussion.id,attrs:{draft:e.draftForDiscussion(e.discussion.reply_id),line:e.line}}):e.canShowReplyActions&&n?i("div",{staticClass:"discussion-reply-holder gl-border-t-0! clearfix",class:{"is-replying":e.isReplying}},[!e.isReplying&&e.userCanReply?i("discussion-actions",{attrs:{discussion:e.discussion,"is-resolving":e.isResolving,"resolve-button-title":e.resolveButtonTitle,"resolve-with-issue-path":e.resolveWithIssuePath,"should-show-jump-to-next-discussion":e.shouldShowJumpToNextDiscussion},on:{showReplyForm:e.showReplyForm,resolve:e.resolveHandler}}):e._e(),e._v(" "),e.isReplying?i("note-form",{ref:"noteForm",attrs:{discussion:e.discussion,line:e.diffLine,"save-button-title":e.saveButtonTitle,"autosave-key":e.autosaveKey},on:{handleFormUpdateAddToReview:e.addReplyToReview,handleFormUpdate:e.saveReply,cancelForm:e.cancelReplyForm}}):e._e(),e._v(" "),e.isLoggedIn?e._e():i("note-signed-out-widget")],1):e._e()]}}],null,!0)})],1)],1)],1)])])}),[],!1,null,null,null);t.a=he.exports},kSYl:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("oj/M"),s=i("oiT5");class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e,this.options.data=e.data||{},this.options.notificationCallback=e.notificationCallback||function(){},this.intervalHeader="POLL-INTERVAL",this.timeoutID=null,this.canPoll=!0}checkConditions(e){var t=this;const i=Object(n.E)(e.headers),r=parseInt(i[this.intervalHeader],10);r>0&&-1!==s.b.indexOf(e.status)&&this.canPoll&&(this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((function(){t.makeRequest()}),r)),this.options.successCallback(e)}makeDelayedRequest(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.timeoutID=setTimeout((function(){return e.makeRequest()}),t)}makeRequest(){var e=this;const{resource:t,method:i,data:n,errorCallback:r,notificationCallback:a}=this.options;return a(!0),t[i](n).then((function(t){e.checkConditions(t),a(!1)})).catch((function(e){a(!1),e.status!==s.a.ABORTED&&r(e)}))}stop(){this.canPoll=!1,clearTimeout(this.timeoutID)}enable(e){e&&e.data&&(this.options.data=e.data),this.canPoll=!0,e&&e.response&&this.checkConditions(e.response)}restart(e){this.enable(e),this.makeRequest()}}},kTwG:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"issueSuggestion"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"EnumValue",value:"updated_desc"}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"5"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userNotesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"upvotes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:542}};i.loc.source={body:"query issueSuggestion($fullPath: ID!, $search: String) {\n  project(fullPath: $fullPath) {\n    id\n    issues(search: $search, sort: updated_desc, first: 5) {\n      edges {\n        node {\n          id\n          iid\n          title\n          confidential\n          userNotesCount\n          upvotes\n          webUrl\n          state\n          closedAt\n          createdAt\n          updatedAt\n          author {\n            id\n            name\n            username\n            avatarUrl\n            webUrl\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.issueSuggestion=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"issueSuggestion")},ktLj:function(e,t,i){"use strict";var n=i("2UYt"),s=i("NSg/"),r=i("V8Uk"),a=i("wPPk"),o=i("TCnH"),l=i("kGhg"),c=s("".charAt);n({target:"String",proto:!0,forced:l((function(){return"\ud842"!=="".at(-2)}))},{at:function(e){var t=o(r(this)),i=t.length,n=a(e),s=n>=0?n:i+n;return s<0||s>=i?void 0:c(t,s)}})},lKw0:function(e,t,i){var n=i("G/Sk"),s=i("IUFe"),r=Object.prototype.hasOwnProperty,a=s((function(e,t,i){r.call(e,i)?e[i].push(t):n(e,i,[t])}));e.exports=a},lRgI:function(e,t,i){"use strict";t.a={computed:{selectionStart:{cache:!1,get:function(){return this.$refs.input.selectionStart},set:function(e){this.$refs.input.selectionStart=e}},selectionEnd:{cache:!1,get:function(){return this.$refs.input.selectionEnd},set:function(e){this.$refs.input.selectionEnd=e}},selectionDirection:{cache:!1,get:function(){return this.$refs.input.selectionDirection},set:function(e){this.$refs.input.selectionDirection=e}}},methods:{select:function(){var e;(e=this.$refs.input).select.apply(e,arguments)},setSelectionRange:function(){var e;(e=this.$refs.input).setSelectionRange.apply(e,arguments)},setRangeText:function(){var e;(e=this.$refs.input).setRangeText.apply(e,arguments)}}}},lYqH:function(e,t,i){"use strict";var n={name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},computed:{id(){return this.vscrollData.simpleArray?this.index:this.item[this.vscrollData.keyField]},size(){return this.vscrollData.validSizes[this.id]&&this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id(){this.size||this.onDataUpdate()},finalActive(e){this.size||(e?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?e?this.observeSize():this.unobserveSize():e&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created(){var e=this;if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(const t in this.sizeDependencies)this.$watch((function(){return e.sizeDependencies[t]}),this.onDataUpdate);this.vscrollParent.$on("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$on("vscroll:update-size",this.onVscrollUpdateSize)}},mounted(){this.vscrollData.active&&(this.updateSize(),this.observeSize())},beforeDestroy(){this.vscrollParent.$off("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$off("vscroll:update-size",this.onVscrollUpdateSize),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){var e=this;this.watchData?this.$_watchData=this.$watch("data",(function(){e.onDataUpdate()}),{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate(e){let{force:t}=e;!this.finalActive&&t&&(this.$_pendingVScrollUpdate=this.id),this.$_forceNextVScrollUpdate!==this.id&&!t&&this.size||this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(e){var t=this;this.$nextTick((function(){if(t.id===e){const e=t.$el.offsetWidth,i=t.$el.offsetHeight;t.applySize(e,i)}t.$_pendingSizeUpdate=null}))},applySize(e,t){const i=Math.round("vertical"===this.vscrollParent.direction?t:e);i&&this.size!==i&&(this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.$set(this.vscrollData.sizes,this.id,i),this.$set(this.vscrollData.validSizes,this.id,!0),this.emitResize&&this.$emit("resize",this.id))},observeSize(){this.vscrollResizeObserver&&(this.$_parentNode=this.$el.parentNode,this.vscrollResizeObserver.observe(this.$_parentNode),this.$_parentNode.addEventListener("resize",this.onResize))},unobserveSize(){this.vscrollResizeObserver&&(this.vscrollResizeObserver.unobserve(this.$_parentNode),this.$_parentNode.removeEventListener("resize",this.onResize))},onResize(e){const{width:t,height:i}=e.detail.contentRect;this.applySize(t,i)}},render(e){return e(this.tag,this.$slots.default)}},s=i("bPvS"),r=Object(s.a)(n,void 0,void 0,!1,null,null,null);t.a=r.exports},lix2:function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"c",(function(){return r})),i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return o}));var n=i("vSQ9");function s(){document.body.classList.add(n.a)}function r(){document.body.classList.remove(n.a)}function a(){return document.body.classList.contains(n.a)}function o(e){const t="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;return{...{...n.b,filter:".no-drag",delay:t?100:0,scrollSensitivity:t?60:100,scrollSpeed:20,onStart:s,onEnd:r},...e}}},lnrH:function(e,t,i){"use strict";var n={};i.r(n),i.d(n,"setStatus",(function(){return m})),i.d(n,"updateStatus",(function(){return f})),i.d(n,"updateResolveStatus",(function(){return g})),i.d(n,"updateIgnoreStatus",(function(){return v}));var s={};i.r(s),i.d(s,"startPollingStacktrace",(function(){return k}));var r={};i.r(r),i.d(r,"stacktrace",(function(){return w}));var a={};i.r(a),i.d(a,"startPolling",(function(){return E})),i.d(a,"stopPolling",(function(){return D})),i.d(a,"restartPolling",(function(){return T})),i.d(a,"setIndexPath",(function(){return C})),i.d(a,"loadRecentSearches",(function(){return I})),i.d(a,"addRecentSearch",(function(){return O})),i.d(a,"clearRecentSearches",(function(){return j})),i.d(a,"searchByQuery",(function(){return x})),i.d(a,"filterByStatus",(function(){return A})),i.d(a,"sortByField",(function(){return N})),i.d(a,"setEndpoint",(function(){return F})),i.d(a,"fetchPaginatedResults",(function(){return L})),i.d(a,"removeIgnoredResolvedErrors",(function(){return P}));var o=i("q+nE"),l=i("CkNe"),c=i("teVv"),d=i("yYHy"),u=i("t9l/"),p=i("mphk"),h={getSentryData(e){let{endpoint:t,params:i}=e;return p.a.get(t,{params:i})},updateErrorStatus:(e,t)=>p.a.put(e,{status:t})};const m=function(e,t){let{commit:i}=e;i("SET_ERROR_STATUS",t.toLowerCase())},f=function(e,t){let{commit:i}=e,{endpoint:n,redirectUrl:s,status:r}=t;return h.updateErrorStatus(n,r).then((function(e){return i("SET_ERROR_STATUS",r),s&&Object(d.O)(s),e.data.result})).catch((function(){return Object(c.createAlert)({message:Object(u.a)("Failed to update issue status")})}))},g=function(e,t){let{commit:i,dispatch:n}=e;return i("SET_UPDATING_RESOLVE_STATUS",!0),n("updateStatus",t).finally((function(){i("SET_UPDATING_RESOLVE_STATUS",!1)}))},v=function(e,t){let{commit:i,dispatch:n}=e;return i("SET_UPDATING_IGNORE_STATUS",!0),n("updateStatus",t).finally((function(){i("SET_UPDATING_IGNORE_STATUS",!1)}))};var b=i("kSYl");let y;function k(e,t){let{commit:i}=e;y=new b.a({resource:h,method:"getSentryData",data:{endpoint:t},successCallback:function(e){let{data:t}=e;t&&(i("SET_STACKTRACE_DATA",t.error),i("SET_LOADING_STACKTRACE",!1),function(e){e&&e.stop()}(y))},errorCallback:function(){i("SET_LOADING_STACKTRACE",!1),Object(c.createAlert)({message:Object(u.a)("Failed to load stacktrace.")})}}),y.makeRequest()}const w=function(e){return e.stacktraceData.stack_trace_entries?e.stacktraceData.stack_trace_entries.reverse():[]};var _={SET_LOADING_STACKTRACE(e,t){e.loadingStacktrace=t},SET_STACKTRACE_DATA(e,t){e.stacktraceData=t}};let S;function E(e){let{state:t,commit:i,dispatch:n}=e;i("SET_LOADING",!0),S=new b.a({resource:h,method:"getSentryData",data:{endpoint:t.endpoint,params:{search_term:t.searchQuery,sort:t.sortField,cursor:t.cursor,issue_status:t.statusFilter}},successCallback:function(e){let{data:t}=e;t&&(i("SET_PAGINATION",t.pagination),i("SET_ERRORS",t.errors),i("SET_LOADING",!1),n("stopPolling"))},errorCallback:function(){i("SET_LOADING",!1),Object(c.createAlert)({message:Object(u.a)("Failed to load errors from Sentry.")})}}),S.makeRequest()}const D=function(){S&&S.stop()};function T(e){let{commit:t}=e;t("SET_ERRORS",[]),t("SET_LOADING",!0),S&&S.restart()}function C(e,t){let{commit:i}=e;i("SET_INDEX_PATH",t)}function I(e){let{commit:t}=e;t("LOAD_RECENT_SEARCHES")}function O(e,t){let{commit:i}=e;i("ADD_RECENT_SEARCH",t)}function j(e){let{commit:t}=e;t("CLEAR_RECENT_SEARCHES")}const x=function(e,t){let{commit:i,dispatch:n}=e;const s=t.trim();i("SET_CURSOR",null),i("SET_SEARCH_QUERY",s),i("ADD_RECENT_SEARCH",s),n("stopPolling"),n("startPolling")},A=function(e,t){let{commit:i,dispatch:n}=e;i("SET_STATUS_FILTER",t),n("stopPolling"),n("startPolling")},N=function(e,t){let{commit:i,dispatch:n}=e;i("SET_CURSOR",null),i("SET_SORT_FIELD",t),n("stopPolling"),n("startPolling")},F=function(e,t){let{commit:i}=e;i("SET_ENDPOINT",t)},L=function(e,t){let{commit:i,dispatch:n}=e;i("SET_CURSOR",t),n("stopPolling"),n("startPolling")},P=function(e,t){let{commit:i}=e;i("REMOVE_IGNORED_RESOLVED_ERRORS",t)};i("ujLG"),i("3R5X"),i("HaUQ");var R=i("xqp2"),q=i("oj/M"),$={SET_ERRORS(e,t){e.errors=Object(q.i)(t,{deep:!0})},SET_LOADING(e,t){e.loading=t},SET_INDEX_PATH(e,t){e.indexPath=t},ADD_RECENT_SEARCH(e,t){if(0===t.length)return;const i=e.recentSearches.filter((function(e){return e!==t}));i.unshift(t),e.recentSearches=i.slice(0,5),R.a.canUseLocalStorage()&&localStorage.setItem("recent-searches"+e.indexPath,JSON.stringify(e.recentSearches))},CLEAR_RECENT_SEARCHES(e){e.recentSearches=[],R.a.canUseLocalStorage()&&localStorage.removeItem("recent-searches"+e.indexPath)},LOAD_RECENT_SEARCHES(e){const t=localStorage.getItem("recent-searches"+e.indexPath)||[];try{e.recentSearches=JSON.parse(t)}catch(t){throw e.recentSearches=[],t}},SET_PAGINATION(e,t){e.pagination=t},SET_CURSOR(e,t){e.cursor=t},SET_SORT_FIELD(e,t){e.sortField=t},SET_SEARCH_QUERY(e,t){e.searchQuery=t},SET_ENDPOINT(e,t){e.endpoint=t},REMOVE_IGNORED_RESOLVED_ERRORS(e,t){e.errors=e.errors.filter((function(e){return e.id!==t}))},SET_STATUS_FILTER(e,t){e.statusFilter=t}},B={SET_UPDATING_IGNORE_STATUS(e,t){e.updatingIgnoreStatus=t},SET_UPDATING_RESOLVE_STATUS(e,t){e.updatingResolveStatus=t},SET_ERROR_STATUS(e,t){e.errorStatus=t}};o.default.use(l.b);t.a=new l.b.Store({modules:{list:{namespaced:!0,state:{errors:[],loading:!0,endpoint:null,sortField:"last_seen",statusFilter:"unresolved",searchQuery:null,indexPath:"",recentSearches:[],pagination:{},cursor:null},actions:{...n,...a},mutations:{...B,...$}},details:{namespaced:!0,state:{stacktraceData:{},loadingStacktrace:!0,updatingResolveStatus:!1,updatingIgnoreStatus:!1,errorStatus:""},actions:{...n,...s},mutations:{...B,..._},getters:r}}})},m1at:function(e,t,i){var n=i("NlHF"),s=i("dKPA"),r=i("YHps"),a=i("MfoV");e.exports=function(e){return function(t){t=a(t);var i=s(t)?r(t):void 0,o=i?i[0]:t.charAt(0),l=i?n(i,1).join(""):t.slice(1);return o[e]()+l}}},m6pR:function(e,t,i){"use strict";var n=i("Z2pp"),s=i("DQ7i"),r=i("jyii"),a=i("gCUY"),o=i("Ivjt");function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach((function(t){d(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var u=n.a.extend({name:r.m,functional:!0,props:Object(a.c)(c(c({},o.b),{},{disabled:{type:Boolean,default:!1},formClass:{type:[String,Object,Array]}}),r.m),render:function(e,t){var i=t.props,n=t.data,r=t.children,a=n.attrs||{},l=n.on||{};return n.attrs={},n.on={},e("li",Object(s.a)(n,{attrs:{role:"presentation"}}),[e(o.a,{ref:"form",staticClass:"b-dropdown-form",class:[i.formClass,{disabled:i.disabled}],props:i,attrs:c(c({},a),{},{disabled:i.disabled,tabindex:i.disabled?null:"-1"}),on:l},r)])}}),p=i("6IRw");const h={components:{BDropdownForm:u},inheritAttrs:!1};const m=i.n(p)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-dropdown-form",this._g(this._b({attrs:{"form-class":"gl-p-0"}},"b-dropdown-form",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,h,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=m},"mVy/":function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a}));var n=i("t9l/");const s={CRITICAL:{value:"CRITICAL",icon:"critical",label:Object(n.g)("IncidentManagement|Critical - S1")},HIGH:{value:"HIGH",icon:"high",label:Object(n.g)("IncidentManagement|High - S2")},MEDIUM:{value:"MEDIUM",icon:"medium",label:Object(n.g)("IncidentManagement|Medium - S3")},LOW:{value:"LOW",icon:"low",label:Object(n.g)("IncidentManagement|Low - S4")},UNKNOWN:{value:"UNKNOWN",icon:"unknown",label:Object(n.g)("IncidentManagement|Unknown")}},r={INCIDENT:"incident"},a={UPDATE_SEVERITY_ERROR:Object(n.g)("SeverityWidget|There was an error while updating severity."),TRY_AGAIN:Object(n.a)("Please try again"),EDIT:Object(n.a)("Edit"),SEVERITY:Object(n.g)("SeverityWidget|Severity"),SEVERITY_VALUE:Object(n.g)("SeverityWidget|Severity: %{severity}")}},meSH:function(e,t,i){"use strict";var n=i("RlQ7"),s=i.n(n),r=i("Fcvx"),a=i("H8gz"),o=i("zLBL"),l=i("6IRw"),c=i.n(l);let d=0;const u={components:{GlIcon:a.a,GlLoadingIcon:o.a},model:{prop:"value",event:"change"},props:{name:{type:String,required:!1,default:null},value:{type:Boolean,required:!1,default:null},disabled:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!1,default:!1},label:{type:String,required:!0},help:{type:String,required:!1,default:void 0},labelPosition:{type:String,required:!1,default:"top",validator:e=>Object.values(r.F).includes(e)}},data:()=>({labelId:s()("toggle-label-")}),computed:{shouldRenderHelp(){return Boolean(this.$slots.help||this.help)&&this.isVerticalLayout},icon(){return this.value?"mobile-issue-close":"close"},helpId(){return this.shouldRenderHelp?"toggle-help-"+this.uuid:void 0},isChecked(){return this.value?"true":"false"},isVerticalLayout(){return"top"===this.labelPosition||"hidden"===this.labelPosition}},beforeCreate(){this.uuid=d,d+=1},methods:{toggleFeature(){this.disabled||this.$emit("change",!this.value)}}};const p=c()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-toggle-wrapper gl-display-flex gl-mb-0",class:{"gl-flex-direction-column":e.isVerticalLayout,"gl-toggle-label-inline":!e.isVerticalLayout,"is-disabled":e.disabled},attrs:{"data-testid":"toggle-wrapper"}},[i("span",{staticClass:"gl-toggle-label gl-flex-shrink-0",class:{"gl-sr-only":"hidden"===e.labelPosition},attrs:{id:e.labelId,"data-testid":"toggle-label"}},[e._t("label",(function(){return[e._v(e._s(e.label))]}))],2),e._v(" "),e.name?i("input",{attrs:{name:e.name,type:"hidden"},domProps:{value:e.value}}):e._e(),e._v(" "),i("button",{staticClass:"gl-flex-shrink-0",class:{"gl-toggle":!0,"is-checked":e.value,"is-disabled":e.disabled},attrs:{role:"switch","aria-checked":e.isChecked,"aria-labelledby":e.labelId,"aria-describedby":e.helpId,type:"button"},on:{click:function(t){return t.preventDefault(),e.toggleFeature.apply(null,arguments)}}},[e.isLoading?i("gl-loading-icon",{staticClass:"toggle-loading",attrs:{color:"light"}}):i("span",{class:{"toggle-icon":!0,disabled:e.disabled}},[i("gl-icon",{attrs:{name:e.icon,size:16}})],1)],1),e._v(" "),e.shouldRenderHelp?i("span",{staticClass:"gl-help-label",attrs:{id:e.helpId,"data-testid":"toggle-help"}},[e._t("help",(function(){return[e._v(e._s(e.help))]}))],2):e._e()])},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=p},n2Ck:function(e,t,i){var n=i("Vkjb"),s=i("UZ9U"),r=i("8H0A"),a=n&&1/r(new n([,-0]))[1]==1/0?function(e){return new n(e)}:s;e.exports=a},nEd5:function(e,t,i){(function(t){window,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,i){var n,s,r,a,o=[].indexOf;n=function(e){return Array.prototype.slice.apply(e)},r=function(e,t){for(;e&&!e.classList.contains(t);)e=e.parentNode;return e},a=function(e,t){var i;return"function"==typeof Event?(i=new Event(e,{bubbles:!0,cancelable:!0})).detail=t:(i=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,t),i},s=function(){class e{constructor(e){this.el=e,this.container=r(this.el,"js-task-list-container"),this.field=this.container.querySelector(".js-task-list-field"),this.container.addEventListener("change",e=>{if(e.target.classList.contains("task-list-item-checkbox"))return this.updateTaskList(e.target)}),this.enable()}enable(){var e;if(this.container.querySelectorAll(".js-task-list-field").length>0)return n(this.container.querySelectorAll(".task-list-item")).forEach((function(e){return e.classList.add("enabled")})),n(this.container.querySelectorAll(".task-list-item-checkbox")).forEach((function(e){return e.disabled=!1})),this.container.classList.add("is-task-list-enabled"),e=a("tasklist:enabled"),this.container.dispatchEvent(e)}disable(){var e;return n(this.container.querySelectorAll(".task-list-item")).forEach((function(e){return e.classList.remove("enabled")})),n(this.container.querySelectorAll(".task-list-item-checkbox")).forEach((function(e){return e.disabled=!0})),this.container.classList.remove("is-task-list-enabled"),e=a("tasklist:disabled"),this.container.dispatchEvent(e)}updateTaskList(t){var i,s,r,o,l,c,d;if(r=this.container.querySelectorAll(".task-list-item-checkbox"),o=1+n(r).indexOf(t),i=a("tasklist:change",{index:o,checked:t.checked}),this.field.dispatchEvent(i),!i.defaultPrevented)return({result:d,lineNumber:l,lineSource:c}=e.updateSource(this.field.value,o,t.checked,t)),this.field.value=d,i=a("change"),this.field.dispatchEvent(i),s=a("tasklist:changed",{index:o,checked:t.checked,lineNumber:l,lineSource:c}),this.field.dispatchEvent(s)}static escapePattern(e){return e.replace(/([\[\]])/g,"\\$1").replace(/\s/,"\\s").replace("x","[xX]")}static updateSource(e,t,i,n){return n.parentElement.hasAttribute("data-sourcepos")?this._updateSourcePosition(e,n,i):this._updateSourceRegex(e,t,i)}static _updateSourcePosition(e,t,i){var n,s,r,a,o;return a=e.split("\n"),o=t.parentElement.getAttribute("data-sourcepos"),r=a[(s=parseInt(o.split(":")[0]))-1],n=i?r.replace(this.incompletePattern,this.complete):r.replace(this.completePattern,this.incomplete),a[s-1]=n,{result:a.join("\n"),lineNumber:s,lineSource:r}}static _updateSourceRegex(e,t,i){var n,s,r,a,l,c,d,u;return u=e.split("\n"),n=e.replace(/\r/g,"").replace(this.itemsInParasPattern,"").split("\n"),a=0,r=!1,{result:function(){var e,p,h;for(h=[],s=e=0,p=u.length;e<p;s=++e)l=u[s],r?l.match(this.endFencesPattern)&&(r=!1):l.match(this.startFencesPattern)?r=!0:o.call(n,l)>=0&&l.trim().match(this.itemPattern)&&(a+=1)===t&&(c=s+1,d=l,l=i?l.replace(this.incompletePattern,this.complete):l.replace(this.completePattern,this.incomplete)),h.push(l);return h}.call(this).join("\n"),lineNumber:c,lineSource:d}}}return e.incomplete="[ ]",e.complete="[x]",e.incompletePattern=RegExp(""+e.escapePattern(e.incomplete)),e.completePattern=RegExp(""+e.escapePattern(e.complete)),e.itemPattern=RegExp(`^(?:\\s*(?:>\\s*)*(?:[-+*]|(?:\\d+\\.)))\\s*(${e.escapePattern(e.complete)}|${e.escapePattern(e.incomplete)})\\s`),e.startFencesPattern=/^`{3}.*$/,e.endFencesPattern=/^`{3}$/,e.itemsInParasPattern=RegExp(`^(${e.escapePattern(e.complete)}|${e.escapePattern(e.incomplete)}).+$`,"g"),e}.call(this),void 0!==t&&(t.fn.taskList=function(e){return this.each((function(i,n){var r;if((r=t(n).data("task-list"))||(r=new s(n),t(n).data("task-list",r),e&&"enable"!==e))return r[e||"enable"]()}))}),e.exports=s}])}).call(this,i("6oy4"))},nGW5:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));i("0no1"),i("3R5X"),i("gdbl");var n=i("t9l/");const s=function(e){let{onlyCommas:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return 0===e.length?"":1===e.length?Object(n.h)(Object(n.g)("nounSeries|%{item}"),{item:e[0]},!1):2!==e.length||t?e.reduce((function(i,s,r){return r!==e.length-1||t?Object(n.h)(Object(n.g)("nounSeries|%{item}, %{nextItem}"),{item:i,nextItem:s},!1):Object(n.h)(Object(n.g)("nounSeries|%{item}, and %{lastItem}"),{item:i,lastItem:s},!1)})):Object(n.h)(Object(n.g)("nounSeries|%{firstItem} and %{lastItem}"),{firstItem:e[0],lastItem:e[1]},!1)}},nLMr:function(e,t,i){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WorkItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItem"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullPath"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"workItemType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteWorkItem"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updateWorkItem"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"widgets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItemWidgets"},directives:[]}]}}]}}],loc:{start:0,end:376}};n.loc.source={body:'#import "ee_else_ce/work_items/graphql/work_item_widgets.fragment.graphql"\n\nfragment WorkItem on WorkItem {\n  id\n  iid\n  title\n  state\n  description\n  confidential\n  createdAt\n  closedAt\n  project {\n    id\n    fullPath\n  }\n  workItemType {\n    id\n    name\n    iconName\n  }\n  userPermissions {\n    deleteWorkItem\n    updateWorkItem\n  }\n  widgets {\n    ...WorkItemWidgets\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("K0NN").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var r={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.WorkItem=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(n,"WorkItem")},nQy4:function(e,t,i){(function(e){var n,s,r,a,o;function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=this,o=function(e,t){"object"===l(t)&&"function"==typeof t.default&&(t=t.default);var i=function(e,t,i){var n;return function(){var s=this,r=arguments,a=function(){n=null,i||e.apply(s,r)},o=i&&!n;clearTimeout(n),n=setTimeout(a,t),o&&e.apply(s,r)}};return t.component(e,{props:{size:{type:Number,required:!0},remain:{type:Number,required:!0},rtag:{type:String,default:"div"},wtag:{type:String,default:"div"},wclass:{type:String,default:""},wstyle:{type:Object,default:function(){return{}}},pagemode:{type:Boolean,default:!1},scrollelement:{type:"undefined"==typeof window?Object:HTMLElement,default:null},start:{type:Number,default:0},offset:{type:Number,default:0},variable:{type:[Function,Boolean],default:!1},bench:{type:Number,default:0},debounce:{type:Number,default:0},totop:{type:[Function,Boolean],default:!1},tobottom:{type:[Function,Boolean],default:!1},onscroll:{type:[Function,Boolean],default:!1},istable:{type:Boolean,default:!1},item:{type:[Function,Object],default:null},itemcount:{type:Number,default:0},itemprops:{type:Function,default:function(){}}},watch:{size:function(){this.changeProp="size"},remain:function(){this.changeProp="remain"},bench:function(){this.changeProp="bench",this.itemModeForceRender()},start:function(){this.changeProp="start",this.itemModeForceRender()},offset:function(){this.changeProp="offset",this.itemModeForceRender()},itemcount:function(){this.changeProp="itemcount",this.itemModeForceRender()},scrollelement:function(e,t){this.pagemode||(t&&this.removeScrollListener(t),e&&this.addScrollListener(e))}},created:function(){var e=this.start>=this.remain?this.start:0,t=this.remain+(this.bench||this.remain),i=Object.create(null);i.direction="",i.scrollTop=0,i.start=e,i.end=e+t-1,i.keeps=t,i.total=0,i.offsetAll=0,i.paddingTop=0,i.paddingBottom=0,i.varCache={},i.varAverSize=0,i.varLastCalcIndex=0,this.delta=i},mounted:function(){if(this.pagemode?this.addScrollListener(window):this.scrollelement&&this.addScrollListener(this.scrollelement),this.start){var e=this.getZone(this.start).start;this.setScrollTop(this.variable?this.getVarOffset(e):e*this.size)}else this.offset&&this.setScrollTop(this.offset)},beforeDestroy:function(){this.pagemode?this.removeScrollListener(window):this.scrollelement&&this.removeScrollListener(this.scrollelement)},beforeUpdate:function(){var e=this.delta;e.keeps=this.remain+(this.bench||this.remain);var t="start"===this.changeProp?this.start:e.start,i=this.getZone(t);if(this.changeProp&&["start","size","offset"].includes(this.changeProp)){var n="offset"===this.changeProp?this.offset:this.variable?this.getVarOffset(i.isLast?e.total:i.start):i.isLast&&e.total-t<=this.remain?e.total*this.size:t*this.size;this.$nextTick(this.setScrollTop.bind(this,n))}(this.changeProp||e.end!==i.end||t!==i.start)&&(this.changeProp="",e.end=i.end,e.start=i.start,this.forceRender())},methods:{addScrollListener:function(e){this.scrollHandler=this.debounce?i(this.onScroll.bind(this),this.debounce):this.onScroll,e.addEventListener("scroll",this.scrollHandler,!1)},removeScrollListener:function(e){e.removeEventListener("scroll",this.scrollHandler,!1)},onScroll:function(e){var t,i=this.delta,n=this.$refs.vsl;if(this.pagemode)t=-this.$el.getBoundingClientRect().top;else if(this.scrollelement){var s=this.scrollelement.getBoundingClientRect(),r=this.$el.getBoundingClientRect();t=s.top-r.top}else t=n&&(n.$el||n).scrollTop||0;i.direction=t>i.scrollTop?"D":"U",i.scrollTop=t,i.total>i.keeps?this.updateZone(t):i.end=i.total-1;var a=i.offsetAll;if(this.onscroll){var o=Object.create(null);o.offset=t,o.offsetAll=a,o.start=i.start,o.end=i.end,this.onscroll(e,o)}!t&&i.total&&this.fireEvent("totop"),t>=a&&this.fireEvent("tobottom")},updateZone:function(e){var t=this.delta,i=this.variable?this.getVarOvers(e):Math.floor(e/this.size);"U"===t.direction&&(i=i-this.remain+1);var n=this.getZone(i),s=this.bench||this.remain,r=1===Math.abs(i-t.start-s);!r&&i-t.start<=s&&!n.isLast&&i>t.start||(r||n.start!==t.start||n.end!==t.end)&&(t.end=n.end,t.start=n.start,this.forceRender())},getZone:function(e){var t,i,n=this.delta;e=parseInt(e,10),e=Math.max(0,e);var s=n.total-n.keeps,r=e<=n.total&&e>=s||e>n.total;return i=(t=r?Math.max(0,s):e)+n.keeps-1,n.total&&i>n.total&&(i=n.total-1),{end:i,start:t,isLast:r}},forceRender:function(){var e=this;window.requestAnimationFrame((function(){e.$forceUpdate()}))},itemModeForceRender:function(){this.item&&this.forceRender()},getVarOvers:function(e){for(var t=0,i=0,n=0,s=this.delta,r=s.total;t<=r;){if(i=t+Math.floor((r-t)/2),n=this.getVarOffset(i),s.varAverSize||(s.varAverSize=Math.floor(n/i)),n===e)return i;n<e?t=i+1:n>e&&(r=i-1)}return t>0?--t:0},getVarOffset:function(e,t){var i=this.delta,n=i.varCache[e];if(!t&&n)return n.offset;for(var s=0,r=0;r<e;r++){var a=this.getVarSize(r,t);i.varCache[r]={size:a,offset:s},s+=a}return i.varLastCalcIndex=Math.max(i.varLastCalcIndex,e-1),i.varLastCalcIndex=Math.min(i.varLastCalcIndex,i.total-1),s},getVarSize:function(e,t){var i=this.delta.varCache[e];if(!t&&i)return i.size;if("function"==typeof this.variable)return this.variable(e)||0;var n=this.item?this.$children[e]?this.$children[e].$vnode:null:this.$slots.default[e],s=n&&n.data&&n.data.style;if(s&&s.height){var r=s.height.match(/^(.*)px$/);return r&&+r[1]||0}return 0},getVarPaddingTop:function(){return this.getVarOffset(this.delta.start)},getVarPaddingBottom:function(){var e=this.delta,t=e.total-1;return e.total-e.end<=e.keeps||e.varLastCalcIndex===t?this.getVarOffset(t)-this.getVarOffset(e.end):(e.total-e.end)*(e.varAverSize||this.size)},getVarAllHeight:function(){var e=this.delta;return e.total-e.end<=e.keeps||e.varLastCalcIndex===e.total-1?this.getVarOffset(e.total):this.getVarOffset(e.start)+(e.total-e.end)*(e.varAverSize||this.size)},updateVariable:function(e){this.getVarOffset(e,!0)},fireEvent:function(e){this[e]&&this[e]()},setScrollTop:function(e){if(this.pagemode)window.scrollTo(0,e);else if(this.scrollelement)this.scrollelement.scrollTo(0,e);else{var t=this.$refs.vsl;t&&((t.$el||t).scrollTop=e)}},filter:function(e){var t,i,n,s=this.delta,r=this.$slots.default||[];this.item||this.$scopedSlots.item?(s.total=this.itemcount,s.keeps>s.total&&(s.end=s.total-1)):(r.length||(s.start=0),s.total=r.length);var a=s.total>s.keeps;this.variable?(n=this.getVarAllHeight(),t=a?this.getVarPaddingTop():0,i=a?this.getVarPaddingBottom():0):(n=this.size*s.total,t=this.size*(a?s.start:0),i=this.size*(a?s.total-s.keeps:0)-t),i<this.size&&(i=0),s.paddingTop=t,s.paddingBottom=i,s.offsetAll=n-this.size*this.remain;for(var o=[],l=s.start;l<s.total&&l<=Math.ceil(s.end);l++){var c=null;c=this.$scopedSlots.item?this.$scopedSlots.item(l):this.item?e(this.item,this.itemprops(l)):r[l],o.push(c)}return o}},render:function(e){var t=this.debounce,n=this.filter(e),s=this.delta,r=s.paddingTop,a=s.paddingBottom,o=this.istable,l=o?"div":this.wtag,c=o?"div":this.rtag;o&&(n=[e("table",[e("tbody",n)])]);var d=e(l,{style:Object.assign({display:"block","padding-top":r+"px","padding-bottom":a+"px"},this.wstyle),class:this.wclass,attrs:{role:"group"}},n);return this.pagemode||this.scrollelement?d:e(c,{ref:"vsl",style:{display:"block","overflow-y":this.size>=this.remain?"auto":"initial",height:this.size*this.remain+"px"},on:{"&scroll":t?i(this.onScroll.bind(this),t):this.onScroll}},[d])}})},"object"===l(t)&&"object"===l(e)?e.exports=o("VirtualList",i("q+nE")):(s=[i("q+nE")],n=o.bind(a,"VirtualList"),void 0===(r="function"==typeof n?n.apply(t,s):n)||(e.exports=r))}).call(this,i("Y4xB")(e))},nRGN:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"workItemLabels"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"issuableId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssuableID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issuableLabelsUpdated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"issuableId"},value:{kind:"Variable",name:{kind:"Name",value:"issuableId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItem"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"widgets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetLabels"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Label"},directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:386}};n.loc.source={body:'#import "~/graphql_shared/fragments/label.fragment.graphql"\n\nsubscription workItemLabels($issuableId: IssuableID!) {\n  issuableLabelsUpdated(issuableId: $issuableId) {\n    ... on WorkItem {\n      id\n      widgets {\n        ... on WorkItemWidgetLabels {\n          type\n          labels {\n            nodes {\n              ...Label\n            }\n          }\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("NwwH").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var r={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.workItemLabels=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(n,"workItemLabels")},nnCV:function(e,t,i){"use strict";var n={props:{label:{type:Object,required:!0}}},s=i("bPvS"),r=Object(s.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"gl-display-flex gl-align-items-center gl-word-break-word"},[t("span",{staticClass:"dropdown-label-box gl-flex-shrink-0 gl-top-0 gl-mr-3",style:{"background-color":this.label.color},attrs:{"data-testid":"label-color-box"}}),this._v(" "),t("span",[this._v(this._s(this.label.title))])])}),[],!1,null,null,null);t.a=r.exports},oSqs:function(e,t,i){"use strict";var n=i("Z2pp"),s=i("jyii"),r=i("gCUY"),a=i("qx9o"),o=i("G55H"),l=i("ST6S"),c=i("8Vyw"),d=i("KpC0"),u=i("lRgI"),p=i("YxAH"),h=i("p+a6"),m=i("Rd/K"),f=i("HJOD"),g=i("1pIC"),v=i("qDIy"),b=i("PrCM"),y=i("pkvD"),k=i("3XSL"),w=i("9Q7u");function _(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var S="__bv__visibility_observer",E=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.callback=i.callback,this.margin=i.margin||0,this.once=i.once||!1,this.observer=null,this.visible=void 0,this.doneOnce=!1,this.createObserver(n)}var t,i,n;return t=e,(i=[{key:"createObserver",value:function(e){var t=this;if(this.observer&&this.stop(),!this.doneOnce&&Object(o.e)(this.callback)){try{this.observer=new IntersectionObserver(this.handler.bind(this),{root:null,rootMargin:this.margin,threshold:0})}catch(e){return this.doneOnce=!0,this.observer=void 0,void this.callback(null)}e.context.$nextTick((function(){Object(a.B)((function(){t.observer&&t.observer.observe(t.el)}))}))}}},{key:"handler",value:function(e){var t=e?e[0]:{},i=Boolean(t.isIntersecting||t.intersectionRatio>0);i!==this.visible&&(this.visible=i,this.callback(i),this.once&&this.visible&&(this.doneOnce=!0,this.stop()))}},{key:"stop",value:function(){this.observer&&this.observer.disconnect(),this.observer=null}}])&&_(t.prototype,i),n&&_(t,n),e}(),D=function(e){var t=e[S];t&&t.stop&&t.stop(),delete e[S]},T=function(e,t,i){var n=t.value,s=t.modifiers,r={margin:"0px",once:!1,callback:n};Object(w.h)(s).forEach((function(e){y.c.test(e)?r.margin="".concat(e,"px"):"once"===e.toLowerCase()&&(r.once=!0)})),D(e),e[S]=new E(e,r,i),e[S]._prevModifiers=Object(w.b)(s)},C={bind:T,componentUpdated:function(e,t,i){var n=t.value,s=t.oldValue,r=t.modifiers;r=Object(w.b)(r),!e||n===s&&e[S]&&Object(k.a)(r,e[S]._prevModifiers)||T(e,{value:n,modifiers:r},i)},unbind:function(e){D(e)}};function I(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function O(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?I(Object(i),!0).forEach((function(t){j(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function j(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var x=n.a.extend({name:s.E,directives:{"b-visible":C},mixins:[b.a,g.a,v.a,d.a,p.a,h.a,m.a,u.a,f.a],props:Object(r.c)(O(O(O(O(O({},d.b),p.b),h.b),m.b),{},{rows:{type:[Number,String],default:2},maxRows:{type:[Number,String]},wrap:{type:String,default:"soft"},noResize:{type:Boolean,default:!1},noAutoShrink:{type:Boolean,default:!1}}),s.E),data:function(){return{heightInPx:null}},computed:{computedStyle:function(){var e={resize:!this.computedRows||this.noResize?"none":null};return this.computedRows||(e.height=this.heightInPx,e.overflowY="scroll"),e},computedMinRows:function(){return Object(l.b)(Object(c.c)(this.rows,2),2)},computedMaxRows:function(){return Object(l.b)(this.computedMinRows,Object(c.c)(this.maxRows,0))},computedRows:function(){return this.computedMinRows===this.computedMaxRows?this.computedMinRows:null},computedAttrs:function(){var e=this.disabled,t=this.required;return{id:this.safeId(),name:this.name||null,form:this.form||null,disabled:e,placeholder:this.placeholder||null,required:t,autocomplete:this.autocomplete||null,readonly:this.readonly||this.plaintext,rows:this.computedRows,wrap:this.wrap||null,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid}},computedListeners:function(){return O(O({},this.bvListeners),{},{input:this.onInput,change:this.onChange,blur:this.onBlur})}},watch:{localValue:function(){this.setHeight()}},mounted:function(){this.setHeight()},methods:{visibleCallback:function(e){e&&this.$nextTick(this.setHeight)},setHeight:function(){var e=this;this.$nextTick((function(){Object(a.B)((function(){e.heightInPx=e.computeHeight()}))}))},computeHeight:function(){if(this.$isServer||!Object(o.f)(this.computedRows))return null;var e=this.$el;if(!Object(a.u)(e))return null;var t=Object(a.k)(e),i=Object(c.b)(t.lineHeight,1),n=Object(c.b)(t.borderTopWidth,0)+Object(c.b)(t.borderBottomWidth,0),s=Object(c.b)(t.paddingTop,0)+Object(c.b)(t.paddingBottom,0),r=n+s,d=i*this.computedMinRows+r,u=Object(a.m)(e,"height")||t.height;Object(a.F)(e,"height","auto");var p=e.scrollHeight;Object(a.F)(e,"height",u);var h=Object(l.b)((p-s)/i,2),m=Object(l.c)(Object(l.b)(h,this.computedMinRows),this.computedMaxRows),f=Object(l.b)(Object(l.a)(m*i+r),d);return this.noAutoShrink&&Object(c.b)(u,0)>f?u:"".concat(f,"px")}},render:function(e){return e("textarea",{ref:"input",class:this.computedClass,style:this.computedStyle,directives:[{name:"b-visible",value:this.visibleCallback,modifiers:{640:!0}}],attrs:this.computedAttrs,domProps:{value:this.localValue},on:this.computedListeners})}}),A=i("6IRw");const N={prop:"value",event:"input"};const F={components:{BFormTextarea:x},inheritAttrs:!1,model:N,props:{value:{type:String,required:!1,default:""},noResize:{type:Boolean,required:!1,default:!0},submitOnEnter:{type:Boolean,required:!1,default:!1}},computed:{listeners(){var e=this;return{...this.$listeners,input:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];e.$emit("update",...i)},update:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];e.$emit(N.event,...i)}}},keypressEvent(){return this.submitOnEnter?"keyup":null}},methods:{handleKeyPress(e){13===e.keyCode&&(e.metaKey||e.ctrlKey)&&this.$emit("submit")}}};const L=i.n(A)()({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-form-textarea",e._g(e._b({staticClass:"gl-form-input gl-form-textarea",attrs:{"no-resize":e.noResize,value:e.value},nativeOn:e._d({},[e.keypressEvent,function(t){return e.handleKeyPress.apply(null,arguments)}])},"b-form-textarea",e.$attrs,!1),e.listeners))},staticRenderFns:[]},void 0,F,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=L},odnV:function(e,t,i){var n=i("/e4I");e.exports=function(e){return e&&e.length?n(e):[]}},oiT5:function(e,t,i){"use strict";i.d(t,"b",(function(){return s}));const n={ABORTED:0,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,ALREADY_REPORTED:208,IM_USED:226,MULTIPLE_CHOICES:300,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,CONFLICT:409,GONE:410,PAYLOAD_TOO_LARGE:413,UNPROCESSABLE_ENTITY:422,TOO_MANY_REQUESTS:429,INTERNAL_SERVER_ERROR:500,SERVICE_UNAVAILABLE:503},s=[n.OK,n.CREATED,n.ACCEPTED,n.NON_AUTHORITATIVE_INFORMATION,n.NO_CONTENT,n.RESET_CONTENT,n.PARTIAL_CONTENT,n.MULTI_STATUS,n.ALREADY_REPORTED,n.IM_USED];t.a=n},pGz2:function(e,t,i){"use strict";var n=i("vKRd"),s=i.n(n),r=(i("WmlO"),i("3R5X"),i("W9Nl"),i("g+EE"),i("ly/8")),a=i("Q04j"),o=i("F+K/"),l=i("cuRJ"),c=i("zLBL"),d=i("Fj12"),u=i("H8gz"),p=i("B0bW"),h=i("GVI7"),m=i("t9l/"),f=i("oj/M"),g=i("Zxcm"),v=i("j8Yr"),b=i("UNv9"),y=i("XXQe"),k=i("Qrj3"),w=i.n(k),_=i("ZW1F"),S=i.n(_),E=i("T1FK"),D=i.n(E),T=i("CE4l"),C=i.n(T),I=i("7aBQ"),O=i.n(I),j=i("Oj7w"),x=i.n(j),A=i("jiUj"),N=i("OkMp"),F=i("0X+3"),L=i("OqKX"),P=i("lT7T"),R=i("qINL"),q=i("mWeI"),$={i18n:{enableTaskConfidentiality:Object(m.g)("WorkItem|Turn on confidentiality"),disableTaskConfidentiality:Object(m.g)("WorkItem|Turn off confidentiality")},components:{GlDropdown:N.a,GlDropdownItem:F.a,GlDropdownDivider:L.a,GlModal:P.a},directives:{GlModal:R.a},mixins:[q.a.mixin({label:"actions_menu"})],props:{workItemId:{type:String,required:!1,default:null},workItemType:{type:String,required:!1,default:null},canUpdate:{type:Boolean,required:!1,default:!1},canDelete:{type:Boolean,required:!1,default:!1},isConfidential:{type:Boolean,required:!1,default:!1},isParentConfidential:{type:Boolean,required:!1,default:!1}},emits:["deleteWorkItem","toggleWorkItemConfidentiality"],computed:{i18n(){return{deleteWorkItem:Object(y.G)(y.d,this.workItemType),areYouSureDelete:Object(y.G)(y.c,this.workItemType)}}},methods:{handleToggleWorkItemConfidentiality(){this.track("click_toggle_work_item_confidentiality"),this.$emit("toggleWorkItemConfidentiality",!this.isConfidential)},handleDeleteWorkItem(){this.track("click_delete_work_item"),this.$emit("deleteWorkItem")},handleCancelDeleteWorkItem(e){let{trigger:t}=e;"ok"!==t&&this.track("cancel_delete_work_item")}}},B=i("bPvS"),M=Object(B.a)($,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("gl-dropdown",{attrs:{icon:"ellipsis_v","data-testid":"work-item-actions-dropdown","text-sr-only":"",text:e.__("More actions"),category:"tertiary","no-caret":"",right:""}},[e.canUpdate&&!e.isParentConfidential?[i("gl-dropdown-item",{attrs:{"data-testid":"confidentiality-toggle-action"},on:{click:e.handleToggleWorkItemConfidentiality}},[e._v(e._s(e.isConfidential?e.$options.i18n.disableTaskConfidentiality:e.$options.i18n.enableTaskConfidentiality))]),e._v(" "),e.canDelete?i("gl-dropdown-divider"):e._e()]:e._e(),e._v(" "),e.canDelete?i("gl-dropdown-item",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:"work-item-confirm-delete",expression:"'work-item-confirm-delete'"}],attrs:{"data-testid":"delete-action"}},[e._v(e._s(e.i18n.deleteWorkItem))]):e._e()],2),e._v(" "),i("gl-modal",{attrs:{"modal-id":"work-item-confirm-delete",title:e.i18n.deleteWorkItem,"ok-title":e.i18n.deleteWorkItem,"ok-variant":"danger"},on:{ok:e.handleDeleteWorkItem,hide:e.handleCancelDeleteWorkItem}},[e._v("\n    "+e._s(e.i18n.areYouSureDelete)+"\n  ")])],1)}),[],!1,null,null,null).exports,U=i("r2TH");function V(e){let{input:t,workItemParentId:i}=e,n=O.a;const s={input:t};return i&&(n=x.a,s.input={id:i,taskData:t}),{mutation:n,variables:s}}var z=i("tXCq"),W=i("xFu9"),H={i18n:{status:Object(m.a)("Status")},states:[{value:y.m,text:Object(m.a)("Open")},{value:y.j,text:Object(m.a)("Closed")}],components:{GlFormGroup:z.a,GlFormSelect:W.a},props:{state:{type:String,required:!0},disabled:{type:Boolean,required:!1,default:!1}},computed:{currentState(){return this.$options.states[this.state]}},methods:{setState(e){e!==this.state&&this.$emit("changed",e)}},labelId:"work-item-state-select"},G=(i("qhMN"),{components:{ItemState:Object(B.a)(H,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-form-group",{staticClass:"gl-align-items-center",attrs:{label:e.$options.i18n.status,"label-for":e.$options.labelId,"label-cols":"3","label-cols-lg":"2","label-class":"gl-pb-0! gl-overflow-wrap-break"}},[i("gl-form-select",{staticClass:"gl-w-auto hide-select-decoration gl-pl-3",class:{"gl-bg-transparent! gl-cursor-text!":e.disabled},attrs:{id:e.$options.labelId,value:e.state,options:e.$options.states,disabled:e.disabled},on:{change:e.setState}})],1)}),[],!1,null,null,null).exports},mixins:[q.a.mixin()],props:{workItem:{type:Object,required:!0},workItemParentId:{type:String,required:!1,default:null},canUpdate:{type:Boolean,required:!1,default:!1}},data:()=>({updateInProgress:!1}),computed:{workItemType(){var e;return null===(e=this.workItem.workItemType)||void 0===e?void 0:e.name},tracking(){return{category:y.o,label:"item_state",property:"type_"+this.workItemType}}},methods:{updateWorkItemState(e){const t={[y.m]:y.l,[y.j]:y.k}[e];this.updateWorkItem(t)},async updateWorkItem(e){if(!e)return;const t={id:this.workItem.id,stateEvent:e};this.updateInProgress=!0;try{var i;this.track("updated_state");const{mutation:e,variables:n}=V({workItemParentId:this.workItemParentId,input:t}),{data:s}=await this.$apollo.mutate({mutation:e,variables:n}),r=null===(i=s.workItemUpdate)||void 0===i?void 0:i.errors;if(null!=r&&r.length)throw new Error(r[0])}catch(e){const t=Object(y.G)(y.i,this.workItemType);this.$emit("error",t),U.a(e)}this.updateInProgress=!1}}}),K=Object(B.a)(G,(function(){var e=this.$createElement,t=this._self._c||e;return this.workItem.state?t("item-state",{attrs:{state:this.workItem.state,disabled:this.updateInProgress||!this.canUpdate},on:{changed:this.updateWorkItemState}}):this._e()}),[],!1,null,null,null).exports,Y={components:{ItemTitle:i("ZP6x").a},mixins:[q.a.mixin()],props:{workItemId:{type:String,required:!1,default:""},workItemTitle:{type:String,required:!1,default:""},workItemType:{type:String,required:!1,default:""},workItemParentId:{type:String,required:!1,default:null},canUpdate:{type:Boolean,required:!1,default:!1}},computed:{tracking(){return{category:y.o,label:"item_title",property:"type_"+this.workItemType}}},methods:{async updateTitle(e){if(e===this.workItemTitle)return;const t={id:this.workItemId,title:e};this.updateInProgress=!0;try{var i;this.track("updated_title");const{mutation:e,variables:n}=V({workItemParentId:this.workItemParentId,input:t}),{data:s}=await this.$apollo.mutate({mutation:e,variables:n}),r=null===(i=s.workItemUpdate)||void 0===i?void 0:i.errors;if(null!=r&&r.length)throw new Error(r[0])}catch(e){const t=Object(y.G)(y.i,this.workItemType);this.$emit("error",t),U.a(e)}this.updateInProgress=!1}}},Q=Object(B.a)(Y,(function(){var e=this.$createElement;return(this._self._c||e)("item-title",{attrs:{title:this.workItemTitle,disabled:!this.canUpdate},on:{"title-changed":this.updateTitle}})}),[],!1,null,null,null).exports,X=i("mcoW"),J=i("rh11"),Z=i("0nrL"),ee=i("A20k"),te=i("WW8A"),ie=i("rEAH"),ne=i("LP9P"),se=i.n(ne),re=(i("JHu5"),i("XUYm"),i("uHfJ"),i("R0RX"),i("9LGn")),ae=i("6oy4"),oe=i.n(ae);i("Skdl");var le={directives:{SafeHtml:re.a},components:{GlButton:l.a},props:{workItemDescription:{type:Object,required:!0},canEdit:{type:Boolean,required:!0}},computed:{descriptionText(){var e;return null===(e=this.workItemDescription)||void 0===e?void 0:e.description},descriptionHtml(){var e;return null===(e=this.workItemDescription)||void 0===e?void 0:e.descriptionHtml},descriptionEmpty(){var e;return""===(null===(e=this.descriptionHtml)||void 0===e?void 0:e.trim())}},watch:{descriptionHtml:{handler(){this.renderGFM()},immediate:!0}},methods:{async renderGFM(){await this.$nextTick(),oe()(this.$refs["gfm-content"]).renderGFM(),this.canEdit&&(this.checkboxes=this.$el.querySelectorAll(".task-list-item-checkbox"),this.checkboxes.forEach((function(e){e.disabled=!1})))},toggleCheckboxes(e){const{target:t}=e;if(function(e){return null==e?void 0:e.classList.contains("task-list-item-checkbox")}(t)){t.disabled=!0;const{sourcepos:e}=t.parentElement.dataset;if(!e)return;const[i]=e.split("-");let[n]=i.split(":");n=Number(n)-1;const s=this.descriptionText.split("\n").map((function(e,i){return n===i?t.checked?e.replace(/\[ \]/,"[x]"):e.replace(/\[[x~]\]/i,"[ ]"):e})).join("\n");this.$emit("descriptionUpdated",s)}}}},ce=Object(B.a)(le,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-mb-5 gl-border-t gl-pt-5"},[i("div",{staticClass:"gl-display-inline-flex gl-align-items-center gl-mb-5"},[i("label",{staticClass:"d-block col-form-label gl-mr-5"},[e._v(e._s(e.__("Description")))]),e._v(" "),e.canEdit?i("gl-button",{staticClass:"gl-ml-auto",attrs:{icon:"pencil","data-testid":"edit-description","aria-label":e.__("Edit description")},on:{click:function(t){return e.$emit("startEditing")}}}):e._e()],1),e._v(" "),e.descriptionEmpty?i("div",{staticClass:"gl-text-secondary gl-mb-5"},[e._v(e._s(e.__("None")))]):i("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.descriptionHtml,expression:"descriptionHtml"}],ref:"gfm-content",staticClass:"md gl-mb-5 gl-min-h-8",on:{change:e.toggleCheckboxes}})])}),[],!1,null,null,null).exports,de={components:{EditedAt:ee.a,GlButton:l.a,GlFormGroup:z.a,MarkdownEditor:ie.a,MarkdownField:te.a,WorkItemDescriptionRendered:ce},mixins:[Object(g.a)(),q.a.mixin()],props:{workItemId:{type:String,required:!0},fullPath:{type:String,required:!0},fetchByIid:{type:Boolean,required:!1,default:!1},queryVariables:{type:Object,required:!0}},markdownDocsPath:Object(X.a)("user/markdown"),data:()=>({workItem:{},isEditing:!1,isSubmitting:!1,isSubmittingWithKeydown:!1,descriptionText:"",descriptionHtml:""}),apollo:{workItem:{query(){return Object(A.a)(this.fetchByIid)},variables(){return this.queryVariables},update(e){return this.fetchByIid?e.workspace.workItems.nodes[0]:e.workItem},skip(){return!this.workItemId},result(){var e,t;this.descriptionText=null===(e=this.workItemDescription)||void 0===e?void 0:e.description,this.descriptionHtml=null===(t=this.workItemDescription)||void 0===t?void 0:t.descriptionHtml},error(){this.$emit("error",y.F.fetchError)},subscribeToMore:{document:se.a,variables(){return{issuableId:this.workItemId}}}}},computed:{autosaveKey(){return this.workItemId},canEdit(){var e,t;return(null===(e=this.workItem)||void 0===e||null===(t=e.userPermissions)||void 0===t?void 0:t.updateWorkItem)||!1},tracking(){return{category:y.o,label:"item_description",property:"type_"+this.workItemType}},workItemDescription(){var e,t;const i=null===(e=this.workItem)||void 0===e||null===(t=e.widgets)||void 0===t?void 0:t.find((function(e){return e.type===y.r}));return{...i,description:(null==i?void 0:i.description)||""}},workItemType(){var e,t;return null===(e=this.workItem)||void 0===e||null===(t=e.workItemType)||void 0===t?void 0:t.name},lastEditedAt(){var e;return null===(e=this.workItemDescription)||void 0===e?void 0:e.lastEditedAt},lastEditedByName(){var e,t;return null===(e=this.workItemDescription)||void 0===e||null===(t=e.lastEditedBy)||void 0===t?void 0:t.name},lastEditedByPath(){var e,t;return null===(e=this.workItemDescription)||void 0===e||null===(t=e.lastEditedBy)||void 0===t?void 0:t.webPath},markdownPreviewPath(){return`${gon.relative_url_root||""}/${this.fullPath}/preview_markdown?target_type=${this.workItemType}`}},methods:{async startEditing(){var e,t;this.isEditing=!0,this.descriptionText=Object(J.c)(this.autosaveKey)||(null===(e=this.workItemDescription)||void 0===e?void 0:e.description),await this.$nextTick(),null===(t=this.$refs.textarea)||void 0===t||t.focus()},async cancelEditing(){var e;if(this.descriptionText!==(null===(e=this.workItemDescription)||void 0===e?void 0:e.description)){const e=Object(m.g)("WorkItem|Are you sure you want to cancel editing?");if(!await Object(Z.a)(e,{primaryBtnText:Object(m.a)("Discard changes"),cancelBtnText:Object(m.a)("Continue editing")}))return}this.isEditing=!1,Object(J.a)(this.autosaveKey)},onInput(){this.isSubmittingWithKeydown||Object(J.e)(this.autosaveKey,this.descriptionText)},async updateWorkItem(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{key:t}=e;t&&(this.isSubmittingWithKeydown=!0),this.isSubmitting=!0;try{var i;this.track("updated_description");const{data:{workItemUpdate:e}}=await this.$apollo.mutate({mutation:O.a,variables:{input:{id:this.workItem.id,descriptionWidget:{description:this.descriptionText}}}});if(null!==(i=e.errors)&&void 0!==i&&i.length)throw new Error(e.errors[0]);this.isEditing=!1,Object(J.a)(this.autosaveKey)}catch(e){this.$emit("error",e.message),U.a(e)}this.isSubmitting=!1},setDescriptionText(e){this.descriptionText=e,Object(J.e)(this.autosaveKey,this.descriptionText)},handleDescriptionTextUpdated(e){this.descriptionText=e,this.updateWorkItem()}}},ue=Object(B.a)(de,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isEditing?i("gl-form-group",{staticClass:"gl-mb-5 gl-border-t gl-pt-6",attrs:{label:e.__("Description"),"label-for":"work-item-description"}},[e.glFeatures.workItemsMvc2?i("markdown-editor",{staticClass:"gl-my-3 common-note-form",attrs:{value:e.descriptionText,"render-markdown-path":e.markdownPreviewPath,"markdown-docs-path":e.$options.markdownDocsPath,"form-field-aria-label":e.__("Description"),"form-field-placeholder":e.__("Write a comment or drag your files here"),"form-field-id":"work-item-description","form-field-name":"work-item-description","enable-autocomplete":"","init-on-autofocus":""},on:{input:e.setDescriptionText,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.updateWorkItem.apply(null,arguments):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.updateWorkItem.apply(null,arguments):null}]}}):i("markdown-field",{staticClass:"gl-p-3 bordered-box gl-mt-5",attrs:{"can-attach-file":"","textarea-value":e.descriptionText,"is-submitting":e.isSubmitting,"markdown-preview-path":e.markdownPreviewPath,"markdown-docs-path":e.$options.markdownDocsPath},scopedSlots:e._u([{key:"textarea",fn:function(){return[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.descriptionText,expression:"descriptionText"}],ref:"textarea",staticClass:"note-textarea js-gfm-input js-autosize markdown-area",attrs:{id:"work-item-description",disabled:e.isSubmitting,dir:"auto","data-supports-quick-actions":"false","aria-label":e.__("Description"),placeholder:e.__("Write a comment or drag your files here")},domProps:{value:e.descriptionText},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.updateWorkItem.apply(null,arguments):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.updateWorkItem.apply(null,arguments):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.stopPropagation(),e.cancelEditing.apply(null,arguments))}],input:[function(t){t.target.composing||(e.descriptionText=t.target.value)},e.onInput]}})]},proxy:!0}],null,!1,2307376151)}),e._v(" "),i("div",{staticClass:"gl-display-flex"},[i("gl-button",{attrs:{category:"primary",variant:"confirm",loading:e.isSubmitting,"data-testid":"save-description"},on:{click:e.updateWorkItem}},[e._v(e._s(e.__("Save"))+"\n      ")]),e._v(" "),i("gl-button",{staticClass:"gl-ml-3",attrs:{category:"tertiary","data-testid":"cancel"},on:{click:e.cancelEditing}},[e._v(e._s(e.__("Cancel"))+"\n      ")])],1)],1):i("work-item-description-rendered",{attrs:{"work-item-description":e.workItemDescription,"can-edit":e.canEdit},on:{startEditing:e.startEditing,descriptionUpdated:e.handleDescriptionTextUpdated}}),e._v(" "),e.lastEditedAt?i("edited-at",{attrs:{"updated-at":e.lastEditedAt,"updated-by-name":e.lastEditedByName,"updated-by-path":e.lastEditedByPath}}):e._e()],1)}),[],!1,null,null,null).exports,pe=i("x3KW"),he=i("t9w9");const me=new Date(0);var fe={i18n:{addDueDate:Object(m.g)("WorkItem|Add due date"),addStartDate:Object(m.g)("WorkItem|Add start date"),dates:Object(m.g)("WorkItem|Dates"),dueDate:Object(m.g)("WorkItem|Due date"),none:Object(m.g)("WorkItem|None"),startDate:Object(m.g)("WorkItem|Start date")},dueDateInputId:"due-date-input",startDateInputId:"start-date-input",components:{GlButton:l.a,GlDatepicker:pe.a,GlFormGroup:z.a},mixins:[q.a.mixin()],props:{canUpdate:{type:Boolean,required:!1,default:!1},dueDate:{type:String,required:!1,default:null},startDate:{type:String,required:!1,default:null},workItemId:{type:String,required:!0},workItemType:{type:String,required:!0}},data:()=>({dirtyDueDate:null,dirtyStartDate:null,isUpdating:!1,showDueDateInput:!1,showStartDateInput:!1}),computed:{datesUnchanged(){const e=this.dirtyDueDate||me,t=this.dirtyStartDate||me,i=this.dueDate?Object(he.o)(this.dueDate):me,n=this.startDate?Object(he.o)(this.startDate):me;return e.getTime()===i.getTime()&&t.getTime()===n.getTime()},isDatepickerDisabled(){return!this.canUpdate||this.isUpdating},isReadonlyWithOnlyDueDate(){return!this.canUpdate&&this.dueDate&&!this.startDate},isReadonlyWithOnlyStartDate(){return!this.canUpdate&&!this.dueDate&&this.startDate},isReadonlyWithNoDates(){return!this.canUpdate&&!this.dueDate&&!this.startDate},labelClass(){return this.isReadonlyWithNoDates?"gl-align-self-center gl-pb-0!":"gl-mt-3 gl-pb-0!"},showDueDateButton(){return this.canUpdate&&!this.showDueDateInput},showStartDateButton(){return this.canUpdate&&!this.showStartDateInput},tracking(){return{category:y.o,label:"item_dates",property:"type_"+this.workItemType}}},watch:{dueDate:{handler(e){this.dirtyDueDate=Object(he.o)(e),this.showDueDateInput=Boolean(e)},immediate:!0},startDate:{handler(e){this.dirtyStartDate=Object(he.o)(e),this.showStartDateInput=Boolean(e)},immediate:!0}},methods:{clearDueDatePicker(){this.dirtyDueDate=null,this.showDueDateInput=!1,this.updateDates()},clearStartDatePicker(){this.dirtyStartDate=null,this.showStartDateInput=!1,this.updateDates()},async clickShowDueDate(){this.showDueDateInput=!0,await this.$nextTick(),this.$refs.dueDatePicker.show()},async clickShowStartDate(){this.showStartDateInput=!0,await this.$nextTick(),this.$refs.startDatePicker.show()},handleStartDateInput(){if(this.dirtyDueDate&&this.dirtyStartDate>this.dirtyDueDate)return this.dirtyDueDate=this.dirtyStartDate,void this.clickShowDueDate();this.updateDates()},updateDates(){var e=this;this.canUpdate&&!this.datesUnchanged&&(this.track("updated_dates"),this.isUpdating=!0,this.$apollo.mutate({mutation:O.a,variables:{input:{id:this.workItemId,startAndDueDateWidget:{dueDate:Object(he.g)(this.dirtyDueDate),startDate:Object(he.g)(this.dirtyStartDate)}}}}).then((function(e){let{data:t}=e;if(t.workItemUpdate.errors.length)throw new Error(t.workItemUpdate.errors.join("; "))})).catch((function(t){const i=Object(y.G)(y.i,e.workItemType);e.$emit("error",i),U.a(t)})).finally((function(){e.isUpdating=!1})))}}},ge=Object(B.a)(fe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-form-group",{staticClass:"work-item-due-date",attrs:{label:e.$options.i18n.dates,"label-class":e.labelClass,"label-cols":"3","label-cols-lg":"2"}},[e.isReadonlyWithNoDates?i("span",{staticClass:"gl-text-secondary gl-ml-4"},[e._v("\n    "+e._s(e.$options.i18n.none)+"\n  ")]):i("div",{staticClass:"gl-display-flex gl-flex-wrap gl-gap-5"},[i("gl-form-group",{staticClass:"gl-display-flex gl-align-items-center gl-m-0",class:{"gl-ml-n3":e.isReadonlyWithOnlyDueDate},attrs:{label:e.$options.i18n.startDate,"label-for":e.$options.startDateInputId,"label-sr-only":!e.showStartDateInput,"label-class":"gl-flex-shrink-0 gl-text-secondary gl-font-weight-normal! gl-pb-0! gl-ml-4 gl-mr-3"}},[e.showStartDateInput?i("gl-datepicker",{ref:"startDatePicker",attrs:{container:"body",disabled:e.isDatepickerDisabled,"input-id":e.$options.startDateInputId,"show-clear-button":"",target:null},on:{clear:e.clearStartDatePicker,close:e.handleStartDateInput},model:{value:e.dirtyStartDate,callback:function(t){e.dirtyStartDate=t},expression:"dirtyStartDate"}}):e._e(),e._v(" "),e.showStartDateButton?i("gl-button",{attrs:{category:"tertiary"},on:{click:e.clickShowStartDate}},[e._v("\n        "+e._s(e.$options.i18n.addStartDate)+"\n      ")]):e._e()],1),e._v(" "),e.isReadonlyWithOnlyStartDate?e._e():i("gl-form-group",{staticClass:"gl-display-flex gl-align-items-center gl-m-0",class:{"gl-ml-n3":e.isReadonlyWithOnlyDueDate},attrs:{label:e.$options.i18n.dueDate,"label-for":e.$options.dueDateInputId,"label-sr-only":!e.showDueDateInput,"label-class":"gl-flex-shrink-0 gl-text-secondary gl-font-weight-normal! gl-pb-0! gl-ml-4 gl-mr-3"}},[e.showDueDateInput?i("gl-datepicker",{ref:"dueDatePicker",attrs:{container:"body",disabled:e.isDatepickerDisabled,"input-id":e.$options.dueDateInputId,"min-date":e.dirtyStartDate,"show-clear-button":"",target:null},on:{clear:e.clearDueDatePicker,close:e.updateDates},model:{value:e.dirtyDueDate,callback:function(t){e.dirtyDueDate=t},expression:"dirtyDueDate"}}):e._e(),e._v(" "),e.showDueDateButton?i("gl-button",{attrs:{category:"tertiary"},on:{click:e.clickShowDueDate}},[e._v("\n        "+e._s(e.$options.i18n.addDueDate)+"\n      ")]):e._e()],1)],1)])}),[],!1,null,null,null).exports,ve=i("RlQ7"),be=i.n(ve),ye=i("4pZC"),ke=i.n(ye),we=(i("ylB9"),i("XexO"),i("ujLG"),i("HaUQ"),i("SEfe")),_e=i("cmjF"),Se=i("u1ru"),Ee=i("JBkr"),De=i("+lve"),Te=i("ILda"),Ce=i.n(Te),Ie=i("ayGe"),Oe=i.n(Ie),je=i("rBzE"),xe=i("0Nu7"),Ae=i("/LsX");function Ne(e){return{...e,class:"gl-bg-transparent"}}var Fe={components:{GlTokenSelector:we.a,GlIcon:u.a,GlAvatar:_e.a,GlLink:Se.a,GlSkeletonLoader:d.a,GlButton:l.a,SidebarParticipant:xe.a,InviteMembersTrigger:je.a,GlDropdownItem:F.a,GlDropdownDivider:L.a,GlIntersectionObserver:Ee.a},mixins:[q.a.mixin()],props:{workItemId:{type:String,required:!0},assignees:{type:Array,required:!0},allowsMultipleAssignees:{type:Boolean,required:!0},workItemType:{type:String,required:!0},canUpdate:{type:Boolean,required:!1,default:!1},canInviteMembers:{type:Boolean,required:!1,default:!1},fullPath:{type:String,required:!0}},data(){return{isEditing:!1,searchStarted:!1,localAssignees:this.assignees.map(Ne),searchKey:"",users:{nodes:[]},currentUser:null,isLoadingMore:!1}},apollo:{users:{query:()=>Oe.a,variables(){return{fullPath:this.fullPath,search:this.searchKey,first:y.a}},skip(){return!this.searchStarted},update(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.users},error(){this.$emit("error",y.F.fetchError)}},currentUser:{query:Ce.a}},computed:{assigneesTitleId:()=>be()("assignees-title-"),searchUsers(){return this.users.nodes.map((function(e){return Ne({...e,...e.user})}))},pageInfo(){return this.users.pageInfo},tracking(){return{category:y.o,label:"item_assignees",property:"type_"+this.workItemType}},containerClass(){return this.isEditing?"":"gl-shadow-none!"},isLoadingUsers(){return this.$apollo.queries.users.loading},assigneeText(){return Object(m.f)("WorkItem|Assignee","WorkItem|Assignees",this.localAssignees.length)},dropdownItems(){var e=this;return this.currentUser&&this.searchEmpty?this.searchUsers.some((function(t){return t.username===e.currentUser.username}))?this.moveCurrentUserToStart(this.searchUsers):[Ne(this.currentUser),...this.searchUsers]:this.searchUsers},searchEmpty(){return 0===this.searchKey.length},addAssigneesText(){return this.canUpdate?this.allowsMultipleAssignees?Object(m.g)("WorkItem|Add assignees"):Object(m.g)("WorkItem|Add assignee"):Object(m.g)("WorkItem|None")},assigneeIds(){return this.localAssignees.map((function(e){let{id:t}=e;return t}))},hasNextPage(){var e;return null===(e=this.pageInfo)||void 0===e?void 0:e.hasNextPage},showIntersectionSkeletonLoader(){return this.isLoadingMore&&this.dropdownItems.length}},watch:{assignees:{handler(e){this.isEditing||(this.localAssignees=e.map(Ne))},deep:!0}},created(){this.debouncedSearchKeyUpdate=ke()(this.setSearchKey,Ae.h)},methods:{getUserId:e=>Object(De.d)(e),handleAssigneesInput(e){if(!this.allowsMultipleAssignees)return this.localAssignees=e.length>0?[e[e.length-1]]:[],void(this.isEditing=!1);this.localAssignees=e,this.focusTokenSelector()},handleBlur(e){var t,i;(null==(t=e.relatedTarget)?void 0:t.classList.contains("gl-token-close"))||(null==t?void 0:t.classList.contains("dropdown-item"))||(null==t?void 0:t.classList.contains("gl-button"))&&(null==t||null===(i=t.closest(".form-control"))||void 0===i?void 0:i.classList.contains("gl-token-selector"))||!this.isEditing||(this.isEditing=!1,this.setAssignees(this.assigneeIds))},async setAssignees(e){try{const{data:{workItemUpdate:{errors:t}}}=await this.$apollo.mutate({mutation:O.a,variables:{input:{id:this.workItemId,assigneesWidget:{assigneeIds:e}}}});if(t.length>0)return void this.throwUpdateError();this.track("updated_assignees")}catch{this.throwUpdateError()}},handleFocus(){this.isEditing=!0,this.searchStarted=!0},async fetchMoreAssignees(){this.isLoadingMore=!0,await this.$apollo.queries.users.fetchMore({variables:{after:this.pageInfo.endCursor,first:y.a}}),this.isLoadingMore=!1},async focusTokenSelector(){this.handleFocus(),await this.$nextTick(),this.$refs.tokenSelector.focusTextInput()},handleMouseOver(){var e=this;this.timeout=setTimeout((function(){e.searchStarted=!0}),Ae.h)},handleMouseOut(){clearTimeout(this.timeout)},setSearchKey(e){this.searchKey=e},moveCurrentUserToStart(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.currentUser?[Ne(this.currentUser),...t.filter((function(t){return t.id!==e.currentUser.id}))]:t},closeDropdown(){this.$refs.tokenSelector.closeDropdown()},assignToCurrentUser(){this.setAssignees([this.currentUser.id]),this.localAssignees=[Ne(this.currentUser)]},throwUpdateError(){this.$emit("error",y.F.updateError),this.localAssignees=this.assignees.map(Ne)}}},Le=Object(B.a)(Fe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-row gl-mb-5 work-item-assignees gl-relative gl-flex-nowrap"},[i("span",{staticClass:"gl-font-weight-bold col-lg-2 col-3 gl-pt-2 min-w-fit-content gl-overflow-wrap-break",attrs:{id:e.assigneesTitleId,"data-testid":"assignees-title"}},[e._v(e._s(e.assigneeText))]),e._v(" "),i("gl-token-selector",{ref:"tokenSelector",staticClass:"assignees-selector gl-flex-grow-1 gl-border gl-border-white gl-rounded-base col-9 gl-align-self-start gl-px-0! gl-mx-2",class:{"gl-hover-border-gray-200":e.canUpdate},attrs:{"aria-labelledby":e.assigneesTitleId,"selected-tokens":e.localAssignees,"container-class":e.containerClass,"dropdown-items":e.dropdownItems,loading:e.isLoadingUsers&&!e.isLoadingMore,"view-only":!e.canUpdate,"allow-clear-all":e.isEditing},on:{input:e.handleAssigneesInput,"text-input":e.debouncedSearchKeyUpdate,focus:e.handleFocus,blur:e.handleBlur},nativeOn:{mouseover:function(t){return e.handleMouseOver.apply(null,arguments)},mouseout:function(t){return e.handleMouseOut.apply(null,arguments)}},scopedSlots:e._u([{key:"empty-placeholder",fn:function(){return[i("div",{staticClass:"add-assignees gl-min-w-fit-content gl-display-flex gl-align-items-center gl-text-secondary gl-pr-4 gl-pl-2 gl-top-2",attrs:{"data-testid":"empty-state"}},[i("gl-icon",{attrs:{name:"profile"}}),e._v(" "),i("span",{staticClass:"gl-ml-2 gl-mr-4"},[e._v(e._s(e.addAssigneesText))]),e._v(" "),e.currentUser?i("gl-button",{staticClass:"assign-myself",attrs:{size:"small","data-testid":"assign-self"},on:{click:function(t){return t.stopPropagation(),e.assignToCurrentUser.apply(null,arguments)}}},[e._v(e._s(e.__("Assign myself")))]):e._e()],1)]},proxy:!0},{key:"token-content",fn:function(t){var n=t.token;return[i("gl-link",{staticClass:"gl-ml-n2 gl-text-decoration-none! gl-text-body! gl-display-flex gl-md-display-inline-flex! gl-align-items-center js-user-link",attrs:{href:n.webUrl,title:n.name,"data-user-id":e.getUserId(n.id),"data-placement":"top"}},[i("gl-avatar",{attrs:{size:24,src:n.avatarUrl}}),e._v(" "),i("span",{staticClass:"gl-pl-2"},[e._v(e._s(n.name))])],1)]}},{key:"dropdown-item-content",fn:function(e){var t=e.dropdownItem;return[i("sidebar-participant",{attrs:{user:t}})]}},{key:"loading-content",fn:function(){return[i("gl-skeleton-loader",{attrs:{height:170}},[i("rect",{attrs:{width:"380",height:"20",x:"10",y:"15",rx:"4"}}),e._v(" "),i("rect",{attrs:{width:"280",height:"20",x:"10",y:"50",rx:"4"}}),e._v(" "),i("rect",{attrs:{width:"380",height:"20",x:"10",y:"95",rx:"4"}}),e._v(" "),i("rect",{attrs:{width:"280",height:"20",x:"10",y:"130",rx:"4"}})])]},proxy:!0},{key:"dropdown-footer",fn:function(){return[e.hasNextPage&&!e.isLoadingUsers?i("gl-intersection-observer",{on:{appear:e.fetchMoreAssignees}}):e._e(),e._v(" "),e.showIntersectionSkeletonLoader?i("gl-skeleton-loader",{staticClass:"gl-text-center gl-py-3",attrs:{height:100,"data-testid":"next-page-loading"}},[i("rect",{attrs:{width:"380",height:"20",x:"10",y:"15",rx:"4"}}),e._v(" "),i("rect",{attrs:{width:"280",height:"20",x:"10",y:"50",rx:"4"}})]):e._e(),e._v(" "),e.canInviteMembers?i("div",[i("gl-dropdown-divider"),e._v(" "),i("gl-dropdown-item",{on:{click:e.closeDropdown}},[i("invite-members-trigger",{attrs:{"display-text":e.__("Invite members"),"trigger-element":"side-nav",icon:"plus","trigger-source":"work-item-assignees-dropdown",classes:"gl-display-block gl-text-body! gl-hover-text-decoration-none gl-pb-2"}})],1)],1):e._e()]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,Pe=i("T2ea"),Re=i.n(Pe),qe=i("gcrt"),$e=i("U0nB"),Be=i.n($e),Me=i("nnCV"),Ue=i("nRGN"),Ve=i.n(Ue);function ze(e){return{...e,class:"gl-bg-transparent"}}var We={components:{GlTokenSelector:we.a,GlLabel:qe.a,GlSkeletonLoader:d.a,LabelItem:Me.a},mixins:[q.a.mixin()],props:{workItemId:{type:String,required:!0},canUpdate:{type:Boolean,required:!0},fullPath:{type:String,required:!0},fetchByIid:{type:Boolean,required:!1,default:!1},queryVariables:{type:Object,required:!0}},data:()=>({isEditing:!1,searchStarted:!1,localLabels:[],searchKey:"",searchLabels:[],addLabelIds:[],removeLabelIds:[]}),apollo:{workItem:{query(){return Object(A.a)(this.fetchByIid)},variables(){return this.queryVariables},update(e){return this.fetchByIid?e.workspace.workItems.nodes[0]:e.workItem},skip(){return!this.workItemId},error(){this.$emit("error",y.F.fetchError)},subscribeToMore:{document:Ve.a,variables(){return{issuableId:this.workItemId}}}},searchLabels:{query:Be.a,variables(){return{fullPath:this.fullPath,searchTerm:this.searchKey}},skip(){return!this.searchStarted},update(e){var t,i;return null===(t=e.workspace)||void 0===t||null===(i=t.labels)||void 0===i?void 0:i.nodes.map((function(e){return ze({...e,...e.label})}))},error(){this.$emit("error",y.h)}}},computed:{labelsTitleId:()=>be()("labels-title-"),tracking(){var e;return{category:y.o,label:"item_labels",property:"type_"+(null===(e=this.workItem.workItemType)||void 0===e?void 0:e.name)}},allowScopedLabels(){var e;return null===(e=this.labelsWidget)||void 0===e?void 0:e.allowsScopedLabels},containerClass(){return this.isEditing?"":"gl-shadow-none!"},isLoading(){return this.$apollo.queries.searchLabels.loading},labelsWidget(){var e,t;return null===(e=this.workItem)||void 0===e||null===(t=e.widgets)||void 0===t?void 0:t.find((function(e){return e.type===y.u}))},labels(){var e,t;return(null===(e=this.labelsWidget)||void 0===e||null===(t=e.labels)||void 0===t?void 0:t.nodes)||[]}},watch:{labels(e){this.isEditing||(this.localLabels=e.map(ze))}},created(){this.debouncedSearchKeyUpdate=ke()(this.setSearchKey,Ae.h)},methods:{getId:e=>Object(De.d)(e),removeLabel(e){let{id:t}=e;this.localLabels=this.localLabels.filter((function(e){return e.id!==t})),this.removeLabelIds.push(t),this.setLabels()},async setLabels(){if(0!==this.addLabelIds.length||0!==this.removeLabelIds.length){this.searchKey="",this.isEditing=!1;try{const{data:{workItemUpdate:{errors:e}}}=await this.$apollo.mutate({mutation:O.a,variables:{input:{id:this.workItemId,labelsWidget:{addLabelIds:this.addLabelIds,removeLabelIds:this.removeLabelIds}}}});if(e.length>0)return void this.throwUpdateError();this.addLabelIds=[],this.removeLabelIds=[],this.track("updated_labels")}catch{this.throwUpdateError()}}},throwUpdateError(){this.$emit("error",y.F.updateError),this.localLabels=this.labels.map(ze),this.addLabelIds=[],this.removeLabelIds=[]},handleBlur(e){var t;(null==(t=e.relatedTarget)?void 0:t.classList.contains("gl-label-close"))||(null==t?void 0:t.classList.contains("dropdown-item"))||!this.isEditing||this.setLabels()},handleFocus(){this.isEditing=!0,this.searchStarted=!0},async focusTokenSelector(e){const t=Re()(e,...this.localLabels).map((function(e){return e.id})),i=Re()(this.localLabels,...e).map((function(e){return e.id}));t.length>0&&this.addLabelIds.push(...t),i.length>0&&this.removeLabelIds.push(...i),this.localLabels=e,this.handleFocus(),await this.$nextTick(),this.$refs.tokenSelector.focusTextInput()},handleMouseOver(){var e=this;this.timeout=setTimeout((function(){e.searchStarted=!0}),Ae.h)},handleMouseOut(){clearTimeout(this.timeout)},setSearchKey(e){this.searchKey=e},scopedLabel(e){return this.allowScopedLabels&&Object(f.D)(e)}}},He=Object(B.a)(We,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-row gl-mb-5 work-item-labels gl-relative gl-flex-nowrap"},[i("span",{staticClass:"gl-font-weight-bold gl-mt-2 col-lg-2 col-3 gl-pt-2 min-w-fit-content gl-overflow-wrap-break",attrs:{id:e.labelsTitleId,"data-testid":"labels-title"}},[e._v(e._s(e.__("Labels")))]),e._v(" "),i("gl-token-selector",{ref:"tokenSelector",staticClass:"gl-flex-grow-1 gl-border gl-border-white gl-rounded-base col-9 gl-align-self-start gl-px-0! gl-mx-2!",class:{"gl-hover-border-gray-200":e.canUpdate},attrs:{"selected-tokens":e.localLabels,"aria-labelledby":e.labelsTitleId,"container-class":e.containerClass,"dropdown-items":e.searchLabels,loading:e.isLoading,"view-only":!e.canUpdate},on:{input:e.focusTokenSelector,"text-input":e.debouncedSearchKeyUpdate,focus:e.handleFocus,blur:e.handleBlur},nativeOn:{mouseover:function(t){return e.handleMouseOver.apply(null,arguments)},mouseout:function(t){return e.handleMouseOut.apply(null,arguments)}},scopedSlots:e._u([{key:"empty-placeholder",fn:function(){return[i("div",{staticClass:"add-labels gl-min-w-fit-content gl-display-flex gl-align-items-center gl-text-secondary gl-pr-4 gl-top-2",attrs:{"data-testid":"empty-state"}},[e.canUpdate?i("span",{staticClass:"gl-ml-2"},[e._v(e._s(e.__("Add labels")))]):i("span",{staticClass:"gl-ml-2"},[e._v(e._s(e.__("None")))])])]},proxy:!0},{key:"token-content",fn:function(t){var n=t.token;return[i("gl-label",{attrs:{"data-qa-label-name":n.title,title:n.title,description:n.description,"background-color":n.color,scoped:e.scopedLabel(n),"show-close-button":e.canUpdate},on:{close:function(t){return e.removeLabel(n)}}})]}},{key:"dropdown-item-content",fn:function(e){var t=e.dropdownItem;return[i("label-item",{attrs:{label:t}})]}},{key:"loading-content",fn:function(){return[i("gl-skeleton-loader",{attrs:{height:170}},[i("rect",{attrs:{width:"380",height:"20",x:"10",y:"15",rx:"4"}}),e._v(" "),i("rect",{attrs:{width:"280",height:"20",x:"10",y:"50",rx:"4"}}),e._v(" "),i("rect",{attrs:{width:"380",height:"20",x:"10",y:"95",rx:"4"}}),e._v(" "),i("rect",{attrs:{width:"280",height:"20",x:"10",y:"130",rx:"4"}})])]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,Ge=i("6HTq"),Ke=i("Ox/j"),Ye=i("iuSE"),Qe=i.n(Ye);var Xe={i18n:{MILESTONE:Object(m.g)("WorkItem|Milestone"),NONE:Object(m.g)("WorkItem|None"),MILESTONE_PLACEHOLDER:Object(m.g)("WorkItem|Add to milestone"),NO_MATCHING_RESULTS:Object(m.g)("WorkItem|No matching results"),NO_MILESTONE:Object(m.g)("WorkItem|No milestone"),MILESTONE_FETCH_ERROR:Object(m.g)("WorkItem|Something went wrong while fetching milestones. Please try again."),EXPIRED_TEXT:Object(m.a)("(expired)")},components:{GlFormGroup:z.a,GlDropdown:N.a,GlDropdownItem:F.a,GlDropdownDivider:L.a,GlSkeletonLoader:d.a,GlSearchBoxByType:Ge.a,GlDropdownText:Ke.a},mixins:[q.a.mixin()],props:{workItemId:{type:String,required:!0},workItemMilestone:{type:Object,required:!1,default:function(){}},workItemType:{type:String,required:!1,default:""},canUpdate:{type:Boolean,required:!1,default:!1},fullPath:{type:String,required:!0},fetchByIid:{type:Boolean,required:!1,default:!1},queryVariables:{type:Object,required:!0}},data(){return{localMilestone:this.workItemMilestone,searchTerm:"",shouldFetch:!1,updateInProgress:!1,isFocused:!1,milestones:[]}},computed:{tracking(){return{category:y.o,label:"item_milestone",property:"type_"+this.workItemType}},emptyPlaceholder(){return this.canUpdate?this.$options.i18n.MILESTONE_PLACEHOLDER:this.$options.i18n.NONE},expired(){var e;return null!==(e=this.localMilestone)&&void 0!==e&&e.expired?" "+this.$options.i18n.EXPIRED_TEXT:""},dropdownText(){var e,t;return null!==(e=this.localMilestone)&&void 0!==e&&e.title?`${null===(t=this.localMilestone)||void 0===t?void 0:t.title}${this.expired}`:this.emptyPlaceholder},isLoadingMilestones(){return this.$apollo.queries.milestones.loading},isNoMilestone(){var e,t;return"no-milestone-id"===(null===(e=this.localMilestone)||void 0===e?void 0:e.id)||!(null!==(t=this.localMilestone)&&void 0!==t&&t.id)},dropdownClasses(){return{"gl-text-gray-500!":this.canUpdate&&this.isNoMilestone,"is-not-focused":!this.isFocused}}},watch:{workItemMilestone:{handler(e){this.localMilestone=e},deep:!0}},created(){this.debouncedSearchKeyUpdate=ke()(this.setSearchKey,Ae.h)},apollo:{milestones:{query:Qe.a,variables(){return{fullPath:this.fullPath,title:this.searchTerm,first:20}},skip(){return!this.shouldFetch},update(e){var t,i;return(null==e||null===(t=e.workspace)||void 0===t||null===(i=t.attributes)||void 0===i?void 0:i.nodes)||[]},error(){this.$emit("error",this.i18n.MILESTONE_FETCH_ERROR)}}},methods:{handleMilestoneClick(e){this.localMilestone=e},onDropdownShown(){this.$refs.search.focusInput(),this.shouldFetch=!0,this.isFocused=!0},onDropdownHide(){this.isFocused=!1,this.searchTerm="",this.shouldFetch=!1,this.updateMilestone()},setSearchKey(e){this.searchTerm=e},isMilestoneChecked(e){var t;return(null===(t=this.localMilestone)||void 0===t?void 0:t.id)===(null==e?void 0:e.id)},updateMilestone(){var e,t,i,n,s=this;(null===(e=this.workItemMilestone)||void 0===e?void 0:e.id)!==(null===(t=this.localMilestone)||void 0===t?void 0:t.id)&&(this.track("updated_milestone"),this.updateInProgress=!0,this.$apollo.mutate({mutation:O.a,variables:{input:{id:this.workItemId,milestoneWidget:{milestoneId:"no-milestone-id"===(null===(i=this.localMilestone)||void 0===i?void 0:i.id)?null:null===(n=this.localMilestone)||void 0===n?void 0:n.id}}}}).then((function(e){let{data:t}=e;if(t.workItemUpdate.errors.length)throw new Error(t.workItemUpdate.errors.join("\n"))})).catch((function(e){const t=Object(y.G)(y.i,s.workItemType);s.$emit("error",t),U.a(e)})).finally((function(){s.updateInProgress=!1})))}}},Je=Object(B.a)(Xe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-form-group",{staticClass:"work-item-dropdown",attrs:{label:e.$options.i18n.MILESTONE,"label-class":"gl-pb-0! gl-overflow-wrap-break gl-mt-3","label-cols":"3","label-cols-lg":"2"}},[e.canUpdate?i("gl-dropdown",{attrs:{"toggle-class":e.dropdownClasses,text:e.dropdownText,loading:e.updateInProgress},on:{shown:e.onDropdownShown,hide:e.onDropdownHide},scopedSlots:e._u([{key:"header",fn:function(){return[i("gl-search-box-by-type",{ref:"search",attrs:{value:e.searchTerm},on:{input:e.debouncedSearchKeyUpdate}})]},proxy:!0}])},[e._v(" "),i("gl-dropdown-item",{attrs:{"data-testid":"no-milestone","is-check-item":"","is-checked":e.isNoMilestone},on:{click:function(t){return e.handleMilestoneClick({id:"no-milestone-id"})}}},[e._v("\n      "+e._s(e.$options.i18n.NO_MILESTONE)+"\n    ")]),e._v(" "),i("gl-dropdown-divider"),e._v(" "),e.isLoadingMilestones?i("gl-dropdown-text",[i("gl-skeleton-loader",{attrs:{height:90}},[i("rect",{attrs:{width:"380",height:"10",x:"10",y:"15",rx:"4"}}),e._v(" "),i("rect",{attrs:{width:"280",height:"10",x:"10",y:"30",rx:"4"}}),e._v(" "),i("rect",{attrs:{width:"380",height:"10",x:"10",y:"50",rx:"4"}}),e._v(" "),i("rect",{attrs:{width:"280",height:"10",x:"10",y:"65",rx:"4"}})])],1):e.milestones.length?e._l(e.milestones,(function(t){return i("gl-dropdown-item",{key:t.id,attrs:{"is-check-item":"","is-checked":e.isMilestoneChecked(t)},on:{click:function(i){return e.handleMilestoneClick(t)}}},[e._v("\n        "+e._s(t.title)+"\n        "),t.expired?[e._v(e._s(e.$options.i18n.EXPIRED_TEXT))]:e._e()],2)})):i("gl-dropdown-text",[e._v(e._s(e.$options.i18n.NO_MATCHING_RESULTS))])],2):i("span",{staticClass:"gl-text-secondary gl-ml-4 gl-mt-3 gl-display-inline-block gl-line-height-normal",attrs:{"data-testid":"disabled-text"}},[e._v("\n    "+e._s(e.dropdownText)+"\n  ")])],1)}),[],!1,null,null,null).exports,Ze=i("nPFI"),et={i18n:{learnTasksLinkText:Object(m.g)("WorkItem|Learn about tasks."),tasksInformationTitle:Object(m.g)("WorkItem|Introducing tasks"),tasksInformationBody:Object(m.g)("WorkItem|Use tasks to break down your work in an issue into smaller pieces. %{learnMoreLink}")},helpPageLinks:{tasksDocLinkPath:Object(X.a)("user/tasks")},components:{GlAlert:a.a,GlSprintf:Ze.a,GlLink:Se.a},props:{showInfoBanner:{type:Boolean,required:!1,default:!0}},emits:["work-item-banner-dismissed"]},tt=Object(B.a)(et,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"gl-display-block gl-mb-2"},[e.showInfoBanner?i("gl-alert",{staticClass:"gl-mt-3",attrs:{variant:"tip",title:e.$options.i18n.tasksInformationTitle,"data-testid":"work-item-information"},on:{dismiss:function(t){return e.$emit("work-item-banner-dismissed")}}},[i("gl-sprintf",{attrs:{message:e.$options.i18n.tasksInformationBody},scopedSlots:e._u([{key:"learnMoreLink",fn:function(){return[i("gl-link",{attrs:{href:e.$options.helpPageLinks.tasksDocLinkPath}},[e._v(e._s(e.$options.i18n.learnTasksLinkText))])]},proxy:!0}],null,!1,1987408582)},[e._v("\n      >")])],1):e._e()],1)}),[],!1,null,null,null).exports,it={i18n:y.F,directives:{GlTooltip:r.a},components:{GlAlert:a.a,GlBadge:o.a,GlButton:l.a,GlLoadingIcon:c.a,GlSkeletonLoader:d.a,GlIcon:u.a,GlEmptyState:p.a,WorkItemAssignees:Le,WorkItemActions:M,WorkItemDescription:ue,WorkItemDueDate:ge,WorkItemLabels:He,WorkItemTitle:Q,WorkItemState:K,WorkItemWeight:function(){return i.e(10).then(i.bind(null,"zcEJ"))},WorkItemInformation:tt,LocalStorageSync:v.a,WorkItemTypeIcon:b.a,WorkItemIteration:function(){return i.e(10).then(i.bind(null,"zcEJ"))},WorkItemMilestone:Je},mixins:[Object(g.a)()],inject:["fullPath"],props:{isModal:{type:Boolean,required:!1,default:!1},workItemId:{type:String,required:!1,default:null},iid:{type:String,required:!1,default:null},workItemParentId:{type:String,required:!1,default:null}},data:()=>({error:void 0,updateError:void 0,workItem:{},showInfoBanner:!0,updateInProgress:!1}),apollo:{workItem:{query(){return Object(A.a)(this.fetchByIid)},variables(){return this.queryVariables},skip(){return!this.workItemId},update(e){const t=this.fetchByIid?e.workspace.workItems.nodes[0]:e.workItem;return null!=t?t:{}},error(){this.setEmptyState()},result(){if(s()(this.workItem)&&this.setEmptyState(),!this.isModal&&this.workItem.project){var e,t,i;const n=null!==(e=this.workItem.project)&&void 0!==e&&e.fullPath?"  "+this.workItem.project.fullPath:"";document.title=`${this.workItem.title}  ${null===(t=this.workItem)||void 0===t||null===(i=t.workItemType)||void 0===i?void 0:i.name}${n}`}},subscribeToMore:[{document:S.a,variables(){return{issuableId:this.workItem.id}},skip(){var e;return!(null!==(e=this.workItem)&&void 0!==e&&e.id)}},{document:w.a,variables(){return{issuableId:this.workItem.id}},skip(){var e;return!this.isWidgetPresent(y.w)||!(null!==(e=this.workItem)&&void 0!==e&&e.id)}},{document:D.a,variables(){return{issuableId:this.workItem.id}},skip(){var e;return!this.isWidgetPresent(y.q)||!(null!==(e=this.workItem)&&void 0!==e&&e.id)}},{document:C.a,variables(){return{issuableId:this.workItem.id}},skip(){var e;return!this.isWidgetPresent(y.v)||!(null!==(e=this.workItem)&&void 0!==e&&e.id)}}]}},computed:{workItemLoading(){return this.$apollo.queries.workItem.loading},workItemType(){var e;return null===(e=this.workItem.workItemType)||void 0===e?void 0:e.name},canUpdate(){var e,t;return null===(e=this.workItem)||void 0===e||null===(t=e.userPermissions)||void 0===t?void 0:t.updateWorkItem},canDelete(){var e,t;return null===(e=this.workItem)||void 0===e||null===(t=e.userPermissions)||void 0===t?void 0:t.deleteWorkItem},fullPath(){var e;return null===(e=this.workItem)||void 0===e?void 0:e.project.fullPath},workItemsMvc2Enabled(){return this.glFeatures.workItemsMvc2},parentWorkItem(){var e;return null===(e=this.isWidgetPresent(y.s))||void 0===e?void 0:e.parent},parentWorkItemConfidentiality(){var e;return null===(e=this.parentWorkItem)||void 0===e?void 0:e.confidential},parentUrl(){var e;return"../../issues/"+(null===(e=this.parentWorkItem)||void 0===e?void 0:e.iid)},workItemIconName(){var e,t;return null===(e=this.workItem)||void 0===e||null===(t=e.workItemType)||void 0===t?void 0:t.iconName},noAccessSvgPath:()=>"data:image/svg+xml;utf8,"+encodeURIComponent(h.a),hasDescriptionWidget(){return this.isWidgetPresent(y.r)},workItemAssignees(){return this.isWidgetPresent(y.q)},workItemLabels(){return this.isWidgetPresent(y.u)},workItemDueDate(){return this.isWidgetPresent(y.w)},workItemWeight(){return this.isWidgetPresent(y.x)},workItemHierarchy(){return this.isWidgetPresent(y.s)},workItemIteration(){return this.isWidgetPresent(y.t)},workItemMilestone(){return this.isWidgetPresent(y.v)},fetchByIid(){return this.glFeatures.useIidInWorkItemsPath&&Object(f.F)(this.$route.query.iid_path)},queryVariables(){return this.fetchByIid?{fullPath:this.fullPath,iid:this.iid}:{id:this.workItemId}}},beforeDestroy(){this.dismissBanner()},methods:{isWidgetPresent(e){var t,i;return null===(t=this.workItem)||void 0===t||null===(i=t.widgets)||void 0===i?void 0:i.find((function(t){return t.type===e}))},dismissBanner(){this.showInfoBanner=!1},toggleConfidentiality(e){var t=this;this.updateInProgress=!0;let i=O.a,n={id:this.workItem.id,confidential:e};this.parentWorkItem&&(i=x.a,n={id:this.parentWorkItem.id,taskData:{id:this.workItem.id,confidential:e}}),this.$apollo.mutate({mutation:i,variables:{input:n}}).then((function(e){let{data:{workItemUpdate:{errors:i,workItem:n,task:s}}}=e;if(null!=i&&i.length)throw new Error(i[0]);t.$emit("workItemUpdated",{confidential:(null==n?void 0:n.confidential)||(null==s?void 0:s.confidential)})})).catch((function(e){t.updateError=e.message})).finally((function(){t.updateInProgress=!1}))},setEmptyState(){this.error=this.$options.i18n.fetchError,document.title=Object(m.g)("404|Not found")}},WORK_ITEM_VIEWED_STORAGE_KEY:y.E},nt=Object(B.a)(it,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"gl-pt-5"},[e.updateError?i("gl-alert",{staticClass:"gl-mb-3",attrs:{variant:"danger"},on:{dismiss:function(t){e.updateError=void 0}}},[e._v("\n    "+e._s(e.updateError)+"\n  ")]):e._e(),e._v(" "),e.workItemLoading?i("div",{staticClass:"gl-max-w-26 gl-py-5"},[i("gl-skeleton-loader",{attrs:{height:65,width:240}},[i("rect",{attrs:{width:"240",height:"20",x:"5",y:"0",rx:"4"}}),e._v(" "),i("rect",{attrs:{width:"100",height:"20",x:"5",y:"45",rx:"4"}})])],1):[i("div",{staticClass:"gl-display-flex gl-align-items-center",attrs:{"data-testid":"work-item-body"}},[e.parentWorkItem?i("ul",{staticClass:"list-unstyled gl-display-flex gl-mr-auto gl-max-w-26 gl-md-max-w-50p gl-min-w-0 gl-mb-0",attrs:{"data-testid":"work-item-parent"}},[i("li",{staticClass:"gl-ml-n4 gl-display-flex gl-align-items-center gl-overflow-hidden"},[i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"gl-text-truncate gl-max-w-full",attrs:{icon:"issues",category:"tertiary",href:e.parentUrl,title:e.parentWorkItem.title}},[e._v(e._s(e.parentWorkItem.title))]),e._v(" "),i("gl-icon",{staticClass:"gl-flex-shrink-0",attrs:{name:"chevron-right",size:16}})],1),e._v(" "),i("li",{staticClass:"gl-px-4 gl-py-3 gl-line-height-0 gl-display-flex gl-align-items-center gl-overflow-hidden gl-flex-shrink-0"},[i("work-item-type-icon",{attrs:{"work-item-icon-name":e.workItemIconName,"work-item-type":e.workItemType&&e.workItemType.toUpperCase()}}),e._v("\n          "+e._s(e.workItemType)+"\n        ")],1)]):e.error?e._e():i("work-item-type-icon",{staticClass:"gl-font-weight-bold gl-text-secondary gl-mr-auto",attrs:{"work-item-icon-name":e.workItemIconName,"work-item-type":e.workItemType&&e.workItemType.toUpperCase(),"show-text":"","data-testid":"work-item-type"}}),e._v(" "),e.updateInProgress?i("gl-loading-icon",{staticClass:"gl-mr-3",attrs:{inline:!0}}):e._e(),e._v(" "),e.workItem.confidential?i("gl-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"gl-mr-3 gl-cursor-help",attrs:{title:e.$options.i18n.confidentialTooltip,variant:"warning",icon:"eye-slash"}},[e._v(e._s(e.__("Confidential")))]):e._e(),e._v(" "),e.canUpdate||e.canDelete?i("work-item-actions",{attrs:{"work-item-id":e.workItem.id,"work-item-type":e.workItemType,"can-delete":e.canDelete,"can-update":e.canUpdate,"is-confidential":e.workItem.confidential,"is-parent-confidential":e.parentWorkItemConfidentiality},on:{deleteWorkItem:function(t){return e.$emit("deleteWorkItem",{workItemType:e.workItemType,workItemId:e.workItem.id})},toggleWorkItemConfidentiality:e.toggleConfidentiality,error:function(t){e.updateError=t}}}):e._e(),e._v(" "),e.isModal?i("gl-button",{attrs:{category:"tertiary","data-testid":"work-item-close",icon:"close","aria-label":e.__("Close")},on:{click:function(t){return e.$emit("close")}}}):e._e()],1),e._v(" "),i("local-storage-sync",{attrs:{"storage-key":e.$options.WORK_ITEM_VIEWED_STORAGE_KEY},model:{value:e.showInfoBanner,callback:function(t){e.showInfoBanner=t},expression:"showInfoBanner"}},[e.showInfoBanner&&!e.error?i("work-item-information",{attrs:{"show-info-banner":e.showInfoBanner},on:{"work-item-banner-dismissed":e.dismissBanner}}):e._e()],1),e._v(" "),e.workItem.title?i("work-item-title",{attrs:{"work-item-id":e.workItem.id,"work-item-title":e.workItem.title,"work-item-type":e.workItemType,"work-item-parent-id":e.workItemParentId,"can-update":e.canUpdate},on:{error:function(t){e.updateError=t}}}):e._e(),e._v(" "),i("work-item-state",{attrs:{"work-item":e.workItem,"work-item-parent-id":e.workItemParentId,"can-update":e.canUpdate},on:{error:function(t){e.updateError=t}}}),e._v(" "),e.workItemAssignees?i("work-item-assignees",{attrs:{"can-update":e.canUpdate,"work-item-id":e.workItem.id,assignees:e.workItemAssignees.assignees.nodes,"allows-multiple-assignees":e.workItemAssignees.allowsMultipleAssignees,"work-item-type":e.workItemType,"can-invite-members":e.workItemAssignees.canInviteMembers,"full-path":e.fullPath},on:{error:function(t){e.updateError=t}}}):e._e(),e._v(" "),e.workItemLabels?i("work-item-labels",{attrs:{"work-item-id":e.workItem.id,"can-update":e.canUpdate,"full-path":e.fullPath,"fetch-by-iid":e.fetchByIid,"query-variables":e.queryVariables},on:{error:function(t){e.updateError=t}}}):e._e(),e._v(" "),e.workItemDueDate?i("work-item-due-date",{attrs:{"can-update":e.canUpdate,"due-date":e.workItemDueDate.dueDate,"start-date":e.workItemDueDate.startDate,"work-item-id":e.workItem.id,"work-item-type":e.workItemType},on:{error:function(t){e.updateError=t}}}):e._e(),e._v(" "),e.workItemsMvc2Enabled?[e.workItemMilestone?i("work-item-milestone",{attrs:{"work-item-id":e.workItem.id,"work-item-milestone":e.workItemMilestone.milestone,"work-item-type":e.workItemType,"fetch-by-iid":e.fetchByIid,"query-variables":e.queryVariables,"can-update":e.canUpdate,"full-path":e.fullPath},on:{error:function(t){e.updateError=t}}}):e._e()]:e._e(),e._v(" "),e.workItemWeight?i("work-item-weight",{staticClass:"gl-mb-5",attrs:{"can-update":e.canUpdate,weight:e.workItemWeight.weight,"work-item-id":e.workItem.id,"work-item-type":e.workItemType,"fetch-by-iid":e.fetchByIid,"query-variables":e.queryVariables},on:{error:function(t){e.updateError=t}}}):e._e(),e._v(" "),e.workItemsMvc2Enabled?[e.workItemIteration?i("work-item-iteration",{staticClass:"gl-mb-5",attrs:{iteration:e.workItemIteration.iteration,"can-update":e.canUpdate,"work-item-id":e.workItem.id,"work-item-type":e.workItemType,"fetch-by-iid":e.fetchByIid,"query-variables":e.queryVariables,"full-path":e.fullPath},on:{error:function(t){e.updateError=t}}}):e._e()]:e._e(),e._v(" "),e.hasDescriptionWidget?i("work-item-description",{staticClass:"gl-pt-5",attrs:{"work-item-id":e.workItem.id,"full-path":e.fullPath,"fetch-by-iid":e.fetchByIid,"query-variables":e.queryVariables},on:{error:function(t){e.updateError=t}}}):e._e(),e._v(" "),e.error?i("gl-empty-state",{attrs:{title:e.$options.i18n.fetchErrorTitle,description:e.error,"svg-path":e.noAccessSvgPath}}):e._e()]],2)}),[],!1,null,null,null);t.a=nt.exports},pmYr:function(e,t,i){"use strict";i.d(t,"d",(function(){return u})),i.d(t,"f",(function(){return p})),i.d(t,"a",(function(){return h})),i.d(t,"c",(function(){return m})),i.d(t,"b",(function(){return f})),i.d(t,"e",(function(){return g})),i.d(t,"g",(function(){return v}));i("ujLG"),i("3R5X"),i("HaUQ"),i("ylB9"),i("XexO"),i("h8Et");var n=i("1HOK"),s=i("Zi5e"),r=i("vRHk"),a=i("wC1f"),o=i("yZaS"),l=i("XWEW");function c(e,t){const i=t.filter((function(t){return t.file_hash===e.file_hash})),n=i.some((function(e){return[e.a_mode,e.b_mode].includes(o.q)}));return i.length>1&&n&&{replaced:e.b_mode===o.o,wasSymbolic:e.a_mode===o.q,isSymbolic:e.b_mode===o.q,wasReal:![o.q,o.o].includes(e.a_mode),isReal:![o.q,o.o].includes(e.b_mode)}}function d(e){const t=e.viewer||{};return{automaticallyCollapsed:t.automaticallyCollapsed||t.collapsed||!1,manuallyCollapsed:null}}const u=function(e){var t;return(null==e||null===(t=e.viewer)||void 0===t?void 0:t.name)===n.y.not_diffable};function p(e){var t;let{file:i,allFiles:n,meta:s=!1,index:r=-1}=e;const o={brokenSymlink:c(i,n),viewer:{...i.viewer,...d(i)}};return!s&&null!==(t=i.blob)&&void 0!==t&&t.id&&i.load_collapsed_diff_url&&(o.id=function(e){var t;const{userOrGroup:i,project:n,id:s}=Object(l.a)({endpoint:e.load_collapsed_diff_url});return Object(a.a)({seeds:[i,n,s,e.file_identifier_hash,null===(t=e.blob)||void 0===t?void 0:t.id]})[0]}(i)),r>=0&&Number(r)===r&&(o.order=r),Object.assign(i,o)}function h(e){var t;return"boolean"==typeof(null===(t=e.viewer)||void 0===t?void 0:t.manuallyCollapsed)?o.p:o.n}function m(e){var t,i;const n=h(e);return{[o.n]:(null===(t=e.viewer)||void 0===t?void 0:t.automaticallyCollapsed)||!1,[o.p]:null===(i=e.viewer)||void 0===i?void 0:i.manuallyCollapsed}[n]}function f(e){return e.content_sha?Object(r.A)(String(e.content_sha)):null}function g(){let{fileA:e,fileB:t,mode:i="universal"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n={universal:function(e,t){return!(null==e||!e.id||null==t||!t.id)&&e.id===t.id},mr:function(e,t){return!(null==e||!e.file_identifier_hash||null==t||!t.file_identifier_hash)&&e.file_identifier_hash===t.file_identifier_hash}};return(n[i]||function(){return!1})(e,t)}function v(e){let t=!1,i="",n="",r="",a=0,o=0;return e&&(a=Object(s.b)(e.old_size,e.new_size),o=e.new_size-e.old_size,n=o>=0?"+":"",r=`${n}${Object(s.d)(o)} (${n}${a}%)`,t=!0,o>0?i="gl-text-green-600":o<0&&(i="gl-text-red-500")),{changed:o,text:r,percent:a,classes:i,sign:n,valid:t}}},qP35:function(e,t,i){"use strict";var n=i("2AcJ"),s=i.n(n),r=(i("h8Et"),i("u1ru")),a=i("zLBL"),o=i("Hmw5"),l=i("vRHk"),c=i("yYHy"),d=i("t9l/"),u=i("fJoV");const p="gl-bg-transparent! gl-border-1! gl-border-b-solid! gl-border-gray-200!",h="gl-border-gray-100! gl-p-5!",m=["iid","title","severity","status","startedAt","eventCount","monitoringTool","service","description","endedAt","details","hosts","environment"];var f={components:{GlLink:r.a,GlLoadingIcon:a.a,GlTable:o.a},props:{alert:{type:Object,required:!1,default:null},loading:{type:Boolean,required:!0},statuses:{type:Object,required:!1,default:function(){return u.a.OPERATIONS.STATUSES}}},fields:[{key:"fieldName",label:Object(d.g)("AlertManagement|Key"),thClass:p,tdClass:h,formatter:function(e){return Object(l.f)(Object(l.h)(Object(l.w)(e)))}},{key:"value",thClass:p+" w-60p",tdClass:h,label:Object(d.g)("AlertManagement|Value")}],computed:{items(){var e=this;return this.alert?s()(this.alert,(function(t,i,n){if(e.isAllowed(n)){let s;return s="environment"===n?null==i?void 0:i.name:"status"===n&&e.statuses[i]||i,[...t,{fieldName:n,value:s}]}return t}),[]):[]}},methods:{isAllowed:e=>m.includes(e),isValidLink:e=>"string"==typeof e&&Object(c.v)(e)}},g=i("bPvS"),v=Object(g.a)(f,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-table",{staticClass:"alert-management-details-table",attrs:{busy:e.loading,"empty-text":e.s__("AlertManagement|No alert data to display."),items:e.items,fields:e.$options.fields,"show-empty":""},scopedSlots:e._u([{key:"table-busy",fn:function(){return[i("gl-loading-icon",{staticClass:"gl-mt-5",attrs:{size:"lg",color:"dark"}})]},proxy:!0},{key:"cell(value)",fn:function(t){var n=t.item.value;return[e.isValidLink(n)?i("gl-link",{attrs:{href:n,target:"_blank"}},[e._v("\n      "+e._s(n)+"\n    ")]):i("span",[e._v(e._s(n))])]}}])})}),[],!1,null,null,null);t.a=v.exports},qhMN:function(e,t,i){"use strict";i("4mNU")},qn5R:function(e,t,i){"use strict";var n=i("zLBL"),s=i("H8gz"),r=i("EqYD");const a={html:"html",htm:"html",html_vm:"html",asp:"html",jade:"pug",pug:"pug",md:"markdown",markdown:"markdown",mdown:"markdown",mkd:"markdown",mkdn:"markdown",rst:"markdown",blink:"blink",css:"css",scss:"sass",sass:"sass",less:"less",json:"json",yaml:"yaml",yml:"yaml",xml:"xml",plist:"xml",xsd:"xml",dtd:"xml",xsl:"xml",xslt:"xml",resx:"xml",iml:"xml",xquery:"xml",tmLanguage:"xml",manifest:"xml",project:"xml",png:"image",jpeg:"image",jpg:"image",gif:"image",svg:"image",ico:"image",tif:"image",tiff:"image",psd:"image",psb:"image",ami:"image",apx:"image",bmp:"image",bpg:"image",brk:"image",cur:"image",dds:"image",dng:"image",exr:"image",fpx:"image",gbr:"image",img:"image",jbig2:"image",jb2:"image",jng:"image",jxr:"image",pbm:"image",pgf:"image",pic:"image",raw:"image",webp:"image",js:"javascript",ejs:"javascript",esx:"javascript",jsx:"react",tsx:"react",ini:"settings",dlc:"settings",dll:"settings",config:"settings",conf:"settings",properties:"settings",prop:"settings",settings:"settings",option:"settings",props:"settings",toml:"settings",prefs:"settings",ts:"typescript",marko:"markojs",pdf:"pdf",xlsx:"table",xls:"table",ods:"table",csv:"table",tsv:"table",vscodeignore:"vscode",vsixmanifest:"vscode",vsix:"vscode",suo:"visualstudio",sln:"visualstudio",csproj:"visualstudio",vb:"visualstudio",pdb:"database",sql:"database",pks:"database",pkb:"database",accdb:"database",mdb:"database",sqlite:"database",cs:"csharp",zip:"zip",tar:"zip",gz:"zip",xz:"zip",bzip2:"zip",gzip:"zip",rar:"zip",tgz:"zip",exe:"exe",msi:"exe",java:"java",jar:"java",jsp:"java",c:"c",m:"c",h:"h",cc:"cpp",cpp:"cpp",mm:"cpp",cxx:"cpp",hpp:"hpp",go:"go",py:"python",url:"url",sh:"console",ksh:"console",csh:"console",tcsh:"console",zsh:"console",bash:"console",bat:"console",cmd:"console",ps1:"powershell",psm1:"powershell",psd1:"powershell",ps1xml:"powershell",psc1:"powershell",pssc:"powershell",gradle:"gradle",doc:"word",docx:"word",odt:"word",rtf:"word",cer:"certificate",cert:"certificate",crt:"certificate",pub:"key",key:"key",pem:"key",asc:"key",gpg:"key",woff:"font",woff2:"font",ttf:"font",eot:"font",suit:"font",otf:"font",bmap:"font",fnt:"font",odttf:"font",ttc:"font",font:"font",fonts:"font",sui:"font",ntf:"font",mrf:"font",lib:"lib",bib:"lib",rb:"ruby",erb:"ruby",fs:"fsharp",fsx:"fsharp",fsi:"fsharp",fsproj:"fsharp",swift:"swift",ino:"arduino",dockerignore:"docker",dockerfile:"docker",tex:"tex",cls:"tex",sty:"tex",pptx:"powerpoint",ppt:"powerpoint",pptm:"powerpoint",potx:"powerpoint",pot:"powerpoint",potm:"powerpoint",ppsx:"powerpoint",ppsm:"powerpoint",pps:"powerpoint",ppam:"powerpoint",ppa:"powerpoint",odp:"powerpoint",webm:"movie",mkv:"movie",flv:"movie",vob:"movie",ogv:"movie",ogg:"music",gifv:"movie",avi:"movie",mov:"movie",qt:"movie",wmv:"movie",yuv:"movie",rm:"movie",rmvb:"movie",mp4:"movie",m4v:"movie",mpg:"movie",mp2:"movie",mpeg:"movie",mpe:"movie",mpv:"movie",m2v:"movie",vdi:"virtual",vbox:"virtual",ics:"email",mp3:"music",flac:"music",m4a:"music",wma:"music",aiff:"music",coffee:"coffee",txt:"document",graphql:"graphql",rs:"rust",raml:"raml",xaml:"xaml",hs:"haskell",kt:"kotlin",kts:"kotlin",patch:"git",lua:"lua",clj:"clojure",cljs:"clojure",groovy:"groovy",r:"r",rmd:"r",dart:"dart",as:"actionscript",mxml:"mxml",ahk:"autohotkey",swf:"flash",swc:"swc",cmake:"cmake",asm:"assembly",a51:"assembly",inc:"assembly",nasm:"assembly",s:"assembly",ms:"assembly",agc:"assembly",ags:"assembly",aea:"assembly",argus:"assembly",mitigus:"assembly",binsource:"assembly",vue:"vue",ml:"ocaml",mli:"ocaml",cmx:"ocaml",lock:"lock",hbs:"handlebars",mustache:"handlebars",pl:"perl",pm:"perl",hx:"haxe",pp:"puppet",ex:"elixir",exs:"elixir",ls:"livescript",erl:"erlang",twig:"twig",jl:"julia",elm:"elm",pure:"purescript",tpl:"smarty",styl:"stylus",re:"reason",rei:"reason",cmj:"bucklescript",merlin:"merlin",v:"verilog",vhd:"verilog",sv:"verilog",svh:"verilog",nb:"mathematica",wl:"wolframlanguage",wls:"wolframlanguage",njk:"nunjucks",nunjucks:"nunjucks",robot:"robot",sol:"solidity",au3:"autoit",haml:"haml",yang:"yang",tf:"terraform",tfvars:"terraform",tfstate:"terraform",applescript:"applescript",cake:"cake",feature:"cucumber",nim:"nim",nimble:"nim",apib:"apiblueprint",apiblueprint:"apiblueprint",tag:"riot",vfl:"vfl",kl:"kl",pcss:"postcss",sss:"postcss",todo:"todo",cfml:"coldfusion",cfc:"coldfusion",lucee:"coldfusion",cabal:"cabal",nix:"nix",slim:"slim",http:"http",rest:"http",rql:"restql",restql:"restql",kv:"kivy",graphcool:"graphcool",sbt:"sbt",cr:"crystal",cu:"cuda",cuh:"cuda",log:"log"},o={"gradle.kts":"gradle","md.rendered":"markdown","markdown.rendered":"markdown","mdown.rendered":"markdown","mkd.rendered":"markdown","mkdn.rendered":"markdown","YAML-tmLanguage":"yaml","sln.dotsettings":"settings","sln.dotsettings.user":"settings","d.ts":"typescript-def","code-workplace":"vscode","7z":"zip","c++":"cpp","vbox-prev":"virtual","js.map":"javascript-map","css.map":"css-map","spec.ts":"test-ts","test.ts":"test-ts","ts.snap":"test-ts","spec.tsx":"test-jsx","test.tsx":"test-jsx","tsx.snap":"test-jsx","spec.jsx":"test-jsx","test.jsx":"test-jsx","jsx.snap":"test-jsx","spec.js":"test-js","test.js":"test-js","js.snap":"test-js","routing.ts":"angular-routing","routing.js":"angular-routing","module.ts":"angular","module.js":"angular","ng-template":"angular","component.ts":"angular-component","component.js":"angular-component","guard.ts":"angular-guard","guard.js":"angular-guard","service.ts":"angular-service","service.js":"angular-service","pipe.ts":"angular-pipe","pipe.js":"angular-pipe","filter.js":"angular-pipe","directive.ts":"angular-directive","directive.js":"angular-directive","resolver.ts":"angular-resolver","resolver.js":"angular-resolver","tf.json":"terraform","blade.php":"laravel","inky.php":"laravel","reducer.ts":"ngrx-reducer","rootReducer.ts":"ngrx-reducer","state.ts":"ngrx-state","actions.ts":"ngrx-actions","effects.ts":"ngrx-effects","drone.yml":"drone"},l={".jscsrc":"json",".jshintrc":"json","tsconfig.json":"json","tslint.json":"json","composer.lock":"json",".jsbeautifyrc":"json",".esformatter":"json","cdp.pid":"json",".htaccess":"xml",".jshintignore":"settings",".buildignore":"settings",makefile:"settings",".mrconfig":"settings",".yardopts":"settings","gradle.properties":"gradle",gradlew:"gradle","gradle-wrapper.properties":"gradle",COPYING:"certificate","COPYING.LESSER":"certificate",LICENSE:"certificate",LICENCE:"certificate","LICENSE.md":"certificate","LICENCE.md":"certificate","LICENSE.txt":"certificate","LICENCE.txt":"certificate",".gitlab-license":"certificate",dockerfile:"docker","docker-compose.yml":"docker",".mailmap":"email",".gitignore":"git",".gitconfig":"git",".gitattributes":"git",".gitmodules":"git",".gitkeep":"git","git-history":"git",".Rhistory":"r","cmakelists.txt":"cmake","cmakecache.txt":"cmake","angular-cli.json":"angular",".angular-cli.json":"angular",".vfl":"vfl",".kl":"kl","postcss.config.js":"postcss",".postcssrc.js":"postcss","project.graphcool":"graphcool","webpack.js":"webpack","webpack.ts":"webpack","webpack.base.js":"webpack","webpack.base.ts":"webpack","webpack.config.js":"webpack","webpack.config.ts":"webpack","webpack.common.js":"webpack","webpack.common.ts":"webpack","webpack.config.common.js":"webpack","webpack.config.common.ts":"webpack","webpack.config.common.babel.js":"webpack","webpack.config.common.babel.ts":"webpack","webpack.dev.js":"webpack","webpack.dev.ts":"webpack","webpack.config.dev.js":"webpack","webpack.config.dev.ts":"webpack","webpack.config.dev.babel.js":"webpack","webpack.config.dev.babel.ts":"webpack","webpack.prod.js":"webpack","webpack.prod.ts":"webpack","webpack.server.js":"webpack","webpack.server.ts":"webpack","webpack.client.js":"webpack","webpack.client.ts":"webpack","webpack.config.server.js":"webpack","webpack.config.server.ts":"webpack","webpack.config.client.js":"webpack","webpack.config.client.ts":"webpack","webpack.config.production.babel.js":"webpack","webpack.config.production.babel.ts":"webpack","webpack.config.prod.babel.js":"webpack","webpack.config.prod.babel.ts":"webpack","webpack.config.prod.js":"webpack","webpack.config.prod.ts":"webpack","webpack.config.production.js":"webpack","webpack.config.production.ts":"webpack","webpack.config.staging.js":"webpack","webpack.config.staging.ts":"webpack","webpack.config.babel.js":"webpack","webpack.config.babel.ts":"webpack","webpack.config.base.babel.js":"webpack","webpack.config.base.babel.ts":"webpack","webpack.config.base.js":"webpack","webpack.config.base.ts":"webpack","webpack.config.staging.babel.js":"webpack","webpack.config.staging.babel.ts":"webpack","webpack.config.coffee":"webpack","webpack.config.test.js":"webpack","webpack.config.test.ts":"webpack","webpack.config.vendor.js":"webpack","webpack.config.vendor.ts":"webpack","webpack.config.vendor.production.js":"webpack","webpack.config.vendor.production.ts":"webpack","webpack.test.js":"webpack","webpack.test.ts":"webpack","webpack.dist.js":"webpack","webpack.dist.ts":"webpack","webpackfile.js":"webpack","webpackfile.ts":"webpack","ionic.config.json":"ionic",".io-config.json":"ionic","gulpfile.js":"gulp","gulpfile.ts":"gulp","gulpfile.babel.js":"gulp","package.json":"nodejs","package-lock.json":"nodejs",".nvmrc":"nodejs",".npmignore":"npm",".npmrc":"npm",".yarnrc":"yarn",".yarnrc.yml":"yarn","yarn.lock":"yarn",".yarnclean":"yarn",".yarn-integrity":"yarn","yarn-error.log":"yarn","androidmanifest.xml":"android",".env":"tune",".env.example":"tune",".babelrc":"babel","contributing.md":"contributing","contributing.md.rendered":"contributing","readme.md":"readme","readme.md.rendered":"readme",changelog:"changelog","changelog.md":"changelog","changelog.md.rendered":"changelog",CREDITS:"credits","credits.txt":"credits","credits.md":"credits","credits.md.rendered":"credits",".flowconfig":"flow","favicon.png":"favicon","karma.conf.js":"karma","karma.conf.ts":"karma","karma.conf.coffee":"karma","karma.config.js":"karma","karma.config.ts":"karma","karma-main.js":"karma","karma-main.ts":"karma",".bithoundrc":"bithound","appveyor.yml":"appveyor",".travis.yml":"travis","protractor.conf.js":"protractor","protractor.conf.ts":"protractor","protractor.conf.coffee":"protractor","protractor.config.js":"protractor","protractor.config.ts":"protractor","fuse.js":"fusebox",procfile:"heroku",".editorconfig":"editorconfig",".gitlab-ci.yml":"gitlab",".bowerrc":"bower","bower.json":"bower",".eslintrc.js":"eslint",".eslintrc.yaml":"eslint",".eslintrc.yml":"eslint",".eslintrc.json":"eslint",".eslintrc":"eslint",".eslintignore":"eslint","code_of_conduct.md":"conduct","code_of_conduct.md.rendered":"conduct",".watchmanconfig":"watchman","aurelia.json":"aurelia","mocha.opts":"mocha",jenkinsfile:"jenkins","firebase.json":"firebase",".firebaserc":"firebase",Rakefile:"ruby","rollup.config.js":"rollup","rollup.config.ts":"rollup","rollup-config.js":"rollup","rollup-config.ts":"rollup","rollup.config.prod.js":"rollup","rollup.config.prod.ts":"rollup","rollup.config.dev.js":"rollup","rollup.config.dev.ts":"rollup","rollup.config.prod.vendor.js":"rollup","rollup.config.prod.vendor.ts":"rollup",".hhconfig":"hack",".stylelintrc":"stylelint","stylelint.config.js":"stylelint",".stylelintrc.json":"stylelint",".stylelintrc.yaml":"stylelint",".stylelintrc.yml":"stylelint",".stylelintrc.js":"stylelint",".stylelintignore":"stylelint",".codeclimate.yml":"code-climate",".prettierrc":"prettier","prettier.config.js":"prettier",".prettierrc.js":"prettier",".prettierrc.json":"prettier",".prettierrc.yaml":"prettier",".prettierrc.yml":"prettier",".prettierignore":"prettier","nodemon.json":"nodemon",".sonarrc":"sonar",browserslist:"browserlist",".browserslistrc":"browserlist",".snyk":"snyk",".drone.yml":"drone"};var c={components:{GlLoadingIcon:n.a,GlIcon:s.a},props:{fileName:{type:String,required:!0},fileMode:{type:String,required:!1,default:""},folder:{type:Boolean,required:!1,default:!1},submodule:{type:Boolean,required:!1,default:!1},opened:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},size:{type:Number,required:!1,default:16},cssClasses:{type:String,required:!1,default:""}},computed:{isSymlink(){return this.fileMode===r.e},spriteHref(){const e=this.submodule?"folder-git":(t=this.fileName,l[t]||o[t?t.split(".").slice(-2).join("."):""]||a[t?t.split(".").pop().toLowerCase():""]||""||"file");var t;return`${gon.sprite_file_icons}#${e}`},folderIconName(){return this.opened?"folder-open":"folder"},iconSizeClass(){return this.size?"s"+this.size:""}}},d=i("bPvS"),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e.loading?i("gl-loading-icon",{attrs:{size:"sm",inline:!0}}):e.isSymlink?i("gl-icon",{attrs:{name:"symlink",size:e.size}}):e.folder?i("gl-icon",{staticClass:"folder-icon",attrs:{name:e.folderIconName,size:e.size,"data-qa-selector":"folder_icon_content"}}):i("svg",{key:e.spriteHref,class:[e.iconSizeClass,e.cssClasses]},[i("use",e._b({},"use",{"xlink:href":e.spriteHref},!1))])],1)}),[],!1,null,null,null);t.a=u.exports},qqDB:function(e,t,i){"use strict";(function(e){var n;function s(){s.init||(s.init=!0,n=-1!==function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var n=e.indexOf("Edge/");return n>0?parseInt(e.substring(n+5,e.indexOf(".",n)),10):-1}())}function r(e,t,i,n,s,r,a,o,l,c){"boolean"!=typeof a&&(l=o,o=a,a=!1);var d,u="function"==typeof i?i.options:i;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,s&&(u.functional=!0)),n&&(u._scopeId=n),r?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(r)},u._ssrRegister=d):t&&(d=a?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,o(e))}),d)if(u.functional){var p=u.render;u.render=function(e,t){return d.call(t),p(e,t)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,d):[d]}return i}i.d(t,"a",(function(){return l}));var a={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},mounted:function(){var e=this;s(),this.$nextTick((function(){e._w=e.$el.offsetWidth,e._h=e.$el.offsetHeight,e.emitOnMount&&e.emitSize()}));var t=document.createElement("object");this._resizeObject=t,t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",-1),t.onload=this.addResizeHandlers,t.type="text/html",n&&this.$el.appendChild(t),t.data="about:blank",n||this.$el.appendChild(t)},beforeDestroy:function(){this.removeResizeHandlers()},methods:{compareAndNotify:function(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize:function(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!n&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}},o=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})};o._withStripped=!0;var l=r({render:o,staticRenderFns:[]},void 0,a,"data-v-8859cc6c",!1,void 0,!1,void 0,void 0,void 0);var c={version:"1.0.1",install:function(e){e.component("resize-observer",l),e.component("ResizeObserver",l)}},d=null;"undefined"!=typeof window?d=window.Vue:void 0!==e&&(d=e.Vue),d&&d.use(c)}).call(this,i("uE4I"))},qt7G:function(e,t){var i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n="["+i+"]",s="\\d+",r="[\\u2700-\\u27bf]",a="[a-z\\xdf-\\xf6\\xf8-\\xff]",o="[^\\ud800-\\udfff"+i+s+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",d="[A-Z\\xc0-\\xd6\\xd8-\\xde]",u="(?:"+a+"|"+o+")",p="(?:"+d+"|"+o+")",h="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",m="[\\ufe0e\\ufe0f]?"+h+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,c].join("|")+")[\\ufe0e\\ufe0f]?"+h+")*"),f="(?:"+[r,l,c].join("|")+")"+m,g=RegExp([d+"?"+a+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[n,d,"$"].join("|")+")",p+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[n,d+u,"$"].join("|")+")",d+"?"+u+"+(?:['](?:d|ll|m|re|s|t|ve))?",d+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",s,f].join("|"),"g");e.exports=function(e){return e.match(g)||[]}},r4PS:function(e,t,i){var n=i("/e4I");e.exports=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?n(e,void 0,t):[]}},r8JS:function(e,t,i){"use strict";var n=i("vZRN"),s=i.n(n),r=i("jyii"),a=i("9CRu"),o=i("gCUY"),l=i("qx9o"),c=i("G55H"),d=i("9Q7u"),u=i("kHY2"),p=i("iryQ"),h=i("VYQf"),m=i("Z2pp"),f=i("UVyR"),g=i("/Zha"),v=i("Sy48"),b=i("ioEp"),y=i("BhOj"),k=i("ST6S"),w=i("8Vyw"),_=i("DwzX"),S=i("ELSb"),E=i("ummR"),D=i("1pIC"),T=i("qDIy"),C=i("GpHn"),I=i("Lj6T"),O=Object(o.c)({name:{type:String,required:!0},ariaLive:{type:String,default:void 0},ariaAtomic:{type:String},role:{type:String}},r.hb),j=m.a.extend({data:function(){return{name:"b-toaster"}},methods:{onAfterEnter:function(e){var t=this;Object(l.B)((function(){Object(l.y)(e,"".concat(t.name,"-enter-to"))}))}},render:function(e){return e("transition-group",{props:{tag:"div",name:this.name},on:{afterEnter:this.onAfterEnter}},this.$slots.default)}}),x=m.a.extend({name:r.hb,props:O,data:function(){return{doRender:!1,dead:!1,staticName:this.name}},beforeMount:function(){var e=this;this.staticName=this.name,h.Wormhole.hasTarget(this.staticName)?(Object(p.a)('A "<portal-target>" with name "'.concat(this.name,'" already exists in the document.'),r.hb),this.dead=!0):(this.doRender=!0,this.$once("hook:beforeDestroy",(function(){e.$root.$emit("bv::toaster::destroyed",e.staticName)})))},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},render:function(e){var t=e("div",{class:["d-none",{"b-dead-toaster":this.dead}]});if(this.doRender){var i=e(h.PortalTarget,{staticClass:"b-toaster-slot",props:{name:this.staticName,multiple:!0,tag:"div",slim:!1,transition:j}});t=e("div",{staticClass:"b-toaster",class:[this.staticName],attrs:{id:this.staticName,role:this.role||null,"aria-live":this.ariaLive,"aria-atomic":this.ariaAtomic}},[i])}return t}}),A=i("MZHJ"),N=i("lHYX");function F(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function L(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?F(Object(i),!0).forEach((function(t){P(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):F(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function P(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var R=Object(d.k)(N.b,["href","to"]),q=Object(o.c)(L({id:{type:String},title:{type:String},toaster:{type:String,default:"b-toaster-top-right"},visible:{type:Boolean,default:!1},variant:{type:String},isStatus:{type:Boolean,default:!1},appendToast:{type:Boolean,default:!1},noAutoHide:{type:Boolean,default:!1},autoHideDelay:{type:[Number,String],default:5e3},noCloseButton:{type:Boolean,default:!1},noFade:{type:Boolean,default:!1},noHoverPause:{type:Boolean,default:!1},solid:{type:Boolean,default:!1},toastClass:{type:[String,Object,Array]},headerClass:{type:[String,Object,Array]},bodyClass:{type:[String,Object,Array]},static:{type:Boolean,default:!1}},R),r.gb),$=m.a.extend({name:r.gb,mixins:[E.a,D.a,T.a,C.a,I.a],inheritAttrs:!1,model:{prop:"visible",event:"change"},props:q,data:function(){return{isMounted:!1,doRender:!1,localShow:!1,isTransitioning:!1,isHiding:!1,order:0,dismissStarted:0,resumeDismiss:0}},computed:{bToastClasses:function(){return P({"b-toast-solid":this.solid,"b-toast-append":this.appendToast,"b-toast-prepend":!this.appendToast},"b-toast-".concat(this.variant),this.variant)},slotScope:function(){return{hide:this.hide}},computedDuration:function(){return Object(k.b)(Object(w.c)(this.autoHideDelay,0),1e3)},computedToaster:function(){return String(this.toaster)},transitionHandlers:function(){return{beforeEnter:this.onBeforeEnter,afterEnter:this.onAfterEnter,beforeLeave:this.onBeforeLeave,afterLeave:this.onAfterLeave}},computedAttrs:function(){return L(L({},this.bvAttrs),{},{id:this.safeId(),tabindex:"0"})}},watch:{visible:function(e){e?this.show():this.hide()},localShow:function(e){e!==this.visible&&this.$emit("change",e)},toaster:function(){this.$nextTick(this.ensureToaster)},static:function(e){e&&this.localShow&&this.ensureToaster()}},created:function(){this.$_dismissTimer=null},mounted:function(){var e=this;this.isMounted=!0,this.$nextTick((function(){e.visible&&Object(l.B)((function(){e.show()}))})),this.listenOnRoot("bv::show::toast",(function(t){t===e.safeId()&&e.show()})),this.listenOnRoot("bv::hide::toast",(function(t){t&&t!==e.safeId()||e.hide()})),this.listenOnRoot("bv::toaster::destroyed",(function(t){t===e.computedToaster&&e.hide()}))},beforeDestroy:function(){this.clearDismissTimer()},methods:{show:function(){var e=this;if(!this.localShow){this.ensureToaster();var t=this.buildEvent("show");this.emitEvent(t),this.dismissStarted=this.resumeDismiss=0,this.order=Date.now()*(this.appendToast?1:-1),this.isHiding=!1,this.doRender=!0,this.$nextTick((function(){Object(l.B)((function(){e.localShow=!0}))}))}},hide:function(){var e=this;if(this.localShow){var t=this.buildEvent("hide");this.emitEvent(t),this.setHoverHandler(!1),this.dismissStarted=this.resumeDismiss=0,this.clearDismissTimer(),this.isHiding=!0,Object(l.B)((function(){e.localShow=!1}))}},buildEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new b.a(e,L(L({cancelable:!1,target:this.$el||null,relatedTarget:null},t),{},{vueTarget:this,componentId:this.safeId()}))},emitEvent:function(e){var t=e.type;this.emitOnRoot("bv::toast:".concat(t),e),this.$emit(t,e)},ensureToaster:function(){if(!this.static&&!h.Wormhole.hasTarget(this.computedToaster)){var e=document.createElement("div");document.body.appendChild(e),new x({parent:this.$root,propsData:{name:this.computedToaster}}).$mount(e)}},startDismissTimer:function(){this.clearDismissTimer(),this.noAutoHide||(this.$_dismissTimer=setTimeout(this.hide,this.resumeDismiss||this.computedDuration),this.dismissStarted=Date.now(),this.resumeDismiss=0)},clearDismissTimer:function(){clearTimeout(this.$_dismissTimer),this.$_dismissTimer=null},setHoverHandler:function(e){var t=this.$refs["b-toast"];Object(y.c)(e,t,"mouseenter",this.onPause,f.a),Object(y.c)(e,t,"mouseleave",this.onUnPause,f.a)},onPause:function(){if(!this.noAutoHide&&!this.noHoverPause&&this.$_dismissTimer&&!this.resumeDismiss){var e=Date.now()-this.dismissStarted;e>0&&(this.clearDismissTimer(),this.resumeDismiss=Object(k.b)(this.computedDuration-e,1e3))}},onUnPause:function(){this.noAutoHide||this.noHoverPause||!this.resumeDismiss?this.resumeDismiss=this.dismissStarted=0:this.startDismissTimer()},onLinkClick:function(){var e=this;this.$nextTick((function(){Object(l.B)((function(){e.hide()}))}))},onBeforeEnter:function(){this.isTransitioning=!0},onAfterEnter:function(){this.isTransitioning=!1;var e=this.buildEvent("shown");this.emitEvent(e),this.startDismissTimer(),this.setHoverHandler(!0)},onBeforeLeave:function(){this.isTransitioning=!0},onAfterLeave:function(){this.isTransitioning=!1,this.order=0,this.resumeDismiss=this.dismissStarted=0;var e=this.buildEvent("hidden");this.emitEvent(e),this.doRender=!1},makeToast:function(e){var t=this,i=[],n=this.normalizeSlot("toast-title",this.slotScope);n?i.push(n):this.title&&i.push(e("strong",{staticClass:"mr-2"},this.title)),this.noCloseButton||i.push(e(A.a,{staticClass:"ml-auto mb-1",on:{click:function(){t.hide()}}}));var s=e();i.length>0&&(s=e("header",{staticClass:"toast-header",class:this.headerClass},i));var r=Object(S.d)(this),a=e(r?N.a:"div",{staticClass:"toast-body",class:this.bodyClass,props:r?Object(_.a)(R,this):{},on:r?{click:this.onLinkClick}:{}},[this.normalizeSlot(g.c,this.slotScope)||e()]);return e("div",{key:"toast-".concat(this._uid),ref:"toast",staticClass:"toast",class:this.toastClass,attrs:this.computedAttrs},[s,a])}},render:function(e){if(!this.doRender||!this.isMounted)return e();var t="b-toast-".concat(this._uid),i=this.static?{}:this.scopedStyleAttrs;return e(h.Portal,{props:{name:t,to:this.computedToaster,order:this.order,slim:!0,disabled:this.static}},[e("div",{key:t,ref:"b-toast",staticClass:"b-toast",class:this.bToastClasses,attrs:L(L({},i),{},{id:this.safeId("_toast_outer"),role:this.isHiding?null:this.isStatus?"status":"alert","aria-live":this.isHiding?null:this.isStatus?"polite":"assertive","aria-atomic":this.isHiding?null:"true"})},[e(v.b,{props:{noFade:this.noFade},on:this.transitionHandlers},[this.localShow?this.makeToast(e):e()])])])}});function B(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function U(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?M(Object(i),!0).forEach((function(t){V(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):M(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function V(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var W,H=["id"].concat(function(e){if(Array.isArray(e))return z(e)}(W=Object(d.h)(Object(d.j)(q,["static","visible"])))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(W)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?z(e,t):void 0}}(W)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),G={toastContent:"default",title:"toast-title"},K=function(e){return H.reduce((function(t,i){return Object(c.n)(e[i])||(t[i]=e[i]),t}),{})},Y=Object(u.a)({plugins:{plugin:function(e){var t=e.extend({name:r.ib,extends:$,destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},mounted:function(){var e=this,t=function(){e.localShow=!1,e.doRender=!1,e.$nextTick((function(){e.$nextTick((function(){Object(l.B)((function(){e.$destroy()}))}))}))};this.$parent.$once("hook:destroyed",t),this.$once("hidden",t),this.listenOnRoot("bv::toaster::destroyed",(function(i){i===e.toaster&&t()}))}}),i=function(e,i){if(!Object(p.c)("$bvToast")){var n=new t({parent:i,propsData:U(U(U({},K(Object(o.b)(r.gb))),Object(d.j)(e,Object(d.h)(G))),{},{static:!1,visible:!0})});Object(d.h)(G).forEach((function(t){var s=e[t];Object(c.n)(s)||("title"===t&&Object(c.m)(s)&&(s=[i.$createElement("strong",{class:"mr-2"},s)]),n.$slots[G[t]]=Object(a.b)(s))}));var s=document.createElement("div");document.body.appendChild(s),n.$mount(s)}},n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object(d.a)(this,{_vm:t,_root:t.$root}),Object(d.d)(this,{_vm:Object(d.l)(),_root:Object(d.l)()})}var t,n,s;return t=e,(n=[{key:"toast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&!Object(p.c)("$bvToast")&&i(U(U({},K(t)),{},{toastContent:e}),this._vm)}},{key:"show",value:function(e){e&&this._root.$emit("bv::show::toast",e)}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._root.$emit("bv::hide::toast",e)}}])&&B(t.prototype,n),s&&B(t,s),e}();e.mixin({beforeCreate:function(){this._bv__toast=new n(this)}}),Object(d.g)(e.prototype,"$bvToast")||Object(d.e)(e.prototype,"$bvToast",{get:function(){return this&&this._bv__toast||Object(p.a)('"'.concat("$bvToast",'" must be accessed from a Vue instance "this" context.'),r.gb),this._bv__toast}})}}}),Q=Object(u.a)({components:{BToast:$,BToaster:x},plugins:{BVToastPlugin:Y}}),X=i("Uklg");const J={autoHideDelay:5e3,toastClass:"gl-toast",isStatus:!0,noCloseButton:!0,toaster:"b-toaster-bottom-left"};let Z=0;function ee(e,t,i){const n=[e(X.a,{class:["gl-toast-close-button","gl-close-btn-color-inherit"],on:{click:t.hide}})];return i.action&&n.splice(0,0,e("a",{role:"button",class:["gl-toast-action"],on:{click:e=>i.action.onClick(e,t)}},i.action.text)),n}function te(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i="gl-toast-"+Z;Z+=1;const n=()=>{this.$bvToast.hide(i)},r={id:i,hide:n};if(s()(t.onComplete)){const e=n=>{n.componentId===i&&(this.$root.$off("bv::toast:hidden",e),t.onComplete(n))};this.$root.$on("bv::toast:hidden",e)}return this.$bvToast.toast(e,{...J,id:i,title:ee(this.$createElement,r,t)}),r}var ie={install(e){e.use(Q),e.mixin({beforeCreate(){this.$toast||(this.$toast={show:te.bind(this)})}})}};t.a=ie},rBzE:function(e,t,i){"use strict";var n=i("cuRJ"),s=i("u1ru"),r=i("H8gz"),a=i("t9l/"),o=i("nOGJ"),l=i("2a3h"),c={components:{GlButton:n.a,GlLink:s.a,GlIcon:r.a},props:{displayText:{type:String,required:!1,default:Object(a.g)("InviteMembers|Invite team members")},icon:{type:String,required:!1,default:""},classes:{type:String,required:!1,default:""},variant:{type:String,required:!1,default:void 0},triggerSource:{type:String,required:!0},triggerElement:{type:String,required:!1,default:"button"},event:{type:String,required:!1,default:""},label:{type:String,required:!1,default:""},qaSelector:{type:String,required:!1,default:l.v}},computed:{componentAttributes(){const e={class:this.classes,"data-qa-selector":this.qaSelector,"data-test-id":"invite-members-button"};return this.event&&this.label?{...e,"data-track-action":this.event,"data-track-label":this.label}:e}},methods:{checkTrigger(e){return this.triggerElement===e},openModal(){o.a.$emit("openModal",{source:this.triggerSource})}},TRIGGER_ELEMENT_BUTTON:l.w,TRIGGER_ELEMENT_SIDE_NAV:l.x},d=i("bPvS"),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.checkTrigger(e.$options.TRIGGER_ELEMENT_BUTTON)?i("gl-button",e._b({attrs:{variant:e.variant,icon:e.icon},on:{click:e.openModal}},"gl-button",e.componentAttributes,!1),[e._v("\n  "+e._s(e.displayText)+"\n")]):e.checkTrigger(e.$options.TRIGGER_ELEMENT_SIDE_NAV)?i("gl-link",e._b({attrs:{"data-is-link":"true"},on:{click:e.openModal}},"gl-link",e.componentAttributes,!1),[i("span",{staticClass:"nav-icon-container"},[i("gl-icon",{attrs:{name:e.icon}})],1),e._v(" "),i("span",{staticClass:"nav-item-name"},[e._v(" "+e._s(e.displayText)+" ")])]):i("gl-link",e._b({attrs:{"data-is-link":"true"},on:{click:e.openModal}},"gl-link",e.componentAttributes,!1),[e._v("\n  "+e._s(e.displayText)+"\n")])}),[],!1,null,null,null);t.a=u.exports},rEAH:function(e,t,i){"use strict";var n=i("2Ufh"),s=i("t9l/"),r=i("j8Yr"),a=i("mphk"),o=i("EqYD"),l={components:{MarkdownField:i("WW8A").a,LocalStorageSync:r.a,GlSegmentedControl:n.a,ContentEditor:function(){return Promise.all([i.e(157),i.e(94),i.e(685),i.e(177)]).then(i.bind(null,"1Pr+"))}},props:{value:{type:String,required:!0},renderMarkdownPath:{type:String,required:!0},markdownDocsPath:{type:String,required:!0},quickActionsDocsPath:{type:String,required:!1,default:""},uploadsPath:{type:String,required:!1,default:function(){return window.uploads_path}},enableContentEditor:{type:Boolean,required:!1,default:!0},formFieldId:{type:String,required:!0},formFieldName:{type:String,required:!0},enablePreview:{type:Boolean,required:!1,default:!0},enableAutocomplete:{type:Boolean,required:!1,default:!0},formFieldPlaceholder:{type:String,required:!1,default:""},formFieldAriaLabel:{type:String,required:!1,default:""},autofocus:{type:Boolean,required:!1,default:!1},supportsQuickActions:{type:Boolean,required:!1,default:!1}},data:()=>({editingMode:o.d,switchEditingControlEnabled:!0,autofocused:!1}),computed:{isContentEditorActive(){return this.enableContentEditor&&this.editingMode===o.c},contentEditorAutofocused(){return!(!this.autofocus||this.autofocused)&&"end"}},mounted(){this.autofocusTextarea()},methods:{updateMarkdownFromContentEditor(e){let{markdown:t}=e;this.$emit("input",t)},updateMarkdownFromMarkdownField(e){let{target:t}=e;this.$emit("input",t.value)},enableSwitchEditingControl(){this.switchEditingControlEnabled=!0},disableSwitchEditingControl(){this.switchEditingControlEnabled=!1},renderMarkdown(e){return a.a.post(this.renderMarkdownPath,{text:e}).then((function(e){let{data:t}=e;return t.body}))},onEditingModeChange(e){this.notifyEditingModeChange(e)},onEditingModeRestored(e){this.notifyEditingModeChange(e)},notifyEditingModeChange(e){this.$emit(e)},autofocusTextarea(){this.autofocus&&this.editingMode===o.d&&(this.$refs.textarea.focus(),this.setEditorAsAutofocused())},setEditorAsAutofocused(){this.autofocused=!0}},switchEditingControlOptions:[{text:Object(s.a)("Source"),value:o.d},{text:Object(s.a)("Rich text"),value:o.c}]},c=i("bPvS"),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"gl-display-flex gl-justify-content-start gl-mb-3"},[i("gl-segmented-control",{staticClass:"gl-display-flex",attrs:{"data-testid":"toggle-editing-mode-button","data-qa-selector":"editing_mode_button",options:e.$options.switchEditingControlOptions,disabled:!e.enableContentEditor||!e.switchEditingControlEnabled},on:{change:e.onEditingModeChange},model:{value:e.editingMode,callback:function(t){e.editingMode=t},expression:"editingMode"}})],1),e._v(" "),i("local-storage-sync",{attrs:{"storage-key":"gl-wiki-content-editor-enabled"},on:{input:e.onEditingModeRestored},model:{value:e.editingMode,callback:function(t){e.editingMode=t},expression:"editingMode"}}),e._v(" "),e.isContentEditorActive?i("div",[i("content-editor",{attrs:{"render-markdown":e.renderMarkdown,"uploads-path":e.uploadsPath,markdown:e.value,autofocus:e.contentEditorAutofocused},on:{initialized:e.setEditorAsAutofocused,change:e.updateMarkdownFromContentEditor,loading:e.disableSwitchEditingControl,loadingSuccess:e.enableSwitchEditingControl,loadingError:e.enableSwitchEditingControl,keydown:function(t){return e.$emit("keydown",t)}}}),e._v(" "),i("input",{attrs:{id:e.formFieldId,name:e.formFieldName,"data-qa-selector":"markdown_editor_form_field",type:"hidden"},domProps:{value:e.value}})],1):i("markdown-field",{staticClass:"bordered-box",attrs:{"markdown-preview-path":e.renderMarkdownPath,"can-attach-file":"","enable-autocomplete":e.enableAutocomplete,"textarea-value":e.value,"markdown-docs-path":e.markdownDocsPath,"quick-actions-docs-path":e.quickActionsDocsPath,"uploads-path":e.uploadsPath,"enable-preview":e.enablePreview},scopedSlots:e._u([{key:"textarea",fn:function(){return[i("textarea",{ref:"textarea",staticClass:"note-textarea js-gfm-input js-autosize markdown-area",attrs:{id:e.formFieldId,name:e.formFieldName,dir:"auto","data-supports-quick-actions":e.supportsQuickActions,"data-qa-selector":"markdown_editor_form_field","aria-label":e.formFieldAriaLabel,placeholder:e.formFieldPlaceholder},domProps:{value:e.value},on:{input:e.updateMarkdownFromMarkdownField,keydown:function(t){return e.$emit("keydown",t)}}})]},proxy:!0}],null,!1,3694989785)})],1)}),[],!1,null,null,null);t.a=d.exports},rVyh:function(e,t,i){"use strict";i.d(t,"c",(function(){return s})),i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return a})),i.d(t,"d",(function(){return o}));var n=i("t9l/");const s={Opened:"opened",Closed:"closed",All:"all"},r=[{id:"state-opened",name:s.Opened,title:Object(n.a)("Open"),titleTooltip:Object(n.a)("Filter by issues that are currently opened.")},{id:"state-closed",name:s.Closed,title:Object(n.a)("Closed"),titleTooltip:Object(n.a)("Filter by issues that are currently closed.")},{id:"state-all",name:s.All,title:Object(n.a)("All"),titleTooltip:Object(n.a)("Show all issues.")}],a=(Object(n.a)("Created date"),Object(n.a)("Updated date"),5),o="issuable_list_page_size"},rbVQ:function(e,t,i){var n=i("Fcw5")({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"});e.exports=n},reYZ:function(e,t,i){var n=i("ueyC");e.exports=function(e,t,i,s){for(var r=e.length,a=s?r:-1;(s?a--:++a<r)&&t(e[a],a,e););return i?n(e,s?0:a,s?a+1:r):n(e,s?a+1:0,s?r:a)}},rh11:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"c",(function(){return c})),i.d(t,"d",(function(){return d})),i.d(t,"e",(function(){return u})),i.d(t,"b",(function(){return p}));var n=i("SEpv"),s=i.n(n),r=(i("u6G8"),i("3R5X"),i("oVeW"),i("g+EE"),i("vRHk"));const a=function(e){let t;if(Array.isArray(e)&&e.every(s.a))t=e.join("/");else{if(!s()(e))throw new Error("Invalid autosave key");t=e}return"autosave/"+t},o=function(e){return a(e)+"/lockVersion"},l=function(e){try{window.localStorage.removeItem(a(e)),window.localStorage.removeItem(o(e))}catch(e){console.error(e)}},c=function(e){try{return window.localStorage.getItem(a(e))}catch(e){return console.error(e),null}},d=function(e){try{return window.localStorage.getItem(o(e))}catch(e){return console.error(e),null}},u=function(e,t,i){try{window.localStorage.setItem(a(e),t),i&&window.localStorage.setItem(o(e),i)}catch(e){console.error(e)}},p=function(e,t){return["Note",Object(r.f)(e),t,"Reply"].join("/")}},"ri+z":function(e,t){e.exports=function(e,t,i){for(var n=-1,s=null==e?0:e.length;++n<s;)if(i(t,e[n]))return!0;return!1}},rj5h:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"projectWorkItemTypes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workItemTypes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:174}};i.loc.source={body:"query projectWorkItemTypes($fullPath: ID!) {\n  workspace: project(fullPath: $fullPath) {\n    id\n    workItemTypes {\n      nodes {\n        id\n        name\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.projectWorkItemTypes=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"projectWorkItemTypes")},rmDS:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("q+nE"),s=i("cPWL"),r=i("oj/M"),a=i("KZmS");function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"issue";const t=document.querySelector(".js-related-issues-root");return t?new n.default({el:t,name:"RelatedIssuesRoot",apolloProvider:s.a,provide:{fullPath:t.dataset.fullPath,hasIssueWeightsFeature:Object(r.F)(t.dataset.hasIssueWeightsFeature),hasIterationsFeature:Object(r.F)(t.dataset.hasIterationsFeature)},render:function(i){return i(a.a,{props:{endpoint:t.dataset.endpoint,canAdmin:Object(r.F)(t.dataset.canAddRelatedIssues),helpPath:t.dataset.helpPath,showCategorizedIssues:Object(r.F)(t.dataset.showCategorizedIssues),issuableType:e,autoCompleteEpics:!1}})}}):null}},s1DB:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("xqp2");class s{constructor(e,t,i,s){var r=this;this.field=e,this.type=this.field.prop("type"),this.isLocalStorageAvailable=n.a.canUseLocalStorage(),null!=t.join&&(t=t.join("/")),this.key="autosave/"+t,this.fallbackKey=i,this.lockVersionKey=this.key+"/lockVersion",this.lockVersion=s,this.field.data("autosave",this),this.restore(),this.field.on("input",(function(){return r.save()}))}restore(){if(!this.isLocalStorageAvailable)return;if(!this.field.length)return;const e=window.localStorage.getItem(this.key),t=window.localStorage.getItem(this.fallbackKey);"checkbox"===this.type?this.field.prop("checked",e||t):e?this.field.val(e):t&&this.field.val(t),this.field.trigger("input");const i=new Event("change",{bubbles:!0,cancelable:!1}),n=this.field.get(0);n&&n.dispatchEvent(i)}getSavedLockVersion(){if(this.isLocalStorageAvailable)return window.localStorage.getItem(this.lockVersionKey)}save(){if(!this.field.length)return;const e="checkbox"===this.type?this.field.is(":checked"):this.field.val();return this.isLocalStorageAvailable&&e?(this.fallbackKey&&window.localStorage.setItem(this.fallbackKey,e),void 0!==this.lockVersion&&window.localStorage.setItem(this.lockVersionKey,this.lockVersion),window.localStorage.setItem(this.key,e)):this.reset()}reset(){if(this.isLocalStorageAvailable)return window.localStorage.removeItem(this.lockVersionKey),window.localStorage.removeItem(this.fallbackKey),window.localStorage.removeItem(this.key)}dispose(){this.field.off("input")}}},s4Bd:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("Z2pp"),s=i("DQ7i"),r=i("jyii"),a=i("gCUY"),o=Object(a.c)({tag:{type:String,default:"div"}},r.K),l=n.a.extend({name:r.K,functional:!0,props:o,render:function(e,t){var i=t.props,n=t.data,r=t.children;return e(i.tag,Object(s.a)(n,{staticClass:"input-group-text"}),r)}})},sFNI:function(e,t,i){"use strict";var n=i("cuRJ"),s=i("CkNe"),r=i("uPWg"),a={components:{GlButton:n.a,DraftsCount:r.a},props:{showCount:{type:Boolean,required:!1,default:!1},category:{type:String,required:!1,default:"primary"},variant:{type:String,required:!1,default:"confirm"}},computed:{...Object(s.f)("batchComments",["isPublishing"])},methods:{...Object(s.c)("batchComments",["publishReview"]),onClick(){this.publishReview()}}},o=i("bPvS"),l=Object(o.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-button",{staticClass:"js-publish-draft-button",attrs:{loading:e.isPublishing,"data-qa-selector":"submit_review_button",category:e.category,variant:e.variant},on:{click:e.onClick}},[e._v("\n  "+e._s(e.__("Submit review"))+"\n  "),e.showCount?i("drafts-count"):e._e()],1)}),[],!1,null,null,null);t.a=l.exports},sRfO:function(e,t,i){"use strict";var n=i("ly/8"),s=i("m6pR"),r=i("H8gz"),a=i("zLBL"),o=i("meSH"),l=i("teVv"),c=i("mpzd"),d=i("oj/M"),u=i("t9l/"),p=i("dYBJ"),h=i("Zxcm"),m=i("LuMo"),f=i("5ee2");var g={tracking:{event:f.g.editEvent,label:f.g.rightSidebarLabel,property:"subscriptions"},directives:{GlTooltip:n.a},components:{GlDropdownForm:s.a,GlIcon:r.a,GlLoadingIcon:a.a,GlToggle:o.a,SidebarEditableItem:p.a},mixins:[Object(h.a)()],props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},issuableType:{required:!0,type:String}},data:()=>({subscribed:!1,loading:!1,emailsDisabled:!1}),apollo:{subscribed:{query(){return f.x[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:String(this.iid)}},update(e){var t,i;return(null===(t=e.workspace)||void 0===t||null===(i=t.issuable)||void 0===i?void 0:i.subscribed)||!1},result(e){var t,i,n,s,r;let{data:a}=e;a&&(this.emailsDisabled=this.parentIsGroup?null===(t=a.workspace)||void 0===t?void 0:t.emailsDisabled:null===(i=a.workspace)||void 0===i||null===(n=i.issuable)||void 0===n?void 0:n.emailsDisabled,this.$emit("subscribedUpdated",null===(s=a.workspace)||void 0===s||null===(r=s.issuable)||void 0===r?void 0:r.subscribed))},error(){Object(l.createAlert)({message:Object(u.h)(Object(u.a)("Something went wrong while setting %{issuableType} notifications."),{issuableType:this.issuableType})})}}},computed:{isMergeRequest(){return this.issuableType===c.c.MergeRequest&&this.glFeatures.movedMrSidebar},isLoading(){var e,t;return(null===(e=this.$apollo.queries)||void 0===e||null===(t=e.subscribed)||void 0===t?void 0:t.loading)||this.loading},notificationTooltip(){return this.emailsDisabled?this.subscribeDisabledDescription:this.subscribed?this.$options.i18n.labelOn:this.$options.i18n.labelOff},notificationIcon(){return this.emailsDisabled||!this.subscribed?"notifications-off":"notifications"},parentIsGroup(){return this.issuableType===c.c.Epic},subscribeDisabledDescription(){return Object(u.h)(Object(u.a)("Disabled by %{parent} owner"),{parent:this.parentIsGroup?"group":"project"})},isLoggedIn:()=>Object(d.A)(),canSubscribe(){return this.emailsDisabled||!this.isLoggedIn}},methods:{setSubscribed(e){var t=this;this.loading=!0,this.$apollo.mutate({mutation:f.x[this.issuableType].mutation,variables:{fullPath:this.fullPath,iid:this.iid,subscribedState:e}}).then((function(i){let{data:{updateIssuableSubscription:{errors:n}}}=i;n.length&&Object(l.createAlert)({message:n[0]}),t.isMergeRequest&&Object(m.a)(e?Object(u.a)("Notifications turned on."):Object(u.a)("Notifications turned off."))})).catch((function(){Object(l.createAlert)({message:Object(u.h)(Object(u.a)("Something went wrong while setting %{issuableType} notifications."),{issuableType:t.issuableType})})})).finally((function(){t.loading=!1}))},toggleSubscribed(){this.emailsDisabled?this.expandSidebar():this.setSubscribed(!this.subscribed)},expandSidebar(){this.$emit("expandSidebar")}},i18n:{notifications:Object(u.a)("Notifications"),labelOn:Object(u.a)("Notifications on"),labelOff:Object(u.a)("Notifications off")}},v=i("bPvS"),b=Object(v.a)(g,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isMergeRequest?i("gl-dropdown-form",{staticClass:"gl-new-dropdown-item"},[i("div",{staticClass:"gl-px-5 gl-pb-2 gl-pt-1"},[i("gl-toggle",{staticClass:"merge-request-notification-toggle",attrs:{value:e.subscribed,label:e.__("Notifications"),"label-position":"left","data-testid":"notifications-toggle"},on:{change:e.toggleSubscribed}})],1)]):i("sidebar-editable-item",{ref:"editable",staticClass:"block subscriptions",attrs:{title:e.$options.i18n.notifications,tracking:e.$options.tracking,loading:e.isLoading,"can-edit":!1},scopedSlots:e._u([{key:"collapsed-right",fn:function(){return[i("gl-toggle",{staticClass:"hide-collapsed gl-ml-auto",attrs:{value:e.subscribed,"is-loading":e.isLoading,disabled:e.canSubscribe,"data-testid":"subscription-toggle",label:e.$options.i18n.notifications,"label-position":"hidden"},on:{change:e.setSubscribed}})]},proxy:!0},{key:"collapsed",fn:function(){return[i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.left",modifiers:{viewport:!0,left:!0}}],ref:"tooltip",staticClass:"sidebar-collapsed-icon",attrs:{title:e.notificationTooltip},on:{click:e.toggleSubscribed}},[e.isLoading?i("gl-loading-icon",{staticClass:"sidebar-item-icon is-active",attrs:{size:"sm"}}):i("gl-icon",{staticClass:"sidebar-item-icon is-active",attrs:{name:e.notificationIcon,size:16}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.emailsDisabled,expression:"emailsDisabled"}],staticClass:"gl-mt-3 hide-collapsed gl-text-gray-500"},[e._v("\n      "+e._s(e.subscribeDisabledDescription)+"\n    ")])]},proxy:!0},{key:"default",fn:function(){},proxy:!0}])})}),[],!1,null,null,null);t.a=b.exports},sRjF:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"d",(function(){return r})),i.d(t,"a",(function(){return a})),i.d(t,"e",(function(){return o})),i.d(t,"i",(function(){return l})),i.d(t,"f",(function(){return c})),i.d(t,"g",(function(){return d})),i.d(t,"h",(function(){return u})),i.d(t,"c",(function(){return p})),i.d(t,"j",(function(){return h})),i.d(t,"l",(function(){return m})),i.d(t,"k",(function(){return f}));var n=i("t9l/");const s={errorMsg:Object(n.g)("IncidentManagement|There was an error displaying the incidents."),noIncidents:Object(n.g)("IncidentManagement|No incidents to display."),unassigned:Object(n.g)("IncidentManagement|Unassigned"),createIncidentBtnLabel:Object(n.g)("IncidentManagement|Create incident"),unPublished:Object(n.g)("IncidentManagement|Unpublished"),noEscalationStatus:Object(n.g)("IncidentManagement|None"),emptyState:{title:Object(n.g)("IncidentManagement|Display your incidents in a dedicated view"),emptyClosedTabTitle:Object(n.g)("IncidentManagement|There are no closed incidents"),description:Object(n.g)("IncidentManagement|All alerts promoted to incidents are automatically displayed within the list. You can also create a new incident using the button below."),cannotCreateIncidentDescription:Object(n.g)("IncidentManagement|All alerts promoted to incidents are automatically displayed within the list.")}},r=[{title:Object(n.g)("IncidentManagement|Open"),status:"OPENED",filters:"opened"},{title:Object(n.g)("IncidentManagement|Closed"),status:"CLOSED",filters:"closed"},{title:Object(n.g)("IncidentManagement|All"),status:"ALL",filters:"all"}],a={TRIGGERED:Object(n.g)("AlertManagement|Triggered"),ACKNOWLEDGED:Object(n.g)("AlertManagement|Acknowledged"),RESOLVED:Object(n.g)("AlertManagement|Resolved")},o={"data-testid":"incident-management-created-at-sort"},l={"data-testid":"incident-management-severity-sort"},c={"data-testid":"incident-management-status-sort"},d={"data-testid":"incident-management-sla"},u={"data-testid":"incident-management-published-sort"},p="incident",h={category:"Incident Management",action:"create_incident_button_clicks"},m={category:"Incident Management",action:"view_incidents_list"},f={category:"Incident Management",action:"view_incident_details"}},"t+zI":function(e,t,i){"use strict";i.d(t,"a",(function(){return T}));var n=i("ZPTr"),s=i.n(n),r=i("lb6a"),a=i.n(r),o=i("ZMwX"),l=i.n(o),c=i("A1CF"),d=i.n(c),u=i("pY+i"),p=i.n(u),h=i("08uz"),m=i.n(h),f=(i("WmlO"),i("3R5X"),i("W9Nl"),i("uHfJ"),i("R0RX"),i("JHu5"),i("XUYm"),i("6oy4")),g=i.n(f),v=i("rl6E"),b=i("IcBX"),y=i("oj/M"),k=i("teVv"),w=i("mphk"),_=i("t9l/"),S=i("htOw"),E=i("vRHk");class D{constructor(e,t,i){this.$el=e,this.namespacePath=t,this.projectPath=i,this.$dropdownBack=g()(".dropdown-menu-back",this.$el.closest(".dropdown")),this.$cancelButton=g()(".js-cancel-label-btn",this.$el),this.$newLabelField=g()("#new_label_name",this.$el),this.$newColorField=g()("#new_label_color",this.$el),this.$colorPreview=g()(".js-dropdown-label-color-preview",this.$el),this.$addList=g()(".js-add-list",this.$el),this.$newLabelError=g()(".js-label-error",this.$el),this.$newLabelErrorContent=g()(".gl-alert-content",this.$newLabelError),this.$newLabelCreateButton=g()(".js-new-label-btn",this.$el),this.$colorSuggestions=g()(".suggest-colors-dropdown a",this.$el),this.$newLabelError.hide(),this.$newLabelCreateButton.disable(),this.addListDefault=this.$addList.is(":checked"),this.cleanBinding(),this.addBinding()}cleanBinding(){this.$colorSuggestions.off("click"),this.$newLabelField.off("keyup change"),this.$newColorField.off("keyup change"),this.$dropdownBack.off("click"),this.$cancelButton.off("click"),this.$newLabelCreateButton.off("click")}addBinding(){const e=this;this.$colorSuggestions.on("click",(function(t){const i=g()(this);e.addColorValue(t,i)})),this.$newLabelField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$newColorField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$dropdownBack.on("click",this.resetForm.bind(this)),this.$cancelButton.on("click",(function(t){t.preventDefault(),t.stopPropagation(),e.resetForm(),e.$dropdownBack.trigger("click")})),this.$newLabelCreateButton.on("click",this.saveLabel.bind(this))}addColorValue(e,t){e.preventDefault(),e.stopPropagation(),this.$newColorField.val(t.data("color")).trigger("change"),this.$colorPreview.css("background-color",t.data("color")).parent().addClass("is-active")}enableLabelCreateButton(){""!==this.$newLabelField.val()&&""!==this.$newColorField.val()?(this.$newLabelError.hide(),this.$newLabelCreateButton.enable()):this.$newLabelCreateButton.disable()}resetForm(){this.$newLabelField.val("").trigger("change"),this.$newColorField.val("").trigger("change"),this.$addList.prop("checked",this.addListDefault),this.$colorPreview.css("background-color","").parent().removeClass("is-active")}saveLabel(e){var t=this;e.preventDefault(),e.stopPropagation(),S.b.newLabel(this.namespacePath,this.projectPath,{title:this.$newLabelField.val(),color:this.$newColorField.val()},(function(e){if(t.$newLabelCreateButton.enable(),e.message){let i;i="string"==typeof e.message?e.message:Object.keys(e.message).map((function(t){return`${Object(E.q)(t)} ${e.message[t].join(", ")}`})).join("<br/>"),t.$newLabelErrorContent.html(i),t.$newLabelError.show()}else{const i=t.$addList.is(":checked");t.$dropdownBack.trigger("click"),g()(document).trigger("created.label",[e,i])}}))}}class T{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=this;let n=g()(e);e||(n=g()(".js-label-select")),n.each((function(e,n){const s=g()(n),r=s.closest(".labels-filter"),a=s.data("namespacePath"),o=s.data("projectPath"),c=s.data("issueUpdate");let u=s.data("selected");null==u||s.hasClass("js-multiselect")||(u=u.split(","));const h=s.data("showNo"),m=s.data("showAny"),f=s.data("showMenuAbove"),b=s.data("defaultLabel")||Object(_.a)("Label"),y=s.data("abilityName"),S=s.closest(".selectbox"),E=S.closest(".block"),C=s.closest("form, .js-issuable-update"),I=E.find(".sidebar-collapsed-icon span"),O=E.find(".value"),j=E.find(".block-loading").addClass("gl-display-none"),x=s.data("fieldName");let A=S.find(`input[name="${s.data("fieldName")}"]`).map((function(){return this.value})).get();const N=s.data("scopedLabels"),{handleClick:F}=t;s.closest(".dropdown").find(".dropdown-new-label").length&&new D(s.closest(".dropdown").find(".dropdown-new-label"),a,o);const L=function(){const e=s.closest(".selectbox").find(`input[name='${x}']`).map((function(){return this.value})).get();if(p()(A,e))return;A=e;const t={};t[y]={},t[y].label_ids=e,e.length||(t[y].label_ids=[""]),j.removeClass("gl-display-none"),s.trigger("loading.gl.dropdown"),w.a.put(c,t).then((function(e){let t,{data:i}=e;j.addClass("gl-display-none"),s.trigger("loaded.gl.dropdown"),S.hide(),i.issueUpdateURL=c;let n=0;i.labels.length&&c?(t=T.getLabelTemplate({labels:l()(i.labels,"title"),issueUpdateURL:c,enableScopedLabels:N}),n=i.labels.length):t=`<span class="no-value">${Object(_.a)("None")}</span>`,O.removeAttr("style").html(t),I.text(n),g()(".has-tooltip",O).tooltip({container:"body"})})).catch((function(){return Object(k.createAlert)({message:Object(_.a)("Error saving label update.")})}))};Object(v.a)(s,{showMenuAbove:f,data(e,t){const i=s.attr("data-labels");w.a.get(i).then((function(e){let{data:i}=e;if(s.hasClass("js-extra-options")){const e=[];h&&e.unshift({id:0,title:Object(_.a)("No label")}),m&&e.unshift({isAny:!0,title:Object(_.a)("Any label")}),e.length&&(e.push({type:"divider"}),i=e.concat(i))}t(i),f&&s.data("deprecatedJQueryDropdown").positionMenuAbove()})).catch((function(){return Object(k.createAlert)({message:Object(_.a)("Error fetching labels.")})}))},renderRow(e){let t;const i=[],n=e.id<=0||null==e.id;if(s.hasClass("js-filter-bulk-update")){const t=s.data("indeterminate")||[],n=s.data("marked")||[];if(-1!==t.indexOf(e.id)&&i.push("is-indeterminate"),-1!==n.indexOf(e.id)){const e=i.indexOf("is-indeterminate");-1!==e&&i.splice(e,1),i.push("is-active")}}else{if(this.id(e)){const t=this.id(e).toString().replace(/'/g,"\\'");C.find(`input[type='hidden'][name='${this.fieldName}'][value='${t}']`).length&&i.push("is-active")}this.multiSelect&&n&&i.push("dropdown-clear-active")}t=e.color?`<span class='dropdown-label-box' style='background: ${e.color}'></span>`:"";const r=document.createElement("a");if(r.href="#",e.id){const t=["d-flex","flex-row","text-break-word"];i.push("label-item",...t),r.dataset.labelId=e.id}r.className=i.join(" "),r.innerHTML=`${t} ${d()(e.title)}`;const a=document.createElement("li");return a.appendChild(r),a},search:{fields:["title"]},selectable:!0,filterable:!0,selected:s.data("selected")||[],toggleLabel(e,t){const i=s.parent(),n=i.find(".dropdown-input-field"),r=null!==t&&t.hasClass("is-active"),a=e?e.title:null,o=this.selected;if(n.length&&n.val().length&&i.find(".dropdown-input-clear").trigger("click"),e&&0===e.id)return this.selected=[],Object(_.a)("No label");if(r)this.selected.push(a);else if(!r&&a){const e=this.selected.indexOf(a);this.selected.splice(e,1)}return 1===o.length?o:o.length?Object(_.h)(Object(_.a)("%{firstLabel} +%{labelCount} more"),{firstLabel:o[0],labelCount:o.length-1}):b},fieldName:s.data("fieldName"),id:e=>e.id<=0?e.title:s.hasClass("js-issuable-form-dropdown")?e.id:s.hasClass("js-filter-submit")&&null==e.isAny?e.title:e.id,hidden(){const e=g()("body").attr("data-page"),t="projects:issues:index"===e,i="projects:merge_requests:index"===e;S.hide(),O.removeAttr("style"),s.hasClass("js-issuable-form-dropdown")||g()("html").attr("class").match(/issue-boards-page|epic-boards-page/)||s.hasClass("js-multiselect")&&(s.hasClass("js-filter-submit")&&(t||i)?Issuable.filterResults(s.closest("form")):s.hasClass("js-filter-submit")?s.closest("form").submit():s.hasClass("js-filter-bulk-update")||(L(),s.data("deprecatedJQueryDropdown").clearMenu()))},multiSelect:s.hasClass("js-multiselect"),vue:!1,clicked(e){const{e:t,isMarking:n}=e,r=e.selectedObj,a=g()("body").attr("data-page"),o="projects:issues:index"===a,l="projects:merge_requests:index"===a;if(s.parent().find(".is-active:not(.dropdown-clear-active)").length&&s.parent().find(".dropdown-clear-active").removeClass("is-active"),!s.hasClass("js-issuable-form-dropdown")){if(s.hasClass("js-filter-bulk-update"))return i.enableBulkLabelDropdown(),void i.setDropdownData(s,n,r.id);if(s.hasClass("js-filter-submit")&&(o||l)){if(!s.hasClass("js-multiselect"))return u=r.title,Issuable.filterResults(s.closest("form"))}else{if(s.hasClass("js-filter-submit"))return s.closest("form").submit();if(F)t.preventDefault(),F(r);else if(!s.hasClass("js-multiselect"))return L()}}},preserveContext:!0}),i.setOriginalDropdownData(r,s)})),this.bindEvents()}static getLabelTemplate(e){const t='<a href="<%- issueUpdateURL.slice(0, issueUpdateURL.lastIndexOf("/")) %>?label_name[]=<%- encodeURIComponent(label.title) %>" class="gl-link gl-label-link has-tooltip" <%= linkAttrs %> title="<%= tooltipTitleTemplate({ label, isScopedLabel, enableScopedLabels, escapeStr }) %>">',i=a()(['<span class="gl-label">',t,'<span class="gl-label-text <%= labelTextClass({ label, escapeStr }) %>" style="background-color: <%= escapeStr(label.color) %>;">',"<%- label.title %>","</span>","</a>","</span>"].join("")),n=function(e){let{label:t,escapeStr:i}=e;return i("#FFFFFF"===t.text_color?"gl-label-text-light":"gl-label-text-dark")},s=a()(['<span class="gl-label gl-label-scoped" style="color: <%= escapeStr(label.color) %>; --label-inset-border: inset 0 0 0 2px <%= escapeStr(label.color) %>;">',t,'<span class="gl-label-text <%= labelTextClass({ label, escapeStr }) %>" style="background-color: <%= escapeStr(label.color) %>;">','<%- label.title.slice(0, label.title.lastIndexOf("::")) %>',"</span>",'<span class="gl-label-text <%= rightLabelTextClass({ label, escapeStr }) %>">','<%- label.title.slice(label.title.lastIndexOf("::") + 2) %>',"</span>","</a>","</span>"].join("")),r=a()(["<% if (isScopedLabel(label) && enableScopedLabels) { %>","<span class='font-weight-bold scoped-label-tooltip-title'>Scoped label</span>","<br>","<%= escapeStr(label.description) %>","<% } else { %>","<%= escapeStr(label.description) %>","<% } %>"].join(""));return a()(["<% labels.forEach(function(label){ %>","<% if (isScopedLabel(label) && enableScopedLabels) { %>","<%= scopedLabelTemplate({ label, issueUpdateURL, isScopedLabel, enableScopedLabels, labelTextClass, rightLabelTextClass, tooltipTitleTemplate, escapeStr, linkAttrs: 'data-html=\"true\"' }) %>","<% } else { %>",'<%= labelTemplate({ label, issueUpdateURL, isScopedLabel, enableScopedLabels, labelTextClass, tooltipTitleTemplate, escapeStr, linkAttrs: "" }) %>',"<% } %>","<% }); %>"].join(""))({...e,labelTemplate:i,labelTextClass:n,rightLabelTextClass:function(e){let{label:t,escapeStr:i}=e;return i("#333333"===t.text_color?n({label:t,escapeStr:i}):"")},scopedLabelTemplate:s,tooltipTitleTemplate:r,isScopedLabel:y.D,escapeStr:d.a})}bindEvents(){return g()("body").on("change",'.issuable-list input[type="checkbox"]',this.onSelectCheckboxIssue)}onSelectCheckboxIssue(){if(!g()('.issuable-list input[type="checkbox"]:checked').length)return g()(".issues-bulk-update .labels-filter .dropdown-toggle-text").text(Object(_.a)("Label"))}enableBulkLabelDropdown(){b.a.willUpdateLabels=!0}setDropdownData(e,t,i){let n=e.data("user-checked")||[],r=e.data("user-unchecked")||[];t?(n=s()(n,[i]),r=m()(r,[i])):(r=s()(r,[i]),n=m()(n,[i])),e.data("user-checked",n),e.data("user-unchecked",r)}setOriginalDropdownData(e,t){const i=[];e.find('[name="label_name[]"]').map((function(){return i.push(this.value)})),t.data("marked",i)}}},t2gO:function(e,t,i){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAAAAAAdJSU2AAACNElEQVR4AdXYBa7jMBCA4b3/JZahzIkjp2qt+BWUWnG5ln2XxaJJb2b5F2ukL4wvzK/rP7bUcbf92u6oftLSe1ldk8efsfaVeEjusZZeC6e1RllaCk/yG6ag1lZ4WwPX69uyD6tAe/g2ipAlNMRS37awDLaFrpcMWxXQOi0jnWCWjFkSZomYJWDWKmatYNZyEWkJsvQimoZYah5NgdaLxagCtF6GRy0DshZPkeYwS/KIJWGWYjwYUzDLxCwDtJ54OKglimBLqHWahii2g1pmHLLGBmwVoRjcKlmgOdw65H5qKuGWCVi5Qlhs6m1sENZi4q3AWNvca5UYy2RjT/SAsiZey6CsIvc0wVlV5lJ0ibPMyLUGCmlxQq0IM0hLdWyro7CWEc3sXsqaK4O2zLxOsmtpfW5Q1u68ZrVmepaaNXEewawtI9X5Xl3U3n1qND6+rfPzvqoIWz/fklNCSLY153YV53J/XUxGCJnKZ1lajsn3/Ffegf6Y5pV2LUsSNL2UHzxUfh3TlYpZqqTpXZm0KZk9zJcqaEmaWPHDw0pxe05K7bWOLHFLWXVetqpYmrjle4+1y0aBaF4UOQ1NU+lYezJClkjLUnSEjqhH6zjAW4OjtY39Ibq+sawUb6W2RQfoqG0VeKuwrRJvlba17faRdbe2pTtYq6Nty/S7yAbGsQjWIq41wVoT1+IdZNy1djUcVdu5lklQWC0xHkt1X31qNEE1Pr3qKv/9XiSNj6Aaifj3/69+AYujsR/MvkpZAAAAAElFTkSuQmCC"},tEGv:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("U1Ws");function s(e,t){const i=e.due_date||e.dueDate,s=t.due_date||t.dueDate,r=i?Object(n.z)(i):null,a=s?Object(n.z)(s):null,o=e.expired||Date.now()>(null==r?void 0:r.getTime()),l=t.expired||Date.now()>(null==a?void 0:a.getTime());return o?1:l?-1:r?a?r-a:-1:1}},tOjW:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));const n={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)}};function s(){return this.items.length&&"object"!=typeof this.items[0]}},tPEI:function(e,t,i){"use strict";i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return c}));var n=i("Z2pp"),s=i("DQ7i"),r=i("jyii"),a=i("gCUY");function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var l=Object(a.c)({tag:{type:String,default:"ul"},fill:{type:Boolean,default:!1},justified:{type:Boolean,default:!1},align:{type:String},tabs:{type:Boolean,default:!1},pills:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},small:{type:Boolean,default:!1},cardHeader:{type:Boolean,default:!1}},r.N),c=n.a.extend({name:r.N,functional:!0,props:l,render:function(e,t){var i,n,r=t.props,a=t.data,l=t.children;return e(r.tag,Object(s.a)(a,{staticClass:"nav",class:(i={"nav-tabs":r.tabs,"nav-pills":r.pills&&!r.tabs,"card-header-tabs":!r.vertical&&r.cardHeader&&r.tabs,"card-header-pills":!r.vertical&&r.cardHeader&&r.pills&&!r.tabs,"flex-column":r.vertical,"nav-fill":!r.vertical&&r.fill,"nav-justified":!r.vertical&&r.justified},o(i,(n=r.align,"justify-content-".concat(n="left"===n?"start":"right"===n?"end":n)),!r.vertical&&r.align),o(i,"small",r.small),i)}),l)}})},tPfb:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetTimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"incidentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssueID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"incidentManagementTimelineEvents"},arguments:[{kind:"Argument",name:{kind:"Name",value:"incidentId"},value:{kind:"Variable",name:{kind:"Name",value:"incidentId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"note"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"noteHtml"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"occurredAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:296}};i.loc.source={body:"query GetTimelineEvents($fullPath: ID!, $incidentId: IssueID!) {\n  project(fullPath: $fullPath) {\n    id\n    incidentManagementTimelineEvents(incidentId: $incidentId) {\n      nodes {\n        id\n        note\n        noteHtml\n        action\n        occurredAt\n        createdAt\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.GetTimelineEvents=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"GetTimelineEvents")},tSMP:function(e,t,i){"use strict";var n=i("kMtG"),s=i.n(n),r=i("/Jty"),a=i("Fcvx"),o=i("6IRw"),l=i.n(o);const c={components:{BFormInput:r.a},inheritAttrs:!1,model:{prop:"value",event:"input"},props:{size:{type:[String,Object],required:!1,default:null,validator:e=>(s()(e)?Object.values(e):[e]).every(e=>Object.values(a.v).includes(e))}},computed:{cssClasses(){if(null===this.size)return[];if(s()(this.size)){const{default:e,...t}=this.size;return[...e?["gl-form-input-"+e]:[],...Object.entries(t).map(e=>{let[t,i]=e;return`gl-${t}-form-input-${i}`})]}return["gl-form-input-"+this.size]},listeners(){var e=this;return{...this.$listeners,input:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];e.$emit("update",...i)},update:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];e.$emit("input",...i)}}}}};const d=l()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-form-input",this._g(this._b({staticClass:"gl-form-input",class:this.cssClasses},"b-form-input",this.$attrs,!1),this.listeners))},staticRenderFns:[]},void 0,c,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=d},tY3p:function(e,t,i){"use strict";i.d(t,"m",(function(){return b})),i.d(t,"e",(function(){return y})),i.d(t,"h",(function(){return k})),i.d(t,"i",(function(){return w})),i.d(t,"j",(function(){return S})),i.d(t,"p",(function(){return E})),i.d(t,"b",(function(){return D})),i.d(t,"a",(function(){return T})),i.d(t,"q",(function(){return C})),i.d(t,"o",(function(){return x})),i.d(t,"n",(function(){return N})),i.d(t,"g",(function(){return F})),i.d(t,"l",(function(){return L})),i.d(t,"f",(function(){return P})),i.d(t,"d",(function(){return R})),i.d(t,"k",(function(){return q})),i.d(t,"r",(function(){return $})),i.d(t,"c",(function(){return B}));var n=i("pY+i"),s=i.n(n),r=i("SjdM"),a=i.n(r),o=(i("h8Et"),i("WmlO"),i("3R5X"),i("W9Nl"),i("uHfJ"),i("R0RX"),i("JHu5"),i("XUYm"),i("0no1"),i("gdbl"),i("ylB9"),i("XexO"),i("ujLG"),i("HaUQ"),i("1HOK")),l=i("yZaS"),c=i("pmYr");const d=function(e){return["new","new-nonewline"].includes(e.type)},u=function(e){return["old","old-nonewline"].includes(e.type)},p=function(e){return!e.type},h=function(e){return["match",l.B,"new-nonewline","old-nonewline"].includes(e.type)},m=function(e){return[l.e,l.f].includes(e.type)},f=function(e){return e.type===l.d},g=function(e){return e.type===l.g},v=function(e){return e.type===l.h},b=function(e,t){let i=null,n=-1;const s=[];let r=0;for(let a=0,o=e.length,c=0;a<o;a+=1){const o=e[a];if(o.chunk=r,h(o)&&o.type!==l.B&&(r+=1),u(o)||g(o)||t)s.push({[l.J]:o,[l.K]:null}),null===i&&(i=c),c+=1;else if(d(o)||v(o))if(null!==i){s[i].right=o;const e=i+1;i=e<c?e:null}else s.push({[l.J]:null,[l.K]:o}),i=null,c+=1;else(h(o)||p(o)||m(o)||f(o)&&t)&&(n<=0?(s.push({[l.J]:o,[l.K]:!t&&o}),!t&&m(o)&&(n=c),i=null,c+=1):(s[n][l.K]=o,n=-1))}return s};function y(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"file_hash";return e.find((function(e){return e[i]===t}))}function k(e){const{commit:t,note:i,noteableType:n,noteableData:s,diffFile:r,noteTargetLine:a,diffViewType:o,linePosition:c,positionType:d,lineRange:u}=e,p=JSON.stringify({base_sha:r.diff_refs.base_sha,start_sha:r.diff_refs.start_sha,head_sha:r.diff_refs.head_sha,old_path:r.old_path,new_path:r.new_path,position_type:d||l.db,old_line:a?a.old_line:null,new_line:a?a.new_line:null,x:e.x,y:e.y,width:e.width,height:e.height,line_range:u});return{view:o,line_type:c===l.K?l.S:l.V,merge_request_diff_head_sha:r.diff_refs.head_sha,in_reply_to_discussion_id:"",note_project_id:"",target_type:s.targetType,target_id:s.id,return_discussion:!0,note:{note:i,position:p,noteable_type:n,noteable_id:s.id,commit_id:t&&t.id,type:r.diff_refs.start_sha&&r.diff_refs.head_sha?l.r:l.G,line_code:a?a.line_code:null}}}function w(e){const t=k(e);return{endpoint:e.noteableData.create_note_path,data:t}}const _=function(e,t){const{oldLineNumber:i,newLineNumber:n}=t;return e.findIndex((function(e){return e.old_line===i&&e.new_line===n}))},S=function(e,t){return _(e[l.E],t)};function E(e,t,i){const n=_(e[l.E],t),s=i?1:-1;n>-1&&e[l.E].splice(n+s,1)}function D(e,t,i,n,s){const{oldLineNumber:r,newLineNumber:a}=t,o=e.length;let c=-1;const d=e.map((function(e,t){return e.type===l.L?c=t:Object.assign(e,{old_line:i?r+t+1:r+t-o,new_line:i?a+t+1:a+t-o}),e}));if(c>-1){const e=d[c];let t;t=n?s:i?d[c-1]:d[c+1],Object.assign(e,{meta_data:{old_pos:t.old_line,new_pos:t.new_line}})}return d}function T(e){!function(e){const{inlineLines:t,contextLines:i,lineNumbers:n,isExpandDown:s}=e,r=s?1:0;if(!s&&e.bottom)t.push(...i);else{const e=_(t,n);t.splice(e+r,0,...i)}}(e)}function C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};delete e.text;const t={...e};if(e.rich_text){const i=t.rich_text.charAt(0);" "!==i&&"+"!==i&&"-"!==i||(t.rich_text=e.rich_text.substring(1))}return t}function I(e,t){const i=e[l.E],n=!i.length;return{...e,[l.E]:n?t[l.E]:i,parallel_diff_lines:null,renderIt:t.renderIt,collapsed:t.collapsed}}function O(e){const t=!e[l.E];return Object.assign(e,{[l.E]:t?[]:e[l.E],parallel_diff_lines:null}),e}function j(e,t){const i={brokenSymlink:t.brokenSymlink,brokenLineCode:!e.line_code,fileOnlyMoved:t.renamed_file&&0===t.added_lines&&0===t.removed_lines};var n;e.alreadyPrepared||Object.assign(e,{commentsDisabled:Boolean(i.brokenSymlink||i.fileOnlyMoved||i.brokenLineCode),rich_text:(n=e.rich_text,n?n.replace(/^[+ -]/,""):void 0),discussionsExpanded:!0,discussions:[],hasForm:!1,text:void 0,alreadyPrepared:!0,problems:i})}function x(e){let{line:t,diffFile:i,index:n=0}=e;const s=n+1,r={...t,line_code:`${i.file_hash}_${s}_${s}`,new_line:s,old_line:s};return j(r,i),r}function A(e){return e[l.E].forEach((function(t){return j(t,e)})),e}function N(e){let{diff:t,priorFiles:i=[],meta:n=!1}=e;return function(e){const t=e.reduce((function(e,t){const i=function(e){return`${e.content_sha}-${e.file_hash}`}(t);return{...e,[i]:e[i]?I(e[i],t):t}}),{});return Object.values(t)}([...i,...(t.diff_files||[]).map((function(e,t,i){return Object(c.f)({file:e,allFiles:i,meta:n,index:t})})).map(O).map(A).map((function(e){return function(e){return Object.assign(e,{renderIt:!0,isShowingFullFile:!1,isLoadingFullFile:!1,discussions:[],renderingLines:!1}),e}(e)}))])}function F(e){return e.reduce((function(e,t){return t[l.E].forEach((function(i){e.push({file:t,line:i})})),e}),[]).reduce((function(e,t){let{file:i,line:n}=t;return n.line_code&&(e[n.line_code]={base_sha:i.diff_refs.base_sha,head_sha:i.diff_refs.head_sha,start_sha:i.diff_refs.start_sha,new_path:i.new_path,old_path:i.old_path,old_line:n.old_line,new_line:n.new_line,line_range:null,line_code:n.line_code,position_type:"text"}),e}),{})}function L(e){let{discussion:t,diffPosition:i,latestDiff:n}=e;if(!i)return!1;const{line_code:r,...a}=i,{line_range:o,...l}=a;if(t.original_position&&t.position){const e=function(e){const{line_range:t,...i}=e;return i};return[t.original_position,t.position,...t.positions||[]].map(e).some((function(e){return s()(e,l)}))}return n&&t.active&&r===t.line_code}const P=function(e){const t=Object.keys(o.w).find((function(t){return e[t+"_file"]}));return o.w[t]||e.viewer&&e.viewer.name===o.y.mode_changed&&o.y.mode_changed||o.w.replaced},R=function(e){let{diffLines:t,data:i,typeKey:n,oldLineKey:s,newLineKey:r,mapLine:o}=e;const l=i.length,c=[];for(let e=0,d=t.length;e<d;e+=1){const d=t[e];if("match"===a()(n)(d)){const n=t[e-1],d=t[e+1],u=a()(r),p=u(n)||0,h=u(d)-1||l;c.push(...i.slice(p,h).map((function(e,t){return o({line:Object.assign(e,{hasForm:!1,discussions:[]}),oldLine:(a()(s)(n)||0)+t+1,newLine:(u(n)||0)+t+1})})))}else c.push(d)}return c},q=function(e){return requestIdleCallback(e)};const $=function(e,t,i){(function(e,t){return e[l.E].filter((function(e){return e.line_code===t}))})(e,t).forEach(i)},B=function(e){let t=!0;return e[l.E].forEach((function(e){!function(e){e&&e.discussions.length&&(t=t&&e.discussionsExpanded)}(e)})),t}},tbUO:function(e,t,i){"use strict";var n=i("toOR");t.a={computed:{noteableType(){const e=this.discussion?this.discussion.notes[0]:this.note;return n.NOTEABLE_TYPE_MAPPING[e.noteable_type]}}}},toOR:function(e,t,i){"use strict";i.r(t),i.d(t,"DISCUSSION_NOTE",(function(){return s})),i.d(t,"DIFF_NOTE",(function(){return r})),i.d(t,"DISCUSSION",(function(){return a})),i.d(t,"NOTE",(function(){return o})),i.d(t,"SYSTEM_NOTE",(function(){return l})),i.d(t,"COMMENT",(function(){return c})),i.d(t,"OPENED",(function(){return d})),i.d(t,"REOPENED",(function(){return u})),i.d(t,"CLOSED",(function(){return p})),i.d(t,"MERGED",(function(){return h})),i.d(t,"ISSUE_NOTEABLE_TYPE",(function(){return m})),i.d(t,"EPIC_NOTEABLE_TYPE",(function(){return f})),i.d(t,"MERGE_REQUEST_NOTEABLE_TYPE",(function(){return g})),i.d(t,"INCIDENT_NOTEABLE_TYPE",(function(){return v})),i.d(t,"UNRESOLVE_NOTE_METHOD_NAME",(function(){return b})),i.d(t,"RESOLVE_NOTE_METHOD_NAME",(function(){return y})),i.d(t,"DESCRIPTION_TYPE",(function(){return k})),i.d(t,"DISCUSSION_FILTERS_DEFAULT_VALUE",(function(){return w})),i.d(t,"COMMENTS_ONLY_FILTER_VALUE",(function(){return _})),i.d(t,"HISTORY_ONLY_FILTER_VALUE",(function(){return S})),i.d(t,"DISCUSSION_TAB_LABEL",(function(){return E})),i.d(t,"NOTE_UNDERSCORE",(function(){return D})),i.d(t,"TIME_DIFFERENCE_VALUE",(function(){return T})),i.d(t,"ASC",(function(){return C})),i.d(t,"DESC",(function(){return I})),i.d(t,"DISCUSSION_FETCH_TIMEOUT",(function(){return O})),i.d(t,"NOTEABLE_TYPE_MAPPING",(function(){return j})),i.d(t,"DISCUSSION_FILTER_TYPES",(function(){return x})),i.d(t,"toggleStateErrorMessage",(function(){return A}));var n=i("t9l/");const s="DiscussionNote",r="DiffNote",a="discussion",o="note",l="systemNote",c="comment",d="opened",u="reopened",p="closed",h="merged",m="Issue",f="Epic",g="MergeRequest",v="INCIDENT",b="delete",y="post",k="changed the description",w=0,_=1,S=2,E="show",D="note_",T=10,C="asc",I="desc",O=750,j={Issue:m,MergeRequest:g,Epic:f,Incident:v},x={ALL:"all",COMMENTS:"comments",HISTORY:"history"},A={Epic:{[p]:Object(n.a)("Something went wrong while reopening the epic. Please try again later."),[d]:Object(n.a)("Something went wrong while closing the epic. Please try again later."),[u]:Object(n.a)("Something went wrong while closing the epic. Please try again later.")},MergeRequest:{[p]:Object(n.a)("Something went wrong while reopening the merge request. Please try again later."),[d]:Object(n.a)("Something went wrong while closing the merge request. Please try again later."),[u]:Object(n.a)("Something went wrong while closing the merge request. Please try again later.")}}},tzcr:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"title"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"color"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"groupPath"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labelCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"title"},value:{kind:"Variable",name:{kind:"Name",value:"title"}}},{kind:"ObjectField",name:{kind:"Name",value:"color"},value:{kind:"Variable",name:{kind:"Name",value:"color"}}},{kind:"ObjectField",name:{kind:"Name",value:"projectPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}},{kind:"ObjectField",name:{kind:"Name",value:"groupPath"},value:{kind:"Variable",name:{kind:"Name",value:"groupPath"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Label"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:316}};n.loc.source={body:'#import "~/graphql_shared/fragments/label.fragment.graphql"\n\nmutation createLabel($title: String!, $color: String, $projectPath: ID, $groupPath: ID) {\n  labelCreate(\n    input: { title: $title, color: $color, projectPath: $projectPath, groupPath: $groupPath }\n  ) {\n    label {\n      ...Label\n    }\n    errors\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("NwwH").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var r={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.createLabel=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(n,"createLabel")},u5hK:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateTimelineEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"TimelineEventUpdateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineEventUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineEvent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"note"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"noteHtml"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"occurredAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:229}};i.loc.source={body:"mutation UpdateTimelineEvent($input: TimelineEventUpdateInput!) {\n  timelineEventUpdate(input: $input) {\n    timelineEvent {\n      id\n      note\n      noteHtml\n      action\n      occurredAt\n      createdAt\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.UpdateTimelineEvent=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"UpdateTimelineEvent")},uCy4:function(e,t,i){
/*!
 * Pikaday
 *
 * Copyright  2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
 */
!function(t,n){"use strict";var s;try{s=i(!function(){var e=new Error("Cannot find module 'moment'");throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}e.exports=function(e){var t="function"==typeof e,i=!!window.addEventListener,n=window.document,s=window.setTimeout,r=function(e,t,n,s){i?e.addEventListener(t,n,!!s):e.attachEvent("on"+t,n)},a=function(e,t,n,s){i?e.removeEventListener(t,n,!!s):e.detachEvent("on"+t,n)},o=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},l=function(e,t){o(e,t)||(e.className=""===e.className?t:e.className+" "+t)},c=function(e,t){var i;e.className=(i=(" "+e.className+" ").replace(" "+t+" "," ")).trim?i.trim():i.replace(/^\s+|\s+$/g,"")},d=function(e){return/Array/.test(Object.prototype.toString.call(e))},u=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},p=function(e){var t=e.getDay();return 0===t||6===t},h=function(e){return e%4==0&&e%100!=0||e%400==0},m=function(e,t){return[31,h(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},f=function(e){u(e)&&e.setHours(0,0,0,0)},g=function(e,t){return e.getTime()===t.getTime()},v=function(e,t,i){var n,s;for(n in t)(s=void 0!==e[n])&&"object"==typeof t[n]&&null!==t[n]&&void 0===t[n].nodeName?u(t[n])?i&&(e[n]=new Date(t[n].getTime())):d(t[n])?i&&(e[n]=t[n].slice(0)):e[n]=v({},t[n],i):!i&&s||(e[n]=t[n]);return e},b=function(e,t,i){var s;n.createEvent?((s=n.createEvent("HTMLEvents")).initEvent(t,!0,!1),s=v(s,i),e.dispatchEvent(s)):n.createEventObject&&(s=n.createEventObject(),s=v(s,i),e.fireEvent("on"+t,s))},y=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},k={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},w=function(e,t,i){for(t+=e.firstDay;t>=7;)t-=7;return i?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},_=function(e){var t=[],i="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),i="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+i+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},S=function(e,t,i,n){return'<tr class="pika-row'+(i?" pick-whole-week":"")+(n?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"},E=function(e,t,i,n,s,r){var a,o,l,c,u,p=e._o,h=i===p.minYear,m=i===p.maxYear,f='<div id="'+r+'" class="pika-title" role="heading" aria-live="assertive">',g=!0,v=!0;for(l=[],a=0;a<12;a++)l.push('<option value="'+(i===s?a-t:12+a-t)+'"'+(a===n?' selected="selected"':"")+(h&&a<p.minMonth||m&&a>p.maxMonth?'disabled="disabled"':"")+">"+p.i18n.months[a]+"</option>");for(c='<div class="pika-label">'+p.i18n.months[n]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",d(p.yearRange)?(a=p.yearRange[0],o=p.yearRange[1]+1):(a=i-p.yearRange,o=1+i+p.yearRange),l=[];a<o&&a<=p.maxYear;a++)a>=p.minYear&&l.push('<option value="'+a+'"'+(a===i?' selected="selected"':"")+">"+a+"</option>");return u='<div class="pika-label">'+i+p.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",p.showMonthAfterYear?f+=u+c:f+=c+u,h&&(0===n||p.minMonth>=n)&&(g=!1),m&&(11===n||p.maxMonth<=n)&&(v=!1),0===t&&(f+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+p.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(f+='<button class="pika-next'+(v?"":" is-disabled")+'" type="button">'+p.i18n.nextMonth+"</button>"),f+"</div>"},D=function(a){var l=this,c=l.config(a);l._onMouseDown=function(e){if(l._v){var t=(e=e||window.event).target||e.srcElement;if(t)if(o(t,"is-disabled")||(!o(t,"pika-button")||o(t,"is-empty")||o(t.parentNode,"is-disabled")?o(t,"pika-prev")?l.prevMonth():o(t,"pika-next")&&l.nextMonth():(l.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),c.bound&&s((function(){l.hide(),c.blurFieldOnSelect&&c.field&&c.field.blur()}),100))),o(t,"pika-select"))l._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},l._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(o(t,"pika-select-month")?l.gotoMonth(t.value):o(t,"pika-select-year")&&l.gotoYear(t.value))},l._onKeyChange=function(e){if(e=e||window.event,l.isVisible())switch(e.keyCode){case 13:case 27:c.field&&c.field.blur();break;case 37:e.preventDefault(),l.adjustDate("subtract",1);break;case 38:l.adjustDate("subtract",7);break;case 39:l.adjustDate("add",1);break;case 40:l.adjustDate("add",7)}},l._onInputChange=function(i){var n;i.firedBy!==l&&(n=c.parse?c.parse(c.field.value,c.format):t?(n=e(c.field.value,c.format,c.formatStrict))&&n.isValid()?n.toDate():null:new Date(Date.parse(c.field.value)),u(n)&&l.setDate(n),l._v||l.show())},l._onInputFocus=function(){l.show()},l._onInputClick=function(){l.show()},l._onInputBlur=function(){var e=n.activeElement;do{if(o(e,"pika-single"))return}while(e=e.parentNode);l._c||(l._b=s((function(){l.hide()}),50)),l._c=!1},l._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,n=t;if(t){!i&&o(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),r(t,"change",l._onChange)));do{if(o(n,"pika-single")||n===c.trigger)return}while(n=n.parentNode);l._v&&t!==c.trigger&&n!==c.trigger&&l.hide()}},l.el=n.createElement("div"),l.el.className="pika-single"+(c.isRTL?" is-rtl":"")+(c.theme?" "+c.theme:""),r(l.el,"mousedown",l._onMouseDown,!0),r(l.el,"touchend",l._onMouseDown,!0),r(l.el,"change",l._onChange),c.keyboardInput&&r(n,"keydown",l._onKeyChange),c.field&&(c.container?c.container.appendChild(l.el):c.bound?n.body.appendChild(l.el):c.field.parentNode.insertBefore(l.el,c.field.nextSibling),r(c.field,"change",l._onInputChange),c.defaultDate||(t&&c.field.value?c.defaultDate=e(c.field.value,c.format).toDate():c.defaultDate=new Date(Date.parse(c.field.value)),c.setDefaultDate=!0));var d=c.defaultDate;u(d)?c.setDefaultDate?l.setDate(d,!0):l.gotoDate(d):l.gotoDate(new Date),c.bound?(this.hide(),l.el.className+=" is-bound",r(c.trigger,"click",l._onInputClick),r(c.trigger,"focus",l._onInputFocus),r(c.trigger,"blur",l._onInputBlur)):this.show()};return D.prototype={config:function(e){this._o||(this._o=v({},k,!0));var t=v(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var i=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=i>4?4:i,u(t.minDate)||(t.minDate=!1),u(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),d(t.yearRange)){var n=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||n,t.yearRange[1]=parseInt(t.yearRange[1],10)||n}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||k.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(i){return i=i||this._o.format,u(this._d)?this._o.toString?this._o.toString(this._d,i):t?e(this._d).format(i):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(i,n){t&&e.isMoment(i)&&this.setDate(i.toDate(),n)},getDate:function(){return u(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",b(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),u(e)){var i=this._o.minDate,n=this._o.maxDate;u(i)&&e<i?e=i:u(n)&&e>n&&(e=n),this._d=new Date(e.getTime()),f(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),b(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(u(e)){if(this.calendars){var i=new Date(this.calendars[0].year,this.calendars[0].month,1),n=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),s=e.getTime();n.setMonth(n.getMonth()+1),n.setDate(n.getDate()-1),t=s<i.getTime()||n.getTime()<s}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(e,t){var i,n=this.getDate()||new Date,s=24*parseInt(t)*60*60*1e3;"add"===e?i=new Date(n.valueOf()+s):"subtract"===e&&(i=new Date(n.valueOf()-s)),this.setDate(i)},adjustCalendars:function(){this.calendars[0]=y(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=y({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(f(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=k.minDate,this._o.minYear=k.minYear,this._o.minMonth=k.minMonth,this._o.startRange=k.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(f(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=k.maxDate,this._o.maxYear=k.maxYear,this._o.maxMonth=k.maxMonth,this._o.endRange=k.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,i=this._o,n=i.minYear,r=i.maxYear,a=i.minMonth,o=i.maxMonth,l="";this._y<=n&&(this._y=n,!isNaN(a)&&this._m<a&&(this._m=a)),this._y>=r&&(this._y=r,!isNaN(o)&&this._m>o&&(this._m=o)),t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var c=0;c<i.numberOfMonths;c++)l+='<div class="pika-lendar">'+E(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year,t)+this.render(this.calendars[c].year,this.calendars[c].month,t)+"</div>";this.el.innerHTML=l,i.bound&&"hidden"!==i.field.type&&s((function(){i.trigger.focus()}),1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),i.bound&&i.field.setAttribute("aria-label",i.ariaLabel)}},adjustPosition:function(){var e,t,i,s,r,a,o,d,u,p,h,m;if(!this._o.container){if(this.el.style.position="absolute",t=e=this._o.trigger,i=this.el.offsetWidth,s=this.el.offsetHeight,r=window.innerWidth||n.documentElement.clientWidth,a=window.innerHeight||n.documentElement.clientHeight,o=window.pageYOffset||n.body.scrollTop||n.documentElement.scrollTop,h=!0,m=!0,"function"==typeof e.getBoundingClientRect)d=(p=e.getBoundingClientRect()).left+window.pageXOffset,u=p.bottom+window.pageYOffset;else for(d=t.offsetLeft,u=t.offsetTop+t.offsetHeight;t=t.offsetParent;)d+=t.offsetLeft,u+=t.offsetTop;(this._o.reposition&&d+i>r||this._o.position.indexOf("right")>-1&&d-i+e.offsetWidth>0)&&(d=d-i+e.offsetWidth,h=!1),(this._o.reposition&&u+s>a+o||this._o.position.indexOf("top")>-1&&u-s-e.offsetHeight>0)&&(u=u-s-e.offsetHeight,m=!1),this.el.style.left=d+"px",this.el.style.top=u+"px",l(this.el,h?"left-aligned":"right-aligned"),l(this.el,m?"bottom-aligned":"top-aligned"),c(this.el,h?"right-aligned":"left-aligned"),c(this.el,m?"top-aligned":"bottom-aligned")}},render:function(e,t,i){var n=this._o,s=new Date,r=m(e,t),a=new Date(e,t,1).getDay(),o=[],l=[];f(s),n.firstDay>0&&(a-=n.firstDay)<0&&(a+=7);for(var c=0===t?11:t-1,d=11===t?0:t+1,h=0===t?e-1:e,v=11===t?e+1:e,b=m(h,c),y=r+a,k=y;k>7;)k-=7;y+=7-k;for(var E,D,T,C,I=!1,O=0,j=0;O<y;O++){var x=new Date(e,t,O-a+1),A=!!u(this._d)&&g(x,this._d),N=g(x,s),F=-1!==n.events.indexOf(x.toDateString()),L=O<a||O>=r+a,P=O-a+1,R=t,q=e,$=n.startRange&&g(n.startRange,x),B=n.endRange&&g(n.endRange,x),M=n.startRange&&n.endRange&&n.startRange<x&&x<n.endRange;L&&(O<a?(P=b+P,R=c,q=h):(P-=r,R=d,q=v));var U={day:P,month:R,year:q,hasEvent:F,isSelected:A,isToday:N,isDisabled:n.minDate&&x<n.minDate||n.maxDate&&x>n.maxDate||n.disableWeekends&&p(x)||n.disableDayFn&&n.disableDayFn(x),isEmpty:L,isStartRange:$,isEndRange:B,isInRange:M,showDaysInNextAndPreviousMonths:n.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:n.enableSelectionDaysInNextAndPreviousMonths};n.pickWholeWeek&&A&&(I=!0),l.push(_(U)),7==++j&&(n.showWeekNumber&&l.unshift((E=O-a,D=t,T=e,C=void 0,void 0,C=new Date(T,0,1),'<td class="pika-week">'+Math.ceil(((new Date(T,D,E)-C)/864e5+C.getDay()+1)/7)+"</td>")),o.push(S(l,n.isRTL,n.pickWholeWeek,I)),l=[],j=0,I=!1)}return function(e,t,i){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+i+'">'+function(e){var t,i=[];e.showWeekNumber&&i.push("<th></th>");for(t=0;t<7;t++)i.push('<th scope="col"><abbr title="'+w(e,t)+'">'+w(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?i.reverse():i).join("")+"</tr></thead>"}(e)+(n=t,"<tbody>"+n.join("")+"</tbody></table>");var n}(n,o,i)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),c(this.el,"is-hidden"),this._o.bound&&(r(n,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;!1!==e&&(this._o.bound&&a(n,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",l(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var e=this._o;this.hide(),a(this.el,"mousedown",this._onMouseDown,!0),a(this.el,"touchend",this._onMouseDown,!0),a(this.el,"change",this._onChange),e.keyboardInput&&a(n,"keydown",this._onKeyChange),e.field&&(a(e.field,"change",this._onInputChange),e.bound&&(a(e.trigger,"click",this._onInputClick),a(e.trigger,"focus",this._onInputFocus),a(e.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},D}(s)}()},uPWg:function(e,t,i){"use strict";var n=i("F+K/"),s=i("CkNe"),r={components:{GlBadge:n.a},props:{variant:{type:String,required:!1,default:"info"}},computed:{...Object(s.d)("batchComments",["draftsCount"])}},a=i("bPvS"),o=Object(a.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-badge",{staticClass:"gl-ml-2",attrs:{size:"sm",variant:e.variant}},[e._v("\n  "+e._s(e.draftsCount)+"\n  "),i("span",{staticClass:"sr-only"},[e._v(" "+e._s(e.n__("draft","drafts",e.draftsCount))+" ")])])}),[],!1,null,null,null);t.a=o.exports},uSzn:function(e,t,i){"use strict";var n=i("Zqnx"),s=i.n(n),r=i("mABg"),a=i.n(r),o=i("Z2pp"),l=i("jyii"),c=i("/Zha"),d=i("gCUY"),u=i("Sy48"),p=i("1pIC"),h=i("GpHn"),m=o.a.extend({name:l.W,mixins:[p.a,h.a],inject:{bvTabs:{default:function(){return{}}}},props:Object(d.c)({active:{type:Boolean,default:!1},tag:{type:String,default:"div"},buttonId:{type:String},title:{type:String,default:""},titleItemClass:{type:[String,Array,Object]},titleLinkClass:{type:[String,Array,Object]},titleLinkAttributes:{type:Object},disabled:{type:Boolean,default:!1},noBody:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1}},l.W),data:function(){return{localActive:this.active&&!this.disabled,show:!1}},computed:{tabClasses:function(){return[{active:this.localActive,disabled:this.disabled,"card-body":this.bvTabs.card&&!this.noBody},this.localActive?this.bvTabs.activeTabClass:null]},controlledBy:function(){return this.buttonId||this.safeId("__BV_tab_button__")},computedNoFade:function(){return!this.bvTabs.fade},computedLazy:function(){return this.bvTabs.lazy||this.lazy},_isTab:function(){return!0}},watch:{localActive:function(e){this.$emit("update:active",e)},active:function(e,t){e!==t&&(e?this.activate():this.deactivate()||this.$emit("update:active",this.localActive))},disabled:function(e,t){if(e!==t){var i=this.bvTabs.firstTab;e&&this.localActive&&i&&(this.localActive=!1,i())}}},mounted:function(){this.registerTab(),this.show=this.localActive},updated:function(){var e=this.bvTabs.updateButton;e&&this.hasNormalizedSlot(c.i)&&e(this)},destroyed:function(){this.unregisterTab()},methods:{registerTab:function(){var e=this.bvTabs.registerTab;e&&e(this)},unregisterTab:function(){var e=this.bvTabs.unregisterTab;e&&e(this)},activate:function(){var e=this.bvTabs.activateTab;return!(!e||this.disabled)&&e(this)},deactivate:function(){var e=this.bvTabs.deactivateTab;return!(!e||!this.localActive)&&e(this)}},render:function(e){var t=this.localActive,i=e(this.tag,{ref:"panel",staticClass:"tab-pane",class:this.tabClasses,directives:[{name:"show",rawName:"v-show",value:t,expression:"localActive"}],attrs:{role:"tabpanel",id:this.safeId(),"aria-hidden":t?"false":"true","aria-labelledby":this.controlledBy||null}},[t||!this.computedLazy?this.normalizeSlot():e()]);return e(u.b,{props:{mode:"out-in",noFade:this.computedNoFade}},[i])}});var f=i("6IRw");const g={components:{BTab:m},inheritAttrs:!1,props:{titleLinkClass:{type:[String,Array,Object],required:!1,default:""},queryParamValue:{type:String,required:!1,default:null}},computed:{linkClass(){const{titleLinkClass:e}=this;return a()(e)?[...e,"gl-tab-nav-item"]:s()(e)?{...e,"gl-tab-nav-item":!0}:(e+" gl-tab-nav-item").trim()}}};const v=i.n(f)()({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-tab",e._g(e._b({attrs:{"title-link-class":e.linkClass,"query-param-value":e.queryParamValue},scopedSlots:e._u([e._l(Object.keys(e.$slots),(function(t){return{key:t,fn:function(){return[e._t(t)]},proxy:!0}}))],null,!0)},"b-tab",e.$attrs,!1),e.$listeners))},staticRenderFns:[]},void 0,g,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=v},uYaO:function(e,t,i){"use strict";var n=i("6oy4"),s=i.n(n),r=i("t9l/"),a=i("s1DB"),o=i("vRHk");t.a={methods:{initAutoSave(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[Object(r.g)("Autosave|Note"),Object(o.f)(e.noteable_type||e.noteableType),e.id];t&&(i=i.concat(t)),this.autosave=new a.a(s()(this.$refs.noteForm.$refs.textarea),i)},resetAutoSave(){this.autosave.reset()},setAutoSave(){this.autosave.save()},disposeAutoSave(){this.autosave.dispose()}}}},udFm:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"issueCrmContacts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssueID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CrmContacts"},directives:[]}]}}]}}],loc:{start:0,end:133}};n.loc.source={body:'#import "./issue_crm_contacts.fragment.graphql"\n\nquery issueCrmContacts($id: IssueID!) {\n  issue(id: $id) {\n    ...CrmContacts\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("Tw1G").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var r={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.issueCrmContacts=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(n,"issueCrmContacts")},ueyC:function(e,t){e.exports=function(e,t,i){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(i=i>s?s:i)<0&&(i+=s),s=t>i?0:i-t>>>0,t>>>=0;for(var r=Array(s);++n<s;)r[n]=e[n+t];return r}},uvwG:function(e,t,i){"use strict";i("ujLG"),i("3R5X"),i("HaUQ"),i("uHfJ"),i("R0RX");var n=i("H8gz"),s=i("cuRJ"),r=i("Fj12"),a=i("ly/8"),o=i("9LGn"),l=i("6oy4"),c=i.n(l),d=i("CkNe"),u={computed:{canSeeDescriptionVersion(){},displayDeleteButton(){},shouldShowDescriptionVersion(){},descriptionVersionToggleIcon(){}},methods:{toggleDescriptionVersion(){},deleteDescriptionVersion(){}}},p=(i("Skdl"),i("mphk")),h=i("t9l/"),m=i("dkhw"),f=i("Zxcm"),g=i("oj/M"),v=i("1jid");var b={i18n:{deleteButtonLabel:Object(h.a)("Remove description history")},name:"SystemNote",components:{GlIcon:n.a,NoteHeader:m.a,TimelineEntryItem:v.a,GlButton:s.a,GlSkeletonLoader:r.a},directives:{GlTooltip:a.a,SafeHtml:o.a},mixins:[u,Object(f.a)()],props:{note:{type:Object,required:!0}},data:()=>({expanded:!1,lines:[],showLines:!1,loadingDiff:!1}),computed:{...Object(d.d)(["targetNoteHash","descriptionVersions"]),...Object(d.f)(["isLoadingDescriptionVersion"]),noteAnchorId(){return"note_"+this.note.id},isTargetNote(){return this.targetNoteHash===this.noteAnchorId},iconHtml(){return Object(g.M)(this.note.system_note_icon_name)},toggleIcon(){return this.expanded?"chevron-up":"chevron-down"},actionTextHtml(){return c()(this.note.note_html).unwrap().html()},hasMoreCommits(){return c()(this.note.note_html).filter("ul").children().length>3},descriptionVersion(){return this.descriptionVersions[this.note.description_version_id]}},mounted(){c()(this.$refs["gfm-content"]).renderGFM()},methods:{...Object(d.c)(["fetchDescriptionVersion","softDeleteDescriptionVersion"]),async toggleDiff(){if(this.showLines=!this.showLines,!this.lines.length){this.loadingDiff=!0;const{data:e}=await p.a.get(this.note.outdated_line_change_path);this.lines=e.map((function(e){return{...e,rich_text:e.rich_text.replace(/^[+ -]/,"")}})),this.loadingDiff=!1}}},safeHtmlConfig:{ADD_TAGS:["use"]},userColorSchemeClass:window.gon.user_color_scheme},y=i("bPvS"),k=Object(y.a)(b,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("timeline-entry-item",{staticClass:"note system-note note-wrapper",class:{target:e.isTargetNote,"pr-0":e.shouldShowDescriptionVersion},attrs:{id:e.noteAnchorId}},[i("div",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.iconHtml,expression:"iconHtml",arg:e.$options.safeHtmlConfig}],staticClass:"timeline-icon"}),e._v(" "),i("div",{staticClass:"timeline-content"},[i("div",{staticClass:"note-header"},[i("note-header",{attrs:{author:e.note.author,"created-at":e.note.created_at,"note-id":e.note.id,"is-system-note":!0},scopedSlots:e._u([e.canSeeDescriptionVersion||e.note.outdated_line_change_path?{key:"extra-controls",fn:function(){return[e._v("\n          \n          "),e.canSeeDescriptionVersion?i("gl-button",{staticClass:"gl-vertical-align-text-bottom gl-font-sm!",attrs:{variant:"link",icon:e.descriptionVersionToggleIcon,"data-testid":"compare-btn"},on:{click:e.toggleDescriptionVersion}},[e._v(e._s(e.__("Compare with previous version")))]):e._e(),e._v(" "),e.note.outdated_line_change_path?i("gl-button",{staticClass:"gl-vertical-align-text-bottom gl-font-sm!",attrs:{icon:e.showLines?"chevron-up":"chevron-down",variant:"link","data-testid":"outdated-lines-change-btn"},on:{click:e.toggleDiff}},[e._v("\n            "+e._s(e.__("Compare changes"))+"\n          ")]):e._e()]},proxy:!0}:null],null,!0)},[i("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.actionTextHtml,expression:"actionTextHtml"}],ref:"gfm-content"})])],1),e._v(" "),i("div",{staticClass:"note-body"},[i("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.note.note_html,expression:"note.note_html"}],staticClass:"note-text md",class:{"system-note-commit-list":e.hasMoreCommits,"hide-shade":e.expanded}}),e._v(" "),e.hasMoreCommits?i("div",{staticClass:"flex-list"},[i("div",{staticClass:"system-note-commit-list-toggler flex-row",on:{click:function(t){e.expanded=!e.expanded}}},[i("gl-icon",{staticClass:"gl-mr-2",attrs:{name:e.toggleIcon,size:8}}),e._v(" "),i("span",[e._v(e._s(e.__("Toggle commit list")))])],1)]):e._e(),e._v(" "),e.shouldShowDescriptionVersion?i("div",{staticClass:"description-version pt-2"},[e.isLoadingDescriptionVersion?i("pre",{staticClass:"loading-state"},[e._v("          "),i("gl-skeleton-loader"),e._v("\n        ")],1):i("pre",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.descriptionVersion,expression:"descriptionVersion"}],staticClass:"wrapper mt-2"}),e._v(" "),e.displayDeleteButton?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"delete-description-history",attrs:{title:e.$options.i18n.deleteButtonLabel,"aria-label":e.$options.i18n.deleteButtonLabel,variant:"default",category:"tertiary",icon:"remove","data-testid":"delete-description-version-button"},on:{click:e.deleteDescriptionVersion}}):e._e()],1):e._e(),e._v(" "),e.lines.length&&e.showLines?i("div",{staticClass:"diff-content outdated-lines-wrapper gl-border-solid gl-border-1 gl-border-gray-200 gl-mt-4 gl-rounded-small gl-overflow-hidden"},[i("table",{staticClass:"code js-syntax-highlight",class:e.$options.userColorSchemeClass,attrs:{"data-testid":"outdated-lines"}},e._m(0),0)]):e.showLines?i("div",{staticClass:"mt-4"},[i("gl-skeleton-loader")],1):e._e()])])])}),[function(){var e=this,t=e.$createElement,i=e._self._c||t;return e._l(e.lines,(function(t){return i("tr",{key:t.line_code,staticClass:"line_holder"},[i("td",{staticClass:"diff-line-num old_line gl-border-bottom-0! gl-border-top-0!",class:t.type},[e._v("\n              "+e._s(t.old_line)+"\n            ")]),e._v(" "),i("td",{staticClass:"diff-line-num new_line gl-border-bottom-0! gl-border-top-0!",class:t.type},[e._v("\n              "+e._s(t.new_line)+"\n            ")]),e._v(" "),i("td",{staticClass:"line_content gl-display-table-cell!",class:t.type,domProps:{innerHTML:e._s(t.rich_text)}})])}))}],!1,null,null,null);t.a=k.exports},vAG4:function(e,t,i){var n=i("rbVQ"),s=i("MfoV"),r=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=s(e))&&e.replace(r,n).replace(a,"")}},"vP7+":function(e,t,i){(function(e,t){(function(){var i,n,s,r,a,o,l,c,d=[].slice,u={}.hasOwnProperty;l=function(){},n=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,i,n,s;if(i=arguments[0],e=2<=arguments.length?d.call(arguments,1):[],this._callbacks=this._callbacks||{},t=this._callbacks[i])for(n=0,s=t.length;n<s;n++)t[n].apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var i,n,s,r;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(i=this._callbacks[e]))return this;if(1===arguments.length)return delete this._callbacks[e],this;for(n=s=0,r=i.length;s<r;n=++s)if(i[n]===t){i.splice(n,1);break}return this},e}(),(i=function(e){var t,i;function s(e,i){var n,r,a;if(this.element=e,this.version=s.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(s.instances.push(this),this.element.dropzone=this,n=null!=(a=s.optionsForElement(this.element))?a:{},this.options=t({},this.defaultOptions,n,null!=i?i:{}),this.options.forceFallback||!s.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(r=this.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=s.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=s.getElements(this.options.clickable,"clickable")),this.init()}return function(e,t){for(var i in t)u.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(s,e),s.prototype.Emitter=n,s.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],s.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return l},forceFallback:!1,fallback:function(){var e,t,i,n,r,a;for(this.element.className=this.element.className+" dz-browser-not-supported",n=0,r=(a=this.element.getElementsByTagName("div")).length;n<r;n++)e=a[n],/(^| )dz-message($| )/.test(e.className)&&(t=e,e.className="dz-message");return t||(t=s.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),(i=t.getElementsByTagName("span")[0])&&(null!=i.textContent?i.textContent=this.options.dictFallbackMessage:null!=i.innerText&&(i.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,i,n;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},i=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=i*t.optHeight:null==t.optHeight&&(t.optHeight=1/i*t.optWidth),n=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):i>n?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*n):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/n),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:l,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:l,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,i,n,r,a,o,l,c,d,u,p,h,m;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=s.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),n=0,o=(d=e.previewElement.querySelectorAll("[data-dz-name]")).length;n<o;n++)d[n].textContent=e.name;for(r=0,l=(u=e.previewElement.querySelectorAll("[data-dz-size]")).length;r<l;r++)u[r].innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=s.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),m=this,t=function(t){return t.preventDefault(),t.stopPropagation(),e.status===s.UPLOADING?s.confirm(m.options.dictCancelUploadConfirmation,(function(){return m.removeFile(e)})):m.options.dictRemoveFileConfirmation?s.confirm(m.options.dictRemoveFileConfirmation,(function(){return m.removeFile(e)})):m.removeFile(e)},h=[],a=0,c=(p=e.previewElement.querySelectorAll("[data-dz-remove]")).length;a<c;a++)i=p[a],h.push(i.addEventListener("click",t));return h}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var i,n,s,r;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),n=0,s=(r=e.previewElement.querySelectorAll("[data-dz-thumbnail]")).length;n<s;n++)(i=r[n]).alt=e.name,i.src=t;return setTimeout((function(){return e.previewElement.classList.add("dz-image-preview")}),1)}},error:function(e,t){var i,n,s,r,a;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),a=[],n=0,s=(r=e.previewElement.querySelectorAll("[data-dz-errormessage]")).length;n<s;n++)i=r[n],a.push(i.textContent=t);return a}},errormultiple:l,processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:l,uploadprogress:function(e,t,i){var n,s,r,a,o;if(e.previewElement){for(o=[],s=0,r=(a=e.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;s<r;s++)"PROGRESS"===(n=a[s]).nodeName?o.push(n.value=t):o.push(n.style.width=t+"%");return o}},totaluploadprogress:l,sending:l,sendingmultiple:l,success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:l,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:l,complete:function(e){if(e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:l,maxfilesexceeded:l,maxfilesreached:l,queuecomplete:l,addedfiles:l,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},t=function(){var e,t,i,n,s,r,a;for(n=arguments[0],r=0,a=(i=2<=arguments.length?d.call(arguments,1):[]).length;r<a;r++)for(e in t=i[r])s=t[e],n[e]=s;return n},s.prototype.getAcceptedFiles=function(){var e,t,i,n,s;for(s=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).accepted&&s.push(e);return s},s.prototype.getRejectedFiles=function(){var e,t,i,n,s;for(s=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).accepted||s.push(e);return s},s.prototype.getFilesWithStatus=function(e){var t,i,n,s,r;for(r=[],i=0,n=(s=this.files).length;i<n;i++)(t=s[i]).status===e&&r.push(t);return r},s.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(s.QUEUED)},s.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(s.UPLOADING)},s.prototype.getAddedFiles=function(){return this.getFilesWithStatus(s.ADDED)},s.prototype.getActiveFiles=function(){var e,t,i,n,r;for(r=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).status!==s.UPLOADING&&e.status!==s.QUEUED||r.push(e);return r},s.prototype.init=function(){var e,t,i,n,r,a,o,l;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(s.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(l=this,(i=function(){return l.hiddenFileInput&&l.hiddenFileInput.parentNode.removeChild(l.hiddenFileInput),l.hiddenFileInput=document.createElement("input"),l.hiddenFileInput.setAttribute("type","file"),(null==l.options.maxFiles||l.options.maxFiles>1)&&l.hiddenFileInput.setAttribute("multiple","multiple"),l.hiddenFileInput.className="dz-hidden-input",null!=l.options.acceptedFiles&&l.hiddenFileInput.setAttribute("accept",l.options.acceptedFiles),null!=l.options.capture&&l.hiddenFileInput.setAttribute("capture",l.options.capture),l.hiddenFileInput.style.visibility="hidden",l.hiddenFileInput.style.position="absolute",l.hiddenFileInput.style.top="0",l.hiddenFileInput.style.left="0",l.hiddenFileInput.style.height="0",l.hiddenFileInput.style.width="0",document.querySelector(l.options.hiddenInputContainer).appendChild(l.hiddenFileInput),l.hiddenFileInput.addEventListener("change",(function(){var e,t,n,s;if((t=l.hiddenFileInput.files).length)for(n=0,s=t.length;n<s;n++)e=t[n],l.addFile(e);return l.emit("addedfiles",t),i()}))})()),this.URL=null!=(a=window.URL)?a:window.webkitURL,n=0,r=(o=this.events).length;n<r;n++)e=o[n],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout((function(){return e.emit("queuecomplete")}),0)}}(this)),t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(i){return t(i),e.emit("dragenter",i)}}(this),dragover:function(e){return function(i){var n;try{n=i.dataTransfer.effectAllowed}catch(e){}return i.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",t(i),e.emit("dragover",i)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(i){return t(i),e.drop(i)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(i){return(t!==e.element||i.target===e.element||s.elementInside(i.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},s.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,s.instances.splice(s.instances.indexOf(this),1)},s.prototype.updateTotalUploadProgress=function(){var e,t,i,n,s,r,a;if(i=0,t=0,this.getActiveFiles().length){for(s=0,r=(a=this.getActiveFiles()).length;s<r;s++)i+=(e=a[s]).upload.bytesSent,t+=e.upload.total;n=100*i/t}else n=100;return this.emit("totaluploadprogress",n,t,i)},s.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},s.prototype.getFallbackForm=function(){var e,t,i,n;return(e=this.getExistingFallback())?e:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=s.createElement(i),"FORM"!==this.element.tagName?(n=s.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(t):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:t)},s.prototype.getExistingFallback=function(){var e,t,i,n,s,r;for(t=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)if(t=e[i],/(^| )fallback($| )/.test(t.className))return t},n=0,s=(r=["div","form"]).length;n<s;n++)if(i=r[n],e=t(this.element.getElementsByTagName(i)))return e},s.prototype.setupEventListeners=function(){var e,t,i,n,s,r,a;for(a=[],n=0,s=(r=this.listeners).length;n<s;n++)e=r[n],a.push(function(){var n,s;for(t in s=[],n=e.events)i=n[t],s.push(e.element.addEventListener(t,i,!1));return s}());return a},s.prototype.removeEventListeners=function(){var e,t,i,n,s,r,a;for(a=[],n=0,s=(r=this.listeners).length;n<s;n++)e=r[n],a.push(function(){var n,s;for(t in s=[],n=e.events)i=n[t],s.push(e.element.removeEventListener(t,i,!1));return s}());return a},s.prototype.disable=function(){var e,t,i,n,s;for(this.clickableElements.forEach((function(e){return e.classList.remove("dz-clickable")})),this.removeEventListeners(),s=[],t=0,i=(n=this.files).length;t<i;t++)e=n[t],s.push(this.cancelUpload(e));return s},s.prototype.enable=function(){return this.clickableElements.forEach((function(e){return e.classList.add("dz-clickable")})),this.setupEventListeners()},s.prototype.filesize=function(e){var t,i,n,s,r,a,o;if(i=0,n="b",e>0){for(t=a=0,o=(r=["TB","GB","MB","KB","b"]).length;a<o;t=++a)if(s=r[t],e>=Math.pow(this.options.filesizeBase,4-t)/10){i=e/Math.pow(this.options.filesizeBase,4-t),n=s;break}i=Math.round(10*i)/10}return"<strong>"+i+"</strong> "+n},s.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},s.prototype.drop=function(e){var t,i;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,this.emit("addedfiles",t),t.length&&((i=e.dataTransfer.items)&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)))},s.prototype.paste=function(e){var t,i;if(null!=(null!=e&&null!=(i=e.clipboardData)?i.items:void 0))return this.emit("paste",e),(t=e.clipboardData.items).length?this._addFilesFromItems(t):void 0},s.prototype.handleFiles=function(e){var t,i,n,s;for(s=[],i=0,n=e.length;i<n;i++)t=e[i],s.push(this.addFile(t));return s},s.prototype._addFilesFromItems=function(e){var t,i,n,s,r;for(r=[],n=0,s=e.length;n<s;n++)null!=(i=e[n]).webkitGetAsEntry&&(t=i.webkitGetAsEntry())?t.isFile?r.push(this.addFile(i.getAsFile())):t.isDirectory?r.push(this._addFilesFromDirectory(t,t.name)):r.push(void 0):null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?r.push(this.addFile(i.getAsFile())):r.push(void 0);return r},s.prototype._addFilesFromDirectory=function(e,t){var i,n,s;return i=e.createReader(),s=this,n=function(e){var i,n,r;for(n=0,r=e.length;n<r;n++)(i=e[n]).isFile?i.file((function(e){if(!s.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath=t+"/"+e.name,s.addFile(e)})):i.isDirectory&&s._addFilesFromDirectory(i,t+"/"+i.name)},i.readEntries(n,(function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0}))},s.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):s.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},s.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=s.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(t=this,function(i){return i?(e.accepted=!1,t._errorProcessing([e],i)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}));var t},s.prototype.enqueueFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)t=e[i],this.enqueueFile(t);return null},s.prototype.enqueueFile=function(e){if(e.status!==s.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=s.QUEUED,this.options.autoProcessQueue)return setTimeout((t=this,function(){return t.processQueue()}),0);var t},s.prototype._thumbnailQueue=[],s.prototype._processingThumbnail=!1,s.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((t=this,function(){return t._processThumbnailQueue()}),0);var t},s.prototype._processThumbnailQueue=function(){var e;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),(e=this,function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}))},s.prototype.removeFile=function(e){if(e.status===s.UPLOADING&&this.cancelUpload(e),this.files=c(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")},s.prototype.removeAllFiles=function(e){var t,i,n,r;for(null==e&&(e=!1),i=0,n=(r=this.files.slice()).length;i<n;i++)((t=r[i]).status!==s.UPLOADING||e)&&this.removeFile(t);return null},s.prototype.createThumbnail=function(e,t){var i,n;return(i=new FileReader).onload=(n=this,function(){return"image/svg+xml"===e.type?(n.emit("thumbnail",e,i.result),void(null!=t&&t())):n.createThumbnailFromUrl(e,i.result,t)}),i.readAsDataURL(e)},s.prototype.createThumbnailFromUrl=function(e,t,i,n){var s,r;return s=document.createElement("img"),n&&(s.crossOrigin=n),s.onload=(r=this,function(){var t,n,a,l,c,d,u,p;if(e.width=s.width,e.height=s.height,null==(a=r.options.resize.call(r,e)).trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),n=(t=document.createElement("canvas")).getContext("2d"),t.width=a.trgWidth,t.height=a.trgHeight,o(n,s,null!=(c=a.srcX)?c:0,null!=(d=a.srcY)?d:0,a.srcWidth,a.srcHeight,null!=(u=a.trgX)?u:0,null!=(p=a.trgY)?p:0,a.trgWidth,a.trgHeight),l=t.toDataURL("image/png"),r.emit("thumbnail",e,l),null!=i)return i()}),null!=i&&(s.onerror=i),s.src=t},s.prototype.processQueue=function(){var e,t,i,n;if(t=this.options.parallelUploads,e=i=this.getUploadingFiles().length,!(i>=t)&&(n=this.getQueuedFiles()).length>0){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));for(;e<t;){if(!n.length)return;this.processFile(n.shift()),e++}}},s.prototype.processFile=function(e){return this.processFiles([e])},s.prototype.processFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)(t=e[i]).processing=!0,t.status=s.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},s.prototype._getFilesWithXhr=function(e){var t;return function(){var i,n,s,r;for(r=[],i=0,n=(s=this.files).length;i<n;i++)(t=s[i]).xhr===e&&r.push(t);return r}.call(this)},s.prototype.cancelUpload=function(e){var t,i,n,r,a,o,l;if(e.status===s.UPLOADING){for(n=0,a=(i=this._getFilesWithXhr(e.xhr)).length;n<a;n++)(t=i[n]).status=s.CANCELED;for(e.xhr.abort(),r=0,o=i.length;r<o;r++)t=i[r],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(l=e.status)!==s.ADDED&&l!==s.QUEUED||(e.status=s.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()},i=function(){var e,t;return t=arguments[0],e=2<=arguments.length?d.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},s.prototype.uploadFile=function(e){return this.uploadFiles([e])},s.prototype.uploadFiles=function(e){var n,r,a,o,l,c,d,u,p,h,m,f,g,v,b,y,k,w,_,S,E,D,T,C,I,O,j,x,A,N,F,L,P,R;for(w=new XMLHttpRequest,_=0,T=e.length;_<T;_++)(n=e[_]).xhr=w;for(o in f=i(this.options.method,e),y=i(this.options.url,e),w.open(f,y,!0),w.withCredentials=!!this.options.withCredentials,v=null,R=this,a=function(){var t,i,s;for(s=[],t=0,i=e.length;t<i;t++)n=e[t],s.push(R._errorProcessing(e,v||R.options.dictResponseError.replace("{{statusCode}}",w.status),w));return s},b=function(t){return function(i){var s,r,a,o,l,c,d,u,p;if(null!=i)for(r=100*i.loaded/i.total,a=0,c=e.length;a<c;a++)(n=e[a]).upload={progress:r,total:i.total,bytesSent:i.loaded};else{for(s=!0,r=100,o=0,d=e.length;o<d;o++)100===(n=e[o]).upload.progress&&n.upload.bytesSent===n.upload.total||(s=!1),n.upload.progress=r,n.upload.bytesSent=n.upload.total;if(s)return}for(p=[],l=0,u=e.length;l<u;l++)n=e[l],p.push(t.emit("uploadprogress",n,r,n.upload.bytesSent));return p}}(this),w.onload=function(t){return function(i){var n;if(e[0].status!==s.CANCELED&&4===w.readyState){if(v=w.responseText,w.getResponseHeader("content-type")&&~w.getResponseHeader("content-type").indexOf("application/json"))try{v=JSON.parse(v)}catch(e){i=e,v="Invalid JSON response from server."}return b(),200<=(n=w.status)&&n<300?t._finished(e,v,i):a()}}}(this),w.onerror=function(){if(e[0].status!==s.CANCELED)return a()},(null!=(x=w.upload)?x:w).onprogress=b,c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&t(c,this.options.headers),c)(l=c[o])&&w.setRequestHeader(o,l);if(r=new FormData,this.options.params)for(m in A=this.options.params)k=A[m],r.append(m,k);for(S=0,C=e.length;S<C;S++)n=e[S],this.emit("sending",n,w,r);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,w,r),"FORM"===this.element.tagName)for(E=0,I=(N=this.element.querySelectorAll("input, textarea, select, button")).length;E<I;E++)if(p=(u=N[E]).getAttribute("name"),h=u.getAttribute("type"),"SELECT"===u.tagName&&u.hasAttribute("multiple"))for(D=0,O=(F=u.options).length;D<O;D++)(g=F[D]).selected&&r.append(p,g.value);else(!h||"checkbox"!==(L=h.toLowerCase())&&"radio"!==L||u.checked)&&r.append(p,u.value);for(d=j=0,P=e.length-1;0<=P?j<=P:j>=P;d=0<=P?++j:--j)r.append(this._getParamName(d),e[d],e[d].name);return this.submitRequest(w,r,e)},s.prototype.submitRequest=function(e,t,i){return e.send(t)},s.prototype._finished=function(e,t,i){var n,r,a;for(r=0,a=e.length;r<a;r++)(n=e[r]).status=s.SUCCESS,this.emit("success",n,t,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},s.prototype._errorProcessing=function(e,t,i){var n,r,a;for(r=0,a=e.length;r<a;r++)(n=e[r]).status=s.ERROR,this.emit("error",n,t,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},s}(n)).version="4.2.0",i.options={},i.optionsForElement=function(e){return e.getAttribute("id")?i.options[s(e.getAttribute("id"))]:void 0},i.instances=[],i.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},i.autoDiscover=!0,i.discover=function(){var e,t,n,s,r,a;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],(e=function(e){var t,i,s,r;for(r=[],i=0,s=e.length;i<s;i++)t=e[i],/(^| )dropzone($| )/.test(t.className)?r.push(n.push(t)):r.push(void 0);return r})(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),a=[],s=0,r=n.length;s<r;s++)t=n[s],!1!==i.optionsForElement(t)?a.push(new i(t)):a.push(void 0);return a},i.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],i.isBrowserSupported=function(){var e,t,n,s;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(t=0,n=(s=i.blacklistedBrowsers).length;t<n;t++)s[t].test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},c=function(e,t){var i,n,s,r;for(r=[],n=0,s=e.length;n<s;n++)(i=e[n])!==t&&r.push(i);return r},s=function(e){return e.replace(/[\-_](\w)/g,(function(e){return e.charAt(1).toUpperCase()}))},i.createElement=function(e){var t;return(t=document.createElement("div")).innerHTML=e,t.childNodes[0]},i.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},i.getElement=function(e,t){var i;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},i.getElements=function(e,t){var i,n,s,r,a,o,l;if(e instanceof Array){n=[];try{for(s=0,a=e.length;s<a;s++)i=e[s],n.push(this.getElement(i,t))}catch(e){e,n=null}}else if("string"==typeof e)for(n=[],r=0,o=(l=document.querySelectorAll(e)).length;r<o;r++)i=l[r],n.push(i);else null!=e.nodeType&&(n=[e]);if(null==n||!n.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},i.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},i.isValidFile=function(e,t){var i,n,s,r,a;if(!t)return!0;for(t=t.split(","),i=(n=e.type).replace(/\/.*$/,""),r=0,a=t.length;r<a;r++)if("."===(s=(s=t[r]).trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(s.toLowerCase(),e.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(i===s.replace(/\/.*$/,""))return!0}else if(n===s)return!0;return!1},null!=e&&(e.fn.dropzone=function(e){return this.each((function(){return new i(this,e)}))}),null!==t?t.exports=i:window.Dropzone=i,i.ADDED="added",i.QUEUED="queued",i.ACCEPTED=i.QUEUED,i.UPLOADING="uploading",i.PROCESSING=i.UPLOADING,i.CANCELED="canceled",i.ERROR="error",i.SUCCESS="success",a=function(e){var t,i,n,s,r,a,o,l;for(e.naturalWidth,r=e.naturalHeight,(t=document.createElement("canvas")).width=1,t.height=r,(i=t.getContext("2d")).drawImage(e,0,0),n=i.getImageData(0,0,1,r).data,l=0,s=r,a=r;a>l;)0===n[4*(a-1)+3]?s=a:l=a,a=s+l>>1;return 0===(o=a/r)?1:o},o=function(e,t,i,n,s,r,o,l,c,d){var u;return u=a(t),e.drawImage(t,i,n,s,r,o,l,c,d/u)},r=function(e,t){var i,n,s,r,a,o,l,c,d;if(s=!1,d=!0,n=e.document,c=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",o=n.addEventListener?"":"on",r=function(i){if("readystatechange"!==i.type||"complete"===n.readyState)return("load"===i.type?e:n)[l](o+i.type,r,!1),!s&&(s=!0)?t.call(e,i.type||i):void 0},a=function(){try{c.doScroll("left")}catch(e){return e,void setTimeout(a,50)}return r("poll")},"complete"!==n.readyState){if(n.createEventObject&&c.doScroll){try{d=!e.frameElement}catch(e){}d&&a()}return n[i](o+"DOMContentLoaded",r,!1),n[i](o+"readystatechange",r,!1),e[i](o+"load",r,!1)}},i._autoDiscoverFunction=function(){if(i.autoDiscover)return i.discover()},r(window,i._autoDiscoverFunction)}).call(this)}).call(this,i("6oy4"),i("Y4xB")(e))},vSQ9:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));const n="is-dragging",s={animation:200,forceFallback:!0,fallbackClass:n,fallbackOnBody:!0,ghostClass:"is-ghost",fallbackTolerance:1}},vniq:function(e,t,i){var n=i("TrLt");e.exports=function(e,t){if(e!==t){var i=void 0!==e,s=null===e,r=e==e,a=n(e),o=void 0!==t,l=null===t,c=t==t,d=n(t);if(!l&&!d&&!a&&e>t||a&&o&&c&&!l&&!d||s&&o&&c||!i&&c||!r)return 1;if(!s&&!a&&!d&&e<t||d&&i&&r&&!s&&!a||l&&i&&r||!o&&r||!c)return-1}return 0}},w7Q3:function(e,t,i){"use strict";i.d(t,"e",(function(){return n})),i.d(t,"a",(function(){return s})),i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return a})),i.d(t,"b",(function(){return o}));const n=["author","assignee","approved-by","reviewer","attention"],s={hint:"hint",operator:"operator"},r={none:"none",any:"any"},a=5,o={MERGE_REQUESTS:"merge_requests",ISSUES:"issues"}},wLNQ:function(e,t,i){"use strict";var n=i("H8gz"),s=i("nPFI"),r=i("5DNK"),a=i("9LGn"),o=i("/MVl"),l=i("qn5R"),c={components:{ClipboardButton:o.a,FileIcon:l.a,GlIcon:n.a,GlSprintf:s.a},directives:{GlTooltip:r.a,SafeHtml:a.a},props:{lines:{type:Array,required:!0},filePath:{type:String,required:!0},errorFn:{type:String,required:!1,default:""},errorLine:{type:Number,required:!1,default:0},errorColumn:{type:Number,required:!1,default:0},expanded:{type:Boolean,required:!1,default:!1}},data(){return{isExpanded:this.expanded}},computed:{hasCode(){return Boolean(this.lines.length)},collapseIcon(){return this.isExpanded?"chevron-down":"chevron-right"}},methods:{isHighlighted(e){return e===this.errorLine},toggle(){this.isExpanded=!this.isExpanded},lineNum:e=>e[0],lineCode:e=>e[1]},userColorScheme:window.gon.user_color_scheme},d=i("bPvS"),u={components:{StackTraceEntry:Object(d.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"file-holder"},[i("div",{ref:"header",staticClass:"file-title file-title-flex-parent"},[i("div",{staticClass:"file-header-content d-flex align-content-center"},[e.hasCode?i("div",{staticClass:"d-inline-block cursor-pointer",on:{click:function(t){return e.toggle()}}},[i("gl-icon",{staticClass:"gl-mr-2",attrs:{name:e.collapseIcon,size:16}})],1):e._e(),e._v(" "),i("file-icon",{attrs:{"file-name":e.filePath,size:16,"aria-hidden":"true","css-classes":"gl-mr-2"}}),e._v(" "),i("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"file-title-name d-inline-block overflow-hidden text-truncate limited-width",attrs:{title:e.filePath,"data-container":"body"}},[e._v("\n        "+e._s(e.filePath)+"\n      ")]),e._v(" "),i("clipboard-button",{attrs:{title:e.__("Copy file path"),text:e.filePath,category:"tertiary",size:"small","css-class":"gl-mr-1"}}),e._v(" "),e.errorFn?i("gl-sprintf",{attrs:{message:e.__("%{spanStart}in%{spanEnd} %{errorFn}")},scopedSlots:e._u([{key:"span",fn:function(t){var n=t.content;return[i("span",{staticClass:"gl-text-gray-200"},[e._v(e._s(n)+"")])]}},{key:"errorFn",fn:function(){return[i("strong",[e._v(e._s(e.errorFn)+"")])]},proxy:!0}],null,!1,1002891602)}):e._e(),e._v(" "),i("gl-sprintf",{attrs:{message:e.__("%{spanStart}at line%{spanEnd} %{errorLine}%{errorColumn}")},scopedSlots:e._u([{key:"span",fn:function(t){var n=t.content;return[i("span",{staticClass:"gl-text-gray-200"},[e._v(e._s(n)+"")])]}},{key:"errorLine",fn:function(){return[i("strong",[e._v(e._s(e.errorLine))])]},proxy:!0},{key:"errorColumn",fn:function(){return[e.errorColumn?i("strong",[e._v(":"+e._s(e.errorColumn))]):e._e()]},proxy:!0}])})],1)]),e._v(" "),e.isExpanded?i("table",{staticClass:"code js-syntax-highlight",class:e.$options.userColorScheme},[i("tbody",[e._l(e.lines,(function(t,n){return[i("tr",{key:"stacktrace-line-"+n,staticClass:"line_holder"},[i("td",{staticClass:"diff-line-num",class:{old:e.isHighlighted(e.lineNum(t))}},[e._v("\n            "+e._s(e.lineNum(t))+"\n          ")]),e._v(" "),i("td",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.lineCode(t),expression:"lineCode(line)"}],staticClass:"line_content",class:{old:e.isHighlighted(e.lineNum(t))}})])]}))],2)]):e._e()])}),[],!1,null,null,null).exports},props:{entries:{type:Array,required:!0}},methods:{isFirstEntry:e=>0===e}},p=Object(d.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"stacktrace"},e._l(e.entries,(function(t,n){return i("stack-trace-entry",{key:"stacktrace-entry-"+n,attrs:{lines:t.context,"file-path":t.filename,"error-line":t.lineNo,"error-fn":t.function,"error-column":t.colNo,expanded:e.isFirstEntry(n)}})})),1)}),[],!1,null,null,null);t.a=p.exports},wd1e:function(e,t,i){"use strict";function n(e,t){for(var i=[],n={},s=0;s<t.length;s++){var r=t[s],a=r[0],o={id:e+":"+s,css:r[1],media:r[2],sourceMap:r[3]};n[a]?n[a].parts.push(o):i.push(n[a]={id:a,parts:[o]})}return i}i.r(t),i.d(t,"default",(function(){return h}));var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},a=s&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,c=!1,d=function(){},u=null,p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e,t,i,s){c=i,u=s||{};var a=n(e,t);return m(a),function(t){for(var i=[],s=0;s<a.length;s++){var o=a[s];(l=r[o.id]).refs--,i.push(l)}t?m(a=n(e,t)):a=[];for(s=0;s<i.length;s++){var l;if(0===(l=i[s]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete r[l.id]}}}}function m(e){for(var t=0;t<e.length;t++){var i=e[t],n=r[i.id];if(n){n.refs++;for(var s=0;s<n.parts.length;s++)n.parts[s](i.parts[s]);for(;s<i.parts.length;s++)n.parts.push(g(i.parts[s]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var a=[];for(s=0;s<i.parts.length;s++)a.push(g(i.parts[s]));r[i.id]={id:i.id,refs:1,parts:a}}}}function f(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function g(e){var t,i,n=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(n){if(c)return d;n.parentNode.removeChild(n)}if(p){var s=l++;n=o||(o=f()),t=y.bind(null,n,s,!1),i=y.bind(null,n,s,!0)}else n=f(),t=k.bind(null,n),i=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else i()}}var v,b=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function y(e,t,i,n){var s=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=b(t,s);else{var r=document.createTextNode(s),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function k(e,t){var i=t.css,n=t.media,s=t.sourceMap;if(n&&e.setAttribute("media",n),u.ssrId&&e.setAttribute("data-vue-ssr-id",t.id),s&&(i+="\n/*# sourceURL="+s.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}},x3KW:function(e,t,i){"use strict";var n=i("SEpv"),s=i.n(n),r=i("uCy4"),a=i.n(r),o=i("Fcvx"),l=i("6EVx"),c=i("cuRJ"),d=i("tSMP"),u=i("H8gz"),p=i("6IRw"),h=i.n(p);const m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return("0"+e).slice(-t)};const f={components:{GlFormInput:d.a,GlIcon:u.a,GlButton:c.a},props:{target:{type:String,required:!1,default:""},container:{type:String,required:!1,default:""},value:{type:Date,required:!1,default:null},minDate:{type:Date,required:!1,default:null},maxDate:{type:Date,required:!1,default:null},startRange:{type:Date,required:!1,default:null},endRange:{type:Date,required:!1,default:null},disableDayFn:{type:Function,required:!1,default:null},firstDay:{type:Number,required:!1,default:0},ariaLabel:{type:String,required:!1,default:""},placeholder:{type:String,required:!1,default:o.r},autocomplete:{type:String,required:!1,default:""},disabled:{type:Boolean,required:!1,default:!1},displayField:{type:Boolean,required:!1,default:!0},startOpened:{type:Boolean,required:!1,default:!1},defaultDate:{type:Date,required:!1,default:null},i18n:{type:Object,required:!1,default:null},theme:{type:String,required:!1,default:""},showClearButton:{type:Boolean,required:!1,default:!1},inputId:{type:String,required:!1,default:null},inputLabel:{type:String,required:!1,default:"Enter date"},inputName:{type:String,required:!1,default:null},size:{type:String,required:!1,default:"medium",validator:e=>Object.keys(o.q).includes(e)}},data:()=>({textInput:""}),computed:{formattedDate(){return"calendar"in this?this.calendar.toString():""},customTrigger(){return s()(this.target)&&""!==this.target},triggerOnFocus(){return null===this.target},showDefaultField(){return!this.customTrigger||this.triggerOnFocus},renderClearButton(){return this.showClearButton&&""!==this.textInput&&!this.disabled},inputAutocomplete(){return""!==this.autocomplete?this.autocomplete:this.triggerOnFocus?"off":null},datepickerClasses(){return["gl-datepicker","d-inline-block","gl-w-full","gl-form-input-"+this.datepickerSize]},datepickerSize(){return o.q[this.size]}},watch:{value(e){Object(l.a)(e,this.calendar.getDate())||this.calendar.setDate(e,!0)},minDate(e){this.calendar.setMinDate(e)},maxDate(e){this.calendar.setMaxDate(e)},startRange(e){this.calendar.setStartRange(e)},endRange(e){this.calendar.setEndRange(e)}},mounted(){const e=this.$parent.$el,t=this.draw.bind(this),i={field:this.$el.querySelector('input[type="text"]'),theme:"gl-datepicker-theme position-absolute "+this.theme,defaultDate:this.defaultDate||this.value,setDefaultDate:Boolean(this.value)||Boolean(this.defaultDate),minDate:this.minDate,maxDate:this.maxDate,format:o.r,parse:e=>{const t=Date.parse(e.replace(/-/g,"/"));return Number.isNaN(t)?new Date:new Date(t)},disableDayFn:this.disableDayFn,firstDay:this.firstDay,ariaLabel:this.ariaLabel,toString:e=>(e=>{const t=m(e.getDate()),i=m(e.getMonth()+1);return`${e.getFullYear()}-${i}-${t}`})(e),onSelect:this.selected.bind(this),onClose:this.closed.bind(this),onOpen:this.opened.bind(this),onDraw:e=>{(e=>{const t=e.el.querySelectorAll(".pika-button"),i=new Date;t.forEach(e=>{const{pikaYear:t,pikaMonth:n,pikaDay:s}=e.dataset,r=new Date(t,n,s);var a,o;o=r,(a=i)&&o&&o.getTime()<a.getTime()&&e.classList.add("is-past-date")})})(e),t()}};if(!this.triggerOnFocus&&!this.disabled){const t=this.customTrigger?e.querySelector(this.target):this.$refs.calendarTriggerBtn.$el;i.trigger=t,!i.field&&this.customTrigger&&(i.field=t)}if(null!==this.container){const t=this.container?e.querySelector(this.container):this.$el;i.container=t}this.i18n&&(i.i18n=this.i18n),this.calendar=new a.a(i),this.startOpened&&this.calendar.show()},beforeDestroy(){this.calendar.destroy()},methods:{show(){this.calendar.show()},selected(e){this.$emit("input",e)},closed(){this.$emit("close")},opened(){this.$emit("open")},cleared(){this.textInput="",this.$emit("clear")},draw(){this.$emit("monthChange")},onKeydown(){if(""===this.textInput){const e=this.minDate||null;this.calendar.setDate(e),this.selected(e)}}}};const g=h()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.datepickerClasses},[e.showDefaultField?i("div",{staticClass:"gl-relative"},[e._t("default",(function(){return[i("gl-form-input",{staticClass:"gl-w-full",class:e.renderClearButton?"gl-pr-9!":"gl-pr-7!",attrs:{id:e.inputId,name:e.inputName,"data-testid":"gl-datepicker-input",value:e.formattedDate,placeholder:e.placeholder,autocomplete:e.inputAutocomplete,disabled:e.disabled,"aria-label":e.inputLabel},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onKeydown.apply(null,arguments)}},model:{value:e.textInput,callback:function(t){e.textInput=t},expression:"textInput"}})]}),{formattedDate:e.formattedDate}),e._v(" "),i("div",{staticClass:"gl-datepicker-actions"},[e.renderClearButton?i("gl-button",{staticClass:"gl-pointer-events-auto",attrs:{"data-testid":"clear-button","aria-label":"Clear date",category:"tertiary",size:"small",icon:"clear"},on:{click:e.cleared}}):e._e(),e._v(" "),e.triggerOnFocus||e.disabled?i("span",{staticClass:"gl-px-2",class:e.disabled?"gl-text-gray-400":"gl-text-gray-500",attrs:{"data-testid":"datepicker-calendar-icon"}},[i("gl-icon",{staticClass:"gl-display-block",attrs:{name:"calendar",size:16}})],1):i("gl-button",{ref:"calendarTriggerBtn",staticClass:"gl-pointer-events-auto",attrs:{"aria-label":"Open datepicker",category:"tertiary",size:"small",icon:"calendar"}})],1)],2):e._t("default",null,{formattedDate:e.formattedDate})],2)},staticRenderFns:[]},void 0,f,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=g},x94u:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateTimelineEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"TimelineEventCreateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineEventCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineEvent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"note"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"noteHtml"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"occurredAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:229}};i.loc.source={body:"mutation CreateTimelineEvent($input: TimelineEventCreateInput!) {\n  timelineEventCreate(input: $input) {\n    timelineEvent {\n      id\n      note\n      noteHtml\n      action\n      occurredAt\n      createdAt\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.CreateTimelineEvent=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"CreateTimelineEvent")},xFu9:function(e,t,i){"use strict";var n=i("kMtG"),s=i.n(n),r=i("Z2pp"),a=i("jyii"),o=i("/Zha"),l=i("gCUY"),c=i("9CRu"),d=i("qx9o"),u=i("Sq3g"),p=i("G55H"),h=i("KpC0"),m=i("fRhx"),f=i("YxAH"),g=i("p+a6"),v=i("1pIC"),b=i("GpHn"),y=i("7DqY"),k=i("EhLH");function w(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function _(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?w(Object(i),!0).forEach((function(t){S(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var E={mixins:[k.a],props:Object(l.c)(_(_({},k.b),{},{labelField:{type:String,default:"label"},optionsField:{type:String,default:"options"}}),"formOptions"),methods:{normalizeOption:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(p.j)(e)){var i=Object(y.a)(e,this.valueField),n=Object(y.a)(e,this.textField),s=Object(y.a)(e,this.optionsField,null);return Object(p.f)(s)?{value:Object(p.n)(i)?t||n:i,text:String(Object(p.n)(n)?t:n),html:Object(y.a)(e,this.htmlField),disabled:Boolean(Object(y.a)(e,this.disabledField))}:{label:String(Object(y.a)(e,this.labelField)||n),options:this.normalizeOptions(s)}}return{value:t||e,text:String(e),disabled:!1}}}},D=i("DQ7i"),T=Object(l.c)({value:{required:!0},disabled:{type:Boolean,default:!1}},a.B),C=r.a.extend({name:a.B,functional:!0,props:T,render:function(e,t){var i=t.props,n=t.data,s=t.children,r=i.value,a=i.disabled;return e("option",Object(D.a)(n,{attrs:{disabled:a},domProps:{value:r}}),s)}});function I(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function O(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?I(Object(i),!0).forEach((function(t){j(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function j(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var x=r.a.extend({name:a.C,mixins:[b.a,k.a],props:Object(l.c)(O(O({},k.b),{},{label:{type:String,required:!0}}),a.C),render:function(e){var t=this.formOptions.map((function(t,i){var n=t.value,s=t.text,r=t.html,a=t.disabled;return e(C,{attrs:{value:n,disabled:a},domProps:Object(u.a)(r,s),key:"option_".concat(i)})}));return e("optgroup",{attrs:{label:this.label}},[this.normalizeSlot(o.e),t,this.normalizeSlot()])}});function A(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function N(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?A(Object(i),!0).forEach((function(t){F(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):A(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function F(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var L=r.a.extend({name:a.A,mixins:[v.a,b.a,h.a,f.a,g.a,m.a,E],model:{prop:"value",event:"input"},props:Object(l.c)(N(N(N(N(N({},h.b),m.b),f.b),g.b),{},{value:{},multiple:{type:Boolean,default:!1},selectSize:{type:Number,default:0},ariaInvalid:{type:[Boolean,String],default:!1}}),a.A),data:function(){return{localValue:this.value}},computed:{computedSelectSize:function(){return this.plain||0!==this.selectSize?this.selectSize:null},inputClass:function(){return[this.plain?"form-control":"custom-select",this.size&&this.plain?"form-control-".concat(this.size):null,this.size&&!this.plain?"custom-select-".concat(this.size):null,this.stateClass]}},watch:{value:function(e){this.localValue=e},localValue:function(){this.$emit("input",this.localValue)}},methods:{focus:function(){Object(d.d)(this.$refs.input)},blur:function(){Object(d.c)(this.$refs.input)},onChange:function(e){var t=this,i=e.target,n=Object(c.c)(i.options).filter((function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));this.localValue=i.multiple?n:n[0],this.$nextTick((function(){t.$emit("change",t.localValue)}))}},render:function(e){var t=this.name,i=this.disabled,n=this.required,s=this.computedSelectSize,r=this.localValue,a=this.formOptions.map((function(t,i){var n=t.value,s=t.label,r=t.options,a=t.disabled,o="option_".concat(i);return Object(p.a)(r)?e(x,{props:{label:s,options:r},key:o}):e(C,{props:{value:n,disabled:a},domProps:Object(u.a)(t.html,t.text),key:o})}));return e("select",{class:this.inputClass,attrs:{id:this.safeId(),name:t,form:this.form||null,multiple:this.multiple||null,size:s,disabled:i,required:n,"aria-required":n?"true":null,"aria-invalid":this.computedAriaInvalid},on:{change:this.onChange},directives:[{name:"model",value:r}],ref:"input"},[this.normalizeSlot(o.e),a,this.normalizeSlot()])}}),P=i("Fcvx"),R=i("6IRw");const q={components:{BFormSelect:L},inheritAttrs:!1,props:{size:{type:[String,Object],required:!1,default:null,validator:e=>(s()(e)?Object.values(e):[e]).every(e=>Object.values(P.v).includes(e))}},computed:{cssClasses(){if(null===this.size)return[];if(s()(this.size)){const{default:e,...t}=this.size;return[...e?["gl-form-select-"+e]:[],...Object.entries(t).map(e=>{let[t,i]=e;return`gl-${t}-form-select-${i}`})]}return["gl-form-select-"+this.size]}}};const $=i.n(R)()({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-form-select",e._g(e._b({staticClass:"gl-form-select",class:e.cssClasses,scopedSlots:e._u([e._l(Object.keys(e.$slots),(function(t){return{key:t,fn:function(){return[e._t(t)]},proxy:!0}}))],null,!0)},"b-form-select",e.$attrs,!1),e.$listeners))},staticRenderFns:[]},void 0,q,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=$},xV1n:function(e,t,i){"use strict";i("bTQi");var n=i("H8gz"),s=i("u1ru"),r=i("5DNK"),a=i("cuRJ"),o=i("ly/8"),l=i("9LGn"),c=i("zqVt"),d=i("LkRf"),u=i("+lve"),p=i("oj/M"),h=i("yYHy"),m=i("t9l/"),f=i("Ng9o"),g=i("VqY4"),v=i("U2+R"),b=i("GZPK"),y={components:{IssueMilestone:i("MyrM").a,IssueAssignees:b.a,CiIcon:f.a,GlIcon:n.a,GlLink:s.a,GlTooltip:r.a,IssueWeight:function(){return i.e(10).then(i.bind(null,"zcEJ"))},IssueDueDate:c.a,GlButton:a.a,WorkItemDetailModal:g.a},directives:{GlTooltip:o.a,SafeHtml:l.a},mixins:[v.a],props:{canReorder:{type:Boolean,required:!1,default:!1},isLocked:{type:Boolean,required:!1,default:!1},lockedMessage:{type:String,required:!1,default:""},workItemType:{type:String,required:!1,default:""}},computed:{stateTitle(){return Object(m.h)('<span class="bold">%{state}</span> %{timeInWords}<br/><span class="text-tertiary">%{timestamp}</span>',{state:this.stateText,timeInWords:this.stateTimeInWords,timestamp:this.stateTimestamp})},iconClasses(){return`${this.iconClass} ic-${this.iconName}`},workItemId(){return Object(u.c)(d.o,this.idKey)}},methods:{handleTitleClick(e){if("TASK"===this.workItemType){if(Object(p.C)(e))return;e.preventDefault(),this.$refs.modal.show(),this.updateWorkItemIdUrlQuery(this.idKey)}},handleWorkItemDeleted(e){this.$emit("relatedIssueRemoveRequest",e)},updateWorkItemIdUrlQuery(e){Object(h.L)({url:Object(h.K)({work_item_id:e}),replace:!0})}}},k=i("bPvS"),w=Object(k.a)(y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"item-body d-flex align-items-center gl-py-3 gl-px-5",class:{"issuable-info-container":!e.canReorder,"card-body":e.canReorder,"gl-pr-2":e.canRemove}},[i("div",{staticClass:"item-contents gl-display-flex gl-align-items-center gl-flex-wrap gl-flex-grow-1 flex-xl-nowrap gl-min-h-7"},[i("div",{staticClass:"item-title d-flex align-items-xl-center mb-xl-0 gl-min-w-0"},[i("div",{ref:"iconElementXL"},[e.hasState?i("gl-icon",{ref:"iconElementXL",staticClass:"gl-mr-3",class:e.iconClasses,attrs:{name:e.iconName,title:e.stateTitle,"aria-label":e.state}}):e._e()],1),e._v(" "),i("gl-tooltip",{attrs:{target:function(){return e.$refs.iconElementXL}}},[i("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.stateTitle,expression:"stateTitle"}]})]),e._v(" "),e.confidential?i("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"confidential-icon gl-mr-2 align-self-baseline align-self-md-auto mt-xl-0",attrs:{name:"eye-slash",title:e.__("Confidential"),"aria-label":e.__("Confidential")}}):e._e(),e._v(" "),i("gl-link",{staticClass:"sortable-link gl-font-weight-normal",attrs:{href:e.computedPath,target:"_blank"},on:{click:e.handleTitleClick}},[e._v("\n        "+e._s(e.title)+"\n      ")])],1),e._v(" "),i("div",{staticClass:"item-info-area d-flex flex-xl-grow-1 flex-shrink-0"},[i("div",{staticClass:"item-meta d-flex flex-wrap-reverse justify-content-start justify-content-md-between"},[i("div",{staticClass:"item-path-area item-path-id d-flex align-items-center mr-2 mt-2 mt-xl-0 ml-xl-2"},[i("gl-tooltip",{attrs:{target:function(){return e.$refs.iconElement}}},[i("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.stateTitle,expression:"stateTitle"}]})]),e._v(" "),i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"path-id-text d-inline-block",attrs:{title:e.itemPath}},[e._v(e._s(e.itemPath))]),e._v(" "),i("span",[e._v(e._s(e.pathIdSeparator)+e._s(e.itemId))])],1),e._v(" "),i("div",{staticClass:"item-attributes-area d-flex align-items-center mt-2 mt-xl-0"},[e.hasPipeline?i("span",{staticClass:"mr-ci-status order-md-last"},[i("a",{attrs:{href:e.pipelineStatus.details_path}},[i("ci-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{status:e.pipelineStatus,title:e.pipelineStatusTooltip}})],1)]):e._e(),e._v(" "),e.hasMilestone?i("issue-milestone",{staticClass:"d-flex align-items-center item-milestone order-md-first ml-md-0",attrs:{milestone:e.milestone}}):e._e(),e._v(" "),e.weight>0?i("span",{staticClass:"order-md-1"},[i("issue-weight",{staticClass:"item-weight gl-display-flex gl-align-items-center",attrs:{weight:e.weight,"tag-name":"span"}})],1):e._e(),e._v(" "),e.dueDate?i("span",{staticClass:"order-md-1"},[i("issue-due-date",{attrs:{date:e.dueDate,closed:Boolean(e.closedAt),"tooltip-placement":"top","css-class":"item-due-date gl-display-flex gl-align-items-center"}})],1):e._e(),e._v(" "),e.hasAssignees?i("issue-assignees",{staticClass:"item-assignees align-items-center align-self-end flex-shrink-0 order-md-2 d-none d-md-flex",attrs:{assignees:e.assignees}}):e._e()],1)]),e._v(" "),0!==e.assignees.length?i("issue-assignees",{staticClass:"item-assignees d-flex align-items-center align-self-end flex-shrink-0 d-md-none gl-ml-3",attrs:{assignees:e.assignees}}):e._e()],1)]),e._v(" "),e.isLocked?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-px-3 gl-display-inline-block gl-cursor-not-allowed",attrs:{title:e.lockedMessage,"data-testid":"lockIcon"}},[i("gl-icon",{attrs:{name:"lock"}})],1):e.canRemove?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-issue-item-remove-button gl-ml-3",attrs:{icon:"close",category:"tertiary",disabled:e.removeDisabled,"data-qa-selector":"remove_related_issue_button",title:e.__("Remove"),"aria-label":e.__("Remove")},on:{click:e.onRemoveRequest}}):e._e(),e._v(" "),i("work-item-detail-modal",{ref:"modal",attrs:{"work-item-id":e.workItemId},on:{close:e.updateWorkItemIdUrlQuery,workItemDeleted:e.handleWorkItemDeleted}})],1)}),[],!1,null,null,null);t.a=w.exports},xvTi:function(e,t,i){"use strict";i("h8Et"),i("WmlO"),i("3R5X"),i("W9Nl");var n=i("zLBL"),s=i("5DNK"),r=i("nPFI"),a=i("OkMp"),o=i("0X+3"),l=i("cuRJ"),c=i("teVv"),d=i("mVy/"),u=i("Q1Ax"),p=i.n(u),h=i("6zJf"),m={i18n:d.a,components:{GlLoadingIcon:n.a,GlTooltip:s.a,GlSprintf:r.a,GlDropdown:a.a,GlDropdownItem:o.a,GlButton:l.a,SeverityToken:h.a},inject:["canUpdate"],props:{projectPath:{type:String,required:!0},iid:{type:String,required:!0},initialSeverity:{type:String,required:!1,default:d.b.UNKNOWN.value},issuableType:{type:String,required:!1,default:d.c.INCIDENT,validator:function(e){return[d.c.INCIDENT].includes(e)}}},data(){return{isDropdownShowing:!1,isUpdating:!1,severity:this.initialSeverity}},computed:{severitiesList(){switch(this.issuableType){case d.c.INCIDENT:return Object.values(d.b);default:return[]}},dropdownClass(){return this.isDropdownShowing?"show":"gl-display-none"},selectedItem(){var e=this;return this.severitiesList.find((function(t){return t.value===e.severity}))}},mounted(){document.addEventListener("click",this.handleOffClick)},beforeDestroy(){document.removeEventListener("click",this.handleOffClick)},methods:{handleOffClick(e){this.isDropdownShowing&&(this.$refs.sidebarSeverity.contains(e.target)||this.hideDropdown())},hideDropdown(){this.isDropdownShowing=!1;const e=new Event("hidden.gl.dropdown");this.$el.dispatchEvent(e)},toggleFormDropdown(){this.isDropdownShowing=!this.isDropdownShowing},updateSeverity(e){var t=this;this.hideDropdown(),this.isUpdating=!0,this.$apollo.mutate({mutation:p.a,variables:{iid:this.iid,severity:e,projectPath:this.projectPath}}).then((function(e){const{data:{issueSetSeverity:{errors:i=[],issue:{severity:n}}}}=e;if(i[0])throw i[0];t.severity=n})).catch((function(){return Object(c.createAlert)({message:`${t.$options.i18n.UPDATE_SEVERITY_ERROR} ${t.$options.i18n.TRY_AGAIN}`})})).finally((function(){t.isUpdating=!1}))}}},f=i("bPvS"),g=Object(f.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"sidebarSeverity",staticClass:"block"},[i("div",{ref:"severity",staticClass:"sidebar-collapsed-icon",on:{click:e.toggleFormDropdown}},[i("severity-token",{attrs:{severity:e.selectedItem,"icon-size":14,"icon-only":!0}}),e._v(" "),i("gl-tooltip",{attrs:{target:function(){return e.$refs.severity},boundary:"viewport",placement:"left"}},[i("gl-sprintf",{attrs:{message:e.$options.i18n.SEVERITY_VALUE},scopedSlots:e._u([{key:"severity",fn:function(){return[e._v("\n          "+e._s(e.selectedItem.label)+"\n        ")]},proxy:!0}])})],1)],1),e._v(" "),i("div",{staticClass:"hide-collapsed"},[i("div",{staticClass:"gl-display-flex gl-align-items-center gl-line-height-20 gl-text-gray-900 gl-font-weight-bold"},[e._v("\n      "+e._s(e.$options.i18n.SEVERITY)+"\n      "),e.canUpdate?i("gl-button",{staticClass:"gl-ml-auto hide-collapsed gl-mr-n2",attrs:{category:"tertiary",size:"small","data-testid":"editButton"},on:{click:e.toggleFormDropdown,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hideDropdown.apply(null,arguments)}}},[e._v("\n        "+e._s(e.$options.i18n.EDIT)+"\n      ")]):e._e()],1),e._v(" "),i("gl-dropdown",{staticClass:"gl-mt-3",class:e.dropdownClass,attrs:{block:"","header-text":e.__("Assign severity"),text:e.selectedItem.label,"toggle-class":"dropdown-menu-toggle gl-mb-2"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hideDropdown.apply(null,arguments)}}},e._l(e.severitiesList,(function(t){return i("gl-dropdown-item",{key:t.value,attrs:{"data-testid":"severityDropdownItem","is-check-item":"","is-checked":t.value===e.severity},on:{click:function(i){return e.updateSeverity(t.value)}}},[i("severity-token",{attrs:{severity:t}})],1)})),1),e._v(" "),e.isUpdating?i("gl-loading-icon",{attrs:{size:"sm",inline:!0}}):e.isDropdownShowing?e._e():i("severity-token",{attrs:{severity:e.selectedItem}})],1)])}),[],!1,null,null,null);t.a=g.exports},y7PY:function(e,t,i){var n,s,r;r=this,n=[i("6oy4")],void 0===(s=function(e){return r.returnExportsGlobal=function(e){"use strict";var t,i,n,s,r,a,o,l;t=function(){function t(e){this.$inputor=e,this.domInputor=this.$inputor[0]}return t.prototype.setPos=function(e){var t,i,n,s;return(s=o.getSelection())&&(n=0,i=!1,(t=function(e,r){var o,l,c,d,u,p;for(p=[],c=0,d=(u=r.childNodes).length;c<d&&(o=u[c],!i);c++)if(3===o.nodeType){if(n+o.length>=e){i=!0,(l=a.createRange()).setStart(o,e-n),s.removeAllRanges(),s.addRange(l);break}p.push(n+=o.length)}else p.push(t(e,o));return p})(e,this.domInputor)),this.domInputor},t.prototype.getIEPosition=function(){return this.getPosition()},t.prototype.getPosition=function(){var e,t;return t=this.getOffset(),e=this.$inputor.offset(),t.left-=e.left,t.top-=e.top,t},t.prototype.getOldIEPos=function(){var e,t;return t=a.selection.createRange(),(e=a.body.createTextRange()).moveToElementText(this.domInputor),e.setEndPoint("EndToEnd",t),e.text.length},t.prototype.getPos=function(){var e,t,i;return(i=this.range())?((e=i.cloneRange()).selectNodeContents(this.domInputor),e.setEnd(i.endContainer,i.endOffset),t=e.toString().length,e.detach(),t):a.selection?this.getOldIEPos():void 0},t.prototype.getOldIEOffset=function(){var e,t;return(e=a.selection.createRange().duplicate()).moveStart("character",-1),{height:(t=e.getBoundingClientRect()).bottom-t.top,left:t.left,top:t.top}},t.prototype.getOffset=function(t){var i,n,s,r,l;return o.getSelection&&(s=this.range())?(s.endOffset-1>0&&s.endContainer!==this.domInputor&&((i=s.cloneRange()).setStart(s.endContainer,s.endOffset-1),i.setEnd(s.endContainer,s.endOffset),n={height:(r=i.getBoundingClientRect()).height,left:r.left+r.width,top:r.top},i.detach()),n&&0!==(null!=n?n.height:void 0)||(i=s.cloneRange(),l=e(a.createTextNode("|")),i.insertNode(l[0]),i.selectNode(l[0]),n={height:(r=i.getBoundingClientRect()).height,left:r.left,top:r.top},l.remove(),i.detach())):a.selection&&(n=this.getOldIEOffset()),n&&(n.top+=e(o).scrollTop(),n.left+=e(o).scrollLeft()),n},t.prototype.range=function(){var e;if(o.getSelection)return(e=o.getSelection()).rangeCount>0?e.getRangeAt(0):null},t}(),i=function(){function t(e){this.$inputor=e,this.domInputor=this.$inputor[0]}return t.prototype.getIEPos=function(){var e,t,i,n,s,r;return t=this.domInputor,n=0,(s=a.selection.createRange())&&s.parentElement()===t&&(i=t.value.replace(/\r\n/g,"\n").length,(r=t.createTextRange()).moveToBookmark(s.getBookmark()),(e=t.createTextRange()).collapse(!1),n=r.compareEndPoints("StartToEnd",e)>-1?i:-r.moveStart("character",-i)),n},t.prototype.getPos=function(){return a.selection?this.getIEPos():this.domInputor.selectionStart},t.prototype.setPos=function(e){var t,i;return t=this.domInputor,a.selection?((i=t.createTextRange()).move("character",e),i.select()):t.setSelectionRange&&t.setSelectionRange(e,e),t},t.prototype.getIEOffset=function(e){var t;return t=this.domInputor.createTextRange(),e||(e=this.getPos()),t.move("character",e),{left:t.boundingLeft,top:t.boundingTop,height:t.boundingHeight}},t.prototype.getOffset=function(t){var i,n,s;return i=this.$inputor,a.selection?((n=this.getIEOffset(t)).top+=e(o).scrollTop()+i.scrollTop(),n.left+=e(o).scrollLeft()+i.scrollLeft(),n):(n=i.offset(),s=this.getPosition(t),{left:n.left+s.left-i.scrollLeft(),top:n.top+s.top-i.scrollTop(),height:s.height})},t.prototype.getPosition=function(e){var t,i,s,r,a;return t=this.$inputor,s=function(e){return e=e.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(e=e.replace(/\s/g,"&nbsp;")),e},void 0===e&&(e=this.getPos()),a=t.val().slice(0,e),i=t.val().slice(e),r="<span style='position: relative; display: inline;'>"+s(a)+"</span>",r+="<span id='caret' style='position: relative; display: inline;'>|</span>",r+="<span style='position: relative; display: inline;'>"+s(i)+"</span>",new n(t).create(r).rect()},t.prototype.getIEPosition=function(e){var t,i;return i=this.getIEOffset(e),t=this.$inputor.offset(),{left:i.left-t.left,top:i.top-t.top,height:i.height}},t}(),n=function(){function t(e){this.$inputor=e}return t.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],t.prototype.mirrorCss=function(){var t,i=this;return t={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),e.each(this.css_attr,(function(e,n){return t[n]=i.$inputor.css(n)})),t},t.prototype.create=function(t){return this.$mirror=e("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(t),this.$inputor.after(this.$mirror),this},t.prototype.rect=function(){var e,t,i;return i={left:(t=(e=this.$mirror.find("#caret")).position()).left,top:t.top,height:e.height()},this.$mirror.remove(),i},t}(),s={contentEditable:function(e){return!(!e[0].contentEditable||"true"!==e[0].contentEditable)}},r={pos:function(e){return e||0===e?this.setPos(e):this.getPos()},position:function(e){return a.selection?this.getIEPosition(e):this.getPosition(e)},offset:function(e){return this.getOffset(e)}},a=null,o=null,l=function(e){var t;return(t=null!=e?e.iframe:void 0)?(o=t.contentWindow,a=t.contentDocument||o.document):(o=window,a=document)},e.fn.caret=function(n,a,o){var c;return r[n]?(e.isPlainObject(a)?(l(a),a=void 0):l(o),c=s.contentEditable(this)?new t(this):new i(this),r[n].apply(c,[a])):e.error("Method "+n+" does not exist on jQuery.caret")},e.fn.caret.EditableCaret=t,e.fn.caret.InputCaret=i,e.fn.caret.Utils=s,e.fn.caret.apis=r}(e)}.apply(t,n))||(e.exports=s)},yZaS:function(e,t,i){"use strict";i.d(t,"F",(function(){return n})),i.d(t,"X",(function(){return s})),i.d(t,"L",(function(){return r})),i.d(t,"B",(function(){return a})),i.d(t,"W",(function(){return o})),i.d(t,"T",(function(){return l})),i.d(t,"i",(function(){return c})),i.d(t,"u",(function(){return d})),i.d(t,"r",(function(){return u})),i.d(t,"G",(function(){return p})),i.d(t,"S",(function(){return h})),i.d(t,"V",(function(){return m})),i.d(t,"db",(function(){return f})),i.d(t,"C",(function(){return g})),i.d(t,"J",(function(){return v})),i.d(t,"K",(function(){return b})),i.d(t,"s",(function(){return y})),i.d(t,"t",(function(){return k})),i.d(t,"I",(function(){return w})),i.d(t,"Ab",(function(){return _})),i.d(t,"j",(function(){return S})),i.d(t,"H",(function(){return E})),i.d(t,"q",(function(){return D})),i.d(t,"o",(function(){return T})),i.d(t,"Q",(function(){return C})),i.d(t,"xb",(function(){return I})),i.d(t,"yb",(function(){return O})),i.d(t,"D",(function(){return j})),i.d(t,"P",(function(){return x})),i.d(t,"wb",(function(){return A})),i.d(t,"U",(function(){return N})),i.d(t,"R",(function(){return F})),i.d(t,"zb",(function(){return L})),i.d(t,"N",(function(){return P})),i.d(t,"M",(function(){return R})),i.d(t,"O",(function(){return q})),i.d(t,"Z",(function(){return $})),i.d(t,"E",(function(){return B})),i.d(t,"l",(function(){return M})),i.d(t,"m",(function(){return U})),i.d(t,"c",(function(){return V})),i.d(t,"b",(function(){return z})),i.d(t,"a",(function(){return W})),i.d(t,"n",(function(){return H})),i.d(t,"p",(function(){return G})),i.d(t,"bb",(function(){return K})),i.d(t,"cb",(function(){return Y})),i.d(t,"ab",(function(){return Q})),i.d(t,"ub",(function(){return X})),i.d(t,"tb",(function(){return J})),i.d(t,"vb",(function(){return Z})),i.d(t,"sb",(function(){return ee})),i.d(t,"Y",(function(){return te})),i.d(t,"v",(function(){return ie})),i.d(t,"z",(function(){return ne})),i.d(t,"y",(function(){return se})),i.d(t,"x",(function(){return re})),i.d(t,"A",(function(){return ae})),i.d(t,"w",(function(){return oe})),i.d(t,"g",(function(){return le})),i.d(t,"h",(function(){return ce})),i.d(t,"d",(function(){return de})),i.d(t,"e",(function(){return ue})),i.d(t,"f",(function(){return pe})),i.d(t,"k",(function(){return he})),i.d(t,"eb",(function(){return me})),i.d(t,"fb",(function(){return fe})),i.d(t,"gb",(function(){return ge})),i.d(t,"kb",(function(){return ve})),i.d(t,"lb",(function(){return be})),i.d(t,"hb",(function(){return ye})),i.d(t,"nb",(function(){return ke})),i.d(t,"mb",(function(){return we})),i.d(t,"jb",(function(){return _e})),i.d(t,"rb",(function(){return Se})),i.d(t,"qb",(function(){return Ee})),i.d(t,"ib",(function(){return De})),i.d(t,"pb",(function(){return Te})),i.d(t,"ob",(function(){return Ce}));const n="inline",s="parallel",r="match",a="expanded",o="old-nonewline",l="new-nonewline",c="context",d="empty-cell",u="DiffNote",p="LegacyDiffNote",h="new",m="old",f="text",g="image",v="left",b="right",y="diff_view",k="diff_whitespace",w="is-over",_=20,S=3,E=17,D="120000",T="0",C="mr_tree_show",I="mr_diff_tree_list",O="mr_tree_list_width",j=320,x=240,A=260,N="old_line",F="new_line",L="type",P=500,R=30,q=2,$=200,B="highlighted_diff_lines",M=-1,U=-2,V="overflow",z="merge-conflict",W="collapsed",H="automatic",G="manual",K="idle",Y="loading",Q="errored",X="LOAD_START",J="LOAD_ERROR",Z="LOAD_SUCCEED",ee="ACKNOWLEDGE_ERROR",te={[`${K}:${X}`]:Y,[`${Y}:${J}`]:Q,[`${Y}:${Z}`]:K,[`${Q}:${X}`]:Y,[`${Q}:${ee}`]:K},ie="mr:diffs:expandAllFiles",ne="mr:diffs:perf:fileTreeStart",se="mr:diffs:perf:fileTreeEnd",re="mr:diffs:perf:filesStart",ae="mr:diffs:perf:firstFileShown",oe="mr:diffs:perf:filesEnd",le="conflict_our",ce="conflict_their",de="conflict_marker",ue="conflict_marker_our",pe="conflict_marker_their",he=750,me="code_review_events_dispatched",fe=864e5,ge="i_code_review_click_diff_view_setting",ve="i_code_review_diff_view_inline",be="i_code_review_diff_view_parallel",ye="i_code_review_click_file_browser_setting",ke="i_code_review_file_browser_tree_view",we="i_code_review_file_browser_list_view",_e="i_code_review_click_whitespace_setting",Se="i_code_review_diff_show_whitespace",Ee="i_code_review_diff_hide_whitespace",De="i_code_review_click_single_file_mode_setting",Te="i_code_review_diff_single_file",Ce="i_code_review_diff_multiple_files"},yxQL:function(e,t,i){"use strict";i.d(t,"b",(function(){return E}));var n=i("ZOY3"),s=i("jyii"),r=i("ryFn"),a=i("ioEp"),o=i("gCUY"),l=i("qx9o"),c=i("BhOj"),d=i("G55H"),u=i("9Q7u"),p=i("gHjZ"),h=i("iryQ"),m=i("UVyR"),f={data:function(){return{listenForClickOut:!1}},watch:{listenForClickOut:function(e,t){e!==t&&(Object(c.a)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,m.a),e&&Object(c.b)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,m.a))}},beforeCreate:function(){this.clickOutElement=null,this.clickOutEventName=null},mounted:function(){this.clickOutElement||(this.clickOutElement=document),this.clickOutEventName||(this.clickOutEventName="click"),this.listenForClickOut&&Object(c.b)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,m.a)},beforeDestroy:function(){Object(c.a)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,m.a)},methods:{isClickOut:function(e){return!Object(l.f)(this.$el,e.target)},_clickOutHandler:function(e){this.clickOutHandler&&this.isClickOut(e)&&this.clickOutHandler(e)}}},g={data:function(){return{listenForFocusIn:!1}},watch:{listenForFocusIn:function(e,t){e!==t&&(Object(c.a)(this.focusInElement,"focusin",this._focusInHandler,m.a),e&&Object(c.b)(this.focusInElement,"focusin",this._focusInHandler,m.a))}},beforeCreate:function(){this.focusInElement=null},mounted:function(){this.focusInElement||(this.focusInElement=document),this.listenForFocusIn&&Object(c.b)(this.focusInElement,"focusin",this._focusInHandler,m.a)},beforeDestroy:function(){Object(c.a)(this.focusInElement,"focusin",this._focusInHandler,m.a)},methods:{_focusInHandler:function(e){this.focusInHandler&&this.focusInHandler(e)}}},v=i("1pIC");function b(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?b(Object(i),!0).forEach((function(t){k(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function k(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var w="".concat("bv::dropdown::","shown"),_="".concat("bv::dropdown::","hidden"),S=[".dropdown-item",".b-dropdown-form"].map((function(e){return"".concat(e,":not(.disabled):not([disabled])")})).join(", "),E=y(y({},Object(o.c)({dropup:{type:Boolean,default:!1},dropright:{type:Boolean,default:!1},dropleft:{type:Boolean,default:!1},right:{type:Boolean,default:!1},offset:{type:[Number,String],default:0},noFlip:{type:Boolean,default:!1},popperOpts:{type:Object,default:function(){}},boundary:{type:[String,p.b],default:"scrollParent"}},s.k)),Object(o.c)({disabled:{type:Boolean,default:!1}},s.k));t.a={mixins:[v.a,f,g],provide:function(){return{bvDropdown:this}},inject:{bvNavbar:{default:null}},props:E,data:function(){return{visible:!1,visibleChangePrevented:!1}},computed:{inNavbar:function(){return!Object(d.f)(this.bvNavbar)},toggler:function(){var e=this.$refs.toggle;return e?e.$el||e:null},directionClass:function(){return this.dropup?"dropup":this.dropright?"dropright":this.dropleft?"dropleft":""},boundaryClass:function(){return"scrollParent"===this.boundary||this.inNavbar?"":"position-static"}},watch:{visible:function(e,t){if(this.visibleChangePrevented)this.visibleChangePrevented=!1;else if(e!==t){var i=e?"show":"hide",n=new a.a(i,{cancelable:!0,vueTarget:this,target:this.$refs.menu,relatedTarget:null,componentId:this.safeId?this.safeId():this.id||null});if(this.emitEvent(n),n.defaultPrevented)return this.visibleChangePrevented=!0,this.visible=t,void this.$off("hidden",this.focusToggler);"show"===i?this.showMenu():this.hideMenu()}},disabled:function(e,t){e!==t&&e&&this.visible&&(this.visible=!1)}},created:function(){this.$_popper=null,this.$_hideTimeout=null},deactivated:function(){this.visible=!1,this.whileOpenListen(!1),this.destroyPopper()},beforeDestroy:function(){this.visible=!1,this.whileOpenListen(!1),this.destroyPopper(),this.clearHideTimeout()},methods:{emitEvent:function(e){var t=e.type;this.$emit(t,e),this.$root.$emit("".concat("bv::dropdown::").concat(t),e)},showMenu:function(){var e=this;if(!this.disabled){if(!this.inNavbar)if(void 0===n.default)Object(h.a)("Popper.js not found. Falling back to CSS positioning",s.k);else{var t=this.dropup&&this.right||this.split?this.$el:this.$refs.toggle;t=t.$el||t,this.createPopper(t)}this.$root.$emit(w,this),this.whileOpenListen(!0),this.$nextTick((function(){e.focusMenu(),e.$emit("shown")}))}},hideMenu:function(){this.whileOpenListen(!1),this.$root.$emit(_,this),this.$emit("hidden"),this.destroyPopper()},createPopper:function(e){this.destroyPopper(),this.$_popper=new n.default(e,this.$refs.menu,this.getPopperConfig())},destroyPopper:function(){this.$_popper&&this.$_popper.destroy(),this.$_popper=null},updatePopper:function(){try{this.$_popper.scheduleUpdate()}catch(e){}},clearHideTimeout:function(){clearTimeout(this.$_hideTimeout),this.$_hideTimeout=null},getPopperConfig:function(){var e="bottom-start";this.dropup?e=this.right?"top-end":"top-start":this.dropright?e="right-start":this.dropleft?e="left-start":this.right&&(e="bottom-end");var t={placement:e,modifiers:{offset:{offset:this.offset||0},flip:{enabled:!this.noFlip}}},i=this.boundary;return i&&(t.modifiers.preventOverflow={boundariesElement:i}),Object(u.i)(t,this.popperOpts||{})},whileOpenListen:function(e){this.listenForClickOut=e,this.listenForFocusIn=e;var t=e?"$on":"$off";this.$root[t](w,this.rootCloseListener)},rootCloseListener:function(e){e!==this&&(this.visible=!1)},show:function(){var e=this;this.disabled||Object(l.B)((function(){e.visible=!0}))},hide:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.disabled||(this.visible=!1,e&&this.$once("hidden",this.focusToggler))},toggle:function(e){var t=e=e||{},i=t.type,n=t.keyCode;("click"===i||"keydown"===i&&-1!==[r.c,r.h,r.a].indexOf(n))&&(this.disabled?this.visible=!1:(this.$emit("toggle",e),Object(c.d)(e),this.visible?this.hide(!0):this.show()))},onMousedown:function(e){Object(c.d)(e,{propagation:!1})},onKeydown:function(e){var t=e.keyCode;t===r.d?this.onEsc(e):t===r.a?this.focusNext(e,!1):t===r.i&&this.focusNext(e,!0)},onEsc:function(e){this.visible&&(this.visible=!1,Object(c.d)(e),this.$once("hidden",this.focusToggler))},onSplitClick:function(e){this.disabled?this.visible=!1:this.$emit("click",e)},hideHandler:function(e){var t=this,i=e.target;!this.visible||Object(l.f)(this.$refs.menu,i)||Object(l.f)(this.toggler,i)||(this.clearHideTimeout(),this.$_hideTimeout=setTimeout((function(){return t.hide()}),this.inNavbar?300:0))},clickOutHandler:function(e){this.hideHandler(e)},focusInHandler:function(e){this.hideHandler(e)},focusNext:function(e,t){var i=this,n=e.target;!this.visible||e&&Object(l.e)(".dropdown form",n)||(Object(c.d)(e),this.$nextTick((function(){var e=i.getItems();if(!(e.length<1)){var s=e.indexOf(n);t&&s>0?s--:!t&&s<e.length-1&&s++,s<0&&(s=0),i.focusItem(s,e)}})))},focusItem:function(e,t){var i=t.find((function(t,i){return i===e}));Object(l.d)(i)},getItems:function(){return(Object(l.D)(S,this.$refs.menu)||[]).filter(l.u)},focusMenu:function(){Object(l.d)(this.$refs.menu)},focusToggler:function(){var e=this;this.$nextTick((function(){Object(l.d)(e.toggler)}))}}}},zcEJ:function(e,t,i){"use strict";i.r(t),t.default={render:function(){return null}}},zdec:function(e,t,i){"use strict";t.a={itemsLimit:1e3}},zqVt:function(e,t,i){"use strict";var n=i("H8gz"),s=i("5DNK"),r=i("fIxa"),a=i("U1Ws"),o=i("t9l/"),l={components:{GlIcon:n.a,GlTooltip:s.a},props:{closed:{type:Boolean,required:!1,default:!1},date:{type:String,required:!0},cssClass:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"bottom"}},computed:{title(){const e=Object(a.r)(),{timeDifference:t,standardDateFormat:i}=this,n=i;return t>=-1&&t<7?`${e.format(this.issueDueDate)} (${n})`:e.format(this.issueDueDate)},body(){const{timeDifference:e,issueDueDate:t,standardDateFormat:i}=this;return 0===e?Object(o.a)("Today"):1===e?Object(o.a)("Tomorrow"):-1===e?Object(o.a)("Yesterday"):e>0&&e<7?Object(r.a)(t,"dddd"):i},issueDueDate(){return Object(a.z)(this.date)},timeDifference(){const e=new Date;return Object(a.n)(e,this.issueDueDate)},isPastDue(){return!(this.timeDifference>=0||this.closed)},standardDateFormat(){const e=(new Date).getFullYear()===this.issueDueDate.getFullYear();return Object(a.c)(this.issueDueDate,!0,e)}}},c=i("bPvS"),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[i("span",{ref:"issueDueDate",staticClass:"board-card-info gl-mr-3 gl-text-secondary gl-cursor-help",class:e.cssClass},[i("gl-icon",{staticClass:"board-card-info-icon gl-mr-2",class:{"text-danger":e.isPastDue},attrs:{name:"calendar"}}),e._v(" "),i("time",{staticClass:"board-card-info-text",class:{"text-danger":e.isPastDue},attrs:{datetime:"date"}},[e._v(e._s(e.body))])],1),e._v(" "),i("gl-tooltip",{attrs:{target:function(){return e.$refs.issueDueDate},placement:e.tooltipPlacement}},[i("span",{staticClass:"bold"},[e._v(e._s(e.__("Due date")))]),e._v(" "),i("br"),e._v(" "),i("span",{class:{"text-danger-muted":e.isPastDue}},[e._v(e._s(e.title))])])],1)}),[],!1,null,null,null);t.a=d.exports}},[[192,1,0,2,3,4,5,6,7,8,9,11,12,13,15,17,19,20,21,22,23]]]);
//# sourceMappingURL=pages.projects.issues.new.6e0d8dce.chunk.js.map